/*! For license information please see main.51fd89a1.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},153:(e,t,n)=>{var a=n(43),r=Symbol.for("react.element"),s=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,i=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var a,s={},c=null,d=null;for(a in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)l.call(t,a)&&!o.hasOwnProperty(a)&&(s[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps)void 0===s[a]&&(s[a]=t[a]);return{$$typeof:r,type:e,key:c,ref:d,props:s,_owner:i.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),a=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),h=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}function x(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},x.prototype=v.prototype;var y=b.prototype=new x;y.constructor=b,f(y,v.prototype),y.isPureReactComponent=!0;var j=Array.isArray,w=Object.prototype.hasOwnProperty,k={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function N(e,t,a){var r,s={},l=null,i=null;if(null!=t)for(r in void 0!==t.ref&&(i=t.ref),void 0!==t.key&&(l=""+t.key),t)w.call(t,r)&&!_.hasOwnProperty(r)&&(s[r]=t[r]);var o=arguments.length-2;if(1===o)s.children=a;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(r in o=e.defaultProps)void 0===s[r]&&(s[r]=o[r]);return{$$typeof:n,type:e,key:l,ref:i,props:s,_owner:k.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function P(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function E(e,t,r,s,l){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var o=!1;if(null===e)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case n:case a:o=!0}}if(o)return l=l(o=e),e=""===s?"."+P(o,0):s,j(l)?(r="",null!=e&&(r=e.replace(C,"$&/")+"/"),E(l,t,r,"",function(e){return e})):null!=l&&(S(l)&&(l=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(l,r+(!l.key||o&&o.key===l.key?"":(""+l.key).replace(C,"$&/")+"/")+e)),t.push(l)),1;if(o=0,s=""===s?".":s+":",j(e))for(var c=0;c<e.length;c++){var d=s+P(i=e[c],c);o+=E(i,t,r,d,l)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(i=e.next()).done;)o+=E(i=i.value,t,r,d=s+P(i,c++),l);else if("object"===i)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function M(e,t,n){if(null==e)return e;var a=[],r=0;return E(e,a,"","",function(e){return t.call(n,e,r++)}),a}function I(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},R={transition:null},T={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:R,ReactCurrentOwner:k};t.Children={map:M,forEach:function(e,t,n){M(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return M(e,function(){t++}),t},toArray:function(e){return M(e,function(e){return e})||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=r,t.Profiler=l,t.PureComponent=b,t.StrictMode=s,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T,t.cloneElement=function(e,t,a){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=f({},e.props),s=e.key,l=e.ref,i=e._owner;if(null!=t){if(void 0!==t.ref&&(l=t.ref,i=k.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)w.call(t,c)&&!_.hasOwnProperty(c)&&(r[c]=void 0===t[c]&&void 0!==o?o[c]:t[c])}var c=arguments.length-2;if(1===c)r.children=a;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];r.children=o}return{$$typeof:n,type:e.type,key:s,ref:l,props:r,_owner:i}},t.createContext=function(e){return(e={$$typeof:o,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:i,_context:e},e.Consumer=e},t.createElement=N,t.createFactory=function(e){var t=N.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:I}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.2.0"},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var a=n-1>>>1,r=e[a];if(!(0<s(r,t)))break e;e[a]=t,e[n]=r,n=a}}function a(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var a=0,r=e.length,l=r>>>1;a<l;){var i=2*(a+1)-1,o=e[i],c=i+1,d=e[c];if(0>s(o,n))c<r&&0>s(d,o)?(e[a]=d,e[c]=n,a=c):(e[a]=o,e[i]=n,a=i);else{if(!(c<r&&0>s(d,n)))break e;e[a]=d,e[c]=n,a=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var l=performance;t.unstable_now=function(){return l.now()}}else{var i=Date,o=i.now();t.unstable_now=function(){return i.now()-o}}var c=[],d=[],u=1,p=null,h=3,m=!1,f=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,x="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function y(e){for(var t=a(d);null!==t;){if(null===t.callback)r(d);else{if(!(t.startTime<=e))break;r(d),t.sortIndex=t.expirationTime,n(c,t)}t=a(d)}}function j(e){if(g=!1,y(e),!f)if(null!==a(c))f=!0,R(w);else{var t=a(d);null!==t&&T(j,t.startTime-e)}}function w(e,n){f=!1,g&&(g=!1,x(S),S=-1),m=!0;var s=h;try{for(y(n),p=a(c);null!==p&&(!(p.expirationTime>n)||e&&!E());){var l=p.callback;if("function"===typeof l){p.callback=null,h=p.priorityLevel;var i=l(p.expirationTime<=n);n=t.unstable_now(),"function"===typeof i?p.callback=i:p===a(c)&&r(c),y(n)}else r(c);p=a(c)}if(null!==p)var o=!0;else{var u=a(d);null!==u&&T(j,u.startTime-n),o=!1}return o}finally{p=null,h=s,m=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,_=!1,N=null,S=-1,C=5,P=-1;function E(){return!(t.unstable_now()-P<C)}function M(){if(null!==N){var e=t.unstable_now();P=e;var n=!0;try{n=N(!0,e)}finally{n?k():(_=!1,N=null)}}else _=!1}if("function"===typeof b)k=function(){b(M)};else if("undefined"!==typeof MessageChannel){var I=new MessageChannel,O=I.port2;I.port1.onmessage=M,k=function(){O.postMessage(null)}}else k=function(){v(M,0)};function R(e){N=e,_||(_=!0,k())}function T(e,n){S=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){f||m||(f=!0,R(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return a(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,r,s){var l=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?l+s:l:s=l,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return e={id:u++,callback:r,priorityLevel:e,startTime:s,expirationTime:i=s+i,sortIndex:-1},s>l?(e.sortIndex=s,n(d,e),null===a(c)&&e===a(d)&&(g?(x(S),S=-1):g=!0,T(j,s-l))):(e.sortIndex=i,n(c,e),f||m||(f=!0,R(w))),e},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},391:(e,t,n)=>{var a=n(950);t.H=a.createRoot,a.hydrateRoot},579:(e,t,n)=>{e.exports=n(153)},730:(e,t,n)=>{var a=n(43),r=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=new Set,i={};function o(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(i[e]=t,e=0;e<t.length;e++)l.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},m={};function f(e,t,n,a,r,s,l){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=a,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=l}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new f(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new f(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new f(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new f(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new f(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new f(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new f(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new f(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new f(e,5,!1,e.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function x(e){return e[1].toUpperCase()}function b(e,t,n,a){var r=g.hasOwnProperty(t)?g[t]:null;(null!==r?0!==r.type:a||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,a){if(null===t||"undefined"===typeof t||function(e,t,n,a){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!a&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,a))return!0;if(a)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,r,a)&&(n=null),a||null===r?function(e){return!!u.call(m,e)||!u.call(h,e)&&(p.test(e)?m[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=null===n?3!==r.type&&"":n:(t=r.attributeName,a=r.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,a?e.setAttributeNS(a,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(v,x);g[t]=new f(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(v,x);g[t]=new f(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(v,x);g[t]=new f(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new f(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new f("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new f(e,1,!1,e.toLowerCase(),null,!0,!0)});var y=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),w=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),C=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var T=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=T&&e[T]||e["@@iterator"])?e:null}var D,F=Object.assign;function z(e){if(void 0===D)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return"\n"+D+e}var A=!1;function U(e,t){if(!e||A)return"";A=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var a=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){a=c}e.call(t.prototype)}else{try{throw Error()}catch(c){a=c}e()}}catch(c){if(c&&a&&"string"===typeof c.stack){for(var r=c.stack.split("\n"),s=a.stack.split("\n"),l=r.length-1,i=s.length-1;1<=l&&0<=i&&r[l]!==s[i];)i--;for(;1<=l&&0<=i;l--,i--)if(r[l]!==s[i]){if(1!==l||1!==i)do{if(l--,0>--i||r[l]!==s[i]){var o="\n"+r[l].replace(" at new "," at ");return e.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",e.displayName)),o}}while(1<=l&&0<=i);break}}}finally{A=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function q(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case w:return"Portal";case N:return"Profiler";case _:return"StrictMode";case E:return"Suspense";case M:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case P:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case I:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function V(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Q(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){a=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(e){a=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function $(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=H(e)?e.checked?"true":"false":e.value),(e=a)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function G(e,t){var n=null==t.defaultValue?"":t.defaultValue,a=null!=t.checked?t.checked:t.defaultChecked;n=V(null!=t.value?t.value:n),e._wrapperState={initialChecked:a,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function X(e,t){J(e,t);var n=V(t.value),a=t.type;if(null!=n)"number"===a?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===a||"reset"===a)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,V(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!("submit"!==a&&"reset"!==a||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,a){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&a&&(e[n].defaultSelected=!0)}else{for(n=""+V(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(a&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function ae(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function re(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:V(n)}}function se(e,t){var n=V(t.value),a=V(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=a&&(e.defaultValue=""+a)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ie(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function oe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ie(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,a){MSApp.execUnsafeLocalFunction(function(){return de(e,t)})}:de);function pe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},me=["Webkit","ms","Moz","O"];function fe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var a=0===n.indexOf("--"),r=fe(n,t[n],a);"float"===n&&(n="cssFloat"),a?e.setProperty(n,r):e[n]=r}}Object.keys(he).forEach(function(e){me.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]})});var ve=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xe(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ye=null;function je(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,ke=null,_e=null;function Ne(e){if(e=br(e)){if("function"!==typeof we)throw Error(s(280));var t=e.stateNode;t&&(t=jr(t),we(e.stateNode,e.type,t))}}function Se(e){ke?_e?_e.push(e):_e=[e]:ke=e}function Ce(){if(ke){var e=ke,t=_e;if(_e=ke=null,Ne(e),t)for(e=0;e<t.length;e++)Ne(t[e])}}function Pe(e,t){return e(t)}function Ee(){}var Me=!1;function Ie(e,t,n){if(Me)return e(t,n);Me=!0;try{return Pe(e,t,n)}finally{Me=!1,(null!==ke||null!==_e)&&(Ee(),Ce())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var a=jr(n);if(null===a)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(a=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!a;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Re=!1;if(d)try{var Te={};Object.defineProperty(Te,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Te,Te),window.removeEventListener("test",Te,Te)}catch(de){Re=!1}function Le(e,t,n,a,r,s,l,i,o){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var De=!1,Fe=null,ze=!1,Ae=null,Ue={onError:function(e){De=!0,Fe=e}};function qe(e,t,n,a,r,s,l,i,o){De=!1,Fe=null,Le.apply(Ue,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ve(e){if(Be(e)!==e)throw Error(s(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,a=t;;){var r=n.return;if(null===r)break;var l=r.alternate;if(null===l){if(null!==(a=r.return)){n=a;continue}break}if(r.child===l.child){for(l=r.child;l;){if(l===n)return Ve(r),e;if(l===a)return Ve(r),t;l=l.sibling}throw Error(s(188))}if(n.return!==a.return)n=r,a=l;else{for(var i=!1,o=r.child;o;){if(o===n){i=!0,n=r,a=l;break}if(o===a){i=!0,a=r,n=l;break}o=o.sibling}if(!i){for(o=l.child;o;){if(o===n){i=!0,n=l,a=r;break}if(o===a){i=!0,a=l,n=r;break}o=o.sibling}if(!i)throw Error(s(189))}}if(n.alternate!==a)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?Qe(e):null}function Qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Qe(e);if(null!==t)return t;e=e.sibling}return null}var $e=r.unstable_scheduleCallback,Ke=r.unstable_cancelCallback,Ye=r.unstable_shouldYield,Ge=r.unstable_requestPaint,Je=r.unstable_now,Xe=r.unstable_getCurrentPriorityLevel,Ze=r.unstable_ImmediatePriority,et=r.unstable_UserBlockingPriority,tt=r.unstable_NormalPriority,nt=r.unstable_LowPriority,at=r.unstable_IdlePriority,rt=null,st=null;var lt=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(it(e)/ot|0)|0},it=Math.log,ot=Math.LN2;var ct=64,dt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pt(e,t){var n=e.pendingLanes;if(0===n)return 0;var a=0,r=e.suspendedLanes,s=e.pingedLanes,l=268435455&n;if(0!==l){var i=l&~r;0!==i?a=ut(i):0!==(s&=l)&&(a=ut(s))}else 0!==(l=n&~r)?a=ut(l):0!==s&&(a=ut(s));if(0===a)return 0;if(0!==t&&t!==a&&0===(t&r)&&((r=a&-a)>=(s=t&-t)||16===r&&0!==(4194240&s)))return t;if(0!==(4&a)&&(a|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=a;0<t;)r=1<<(n=31-lt(t)),a|=e[n],t&=~r;return a}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function mt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ft(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-lt(t)]=n}function xt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-lt(n),r=1<<a;r&t|e[a]&t&&(e[a]|=t),n&=~r}}var bt=0;function yt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var jt,wt,kt,_t,Nt,St=!1,Ct=[],Pt=null,Et=null,Mt=null,It=new Map,Ot=new Map,Rt=[],Tt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Pt=null;break;case"dragenter":case"dragleave":Et=null;break;case"mouseover":case"mouseout":Mt=null;break;case"pointerover":case"pointerout":It.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Dt(e,t,n,a,r,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:s,targetContainers:[r]},null!==t&&(null!==(t=br(t))&&wt(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function Ft(e){var t=xr(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=We(n)))return e.blockedOn=t,void Nt(e.priority,function(){kt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function zt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=br(n))&&wt(t),e.blockedOn=n,!1;var a=new(n=e.nativeEvent).constructor(n.type,n);ye=a,n.target.dispatchEvent(a),ye=null,t.shift()}return!0}function At(e,t,n){zt(e)&&n.delete(t)}function Ut(){St=!1,null!==Pt&&zt(Pt)&&(Pt=null),null!==Et&&zt(Et)&&(Et=null),null!==Mt&&zt(Mt)&&(Mt=null),It.forEach(At),Ot.forEach(At)}function qt(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Ut)))}function Bt(e){function t(t){return qt(t,e)}if(0<Ct.length){qt(Ct[0],e);for(var n=1;n<Ct.length;n++){var a=Ct[n];a.blockedOn===e&&(a.blockedOn=null)}}for(null!==Pt&&qt(Pt,e),null!==Et&&qt(Et,e),null!==Mt&&qt(Mt,e),It.forEach(t),Ot.forEach(t),n=0;n<Rt.length;n++)(a=Rt[n]).blockedOn===e&&(a.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Rt.shift()}var Wt=y.ReactCurrentBatchConfig,Vt=!0;function Ht(e,t,n,a){var r=bt,s=Wt.transition;Wt.transition=null;try{bt=1,$t(e,t,n,a)}finally{bt=r,Wt.transition=s}}function Qt(e,t,n,a){var r=bt,s=Wt.transition;Wt.transition=null;try{bt=4,$t(e,t,n,a)}finally{bt=r,Wt.transition=s}}function $t(e,t,n,a){if(Vt){var r=Yt(e,t,n,a);if(null===r)Va(e,t,a,Kt,n),Lt(e,a);else if(function(e,t,n,a,r){switch(t){case"focusin":return Pt=Dt(Pt,e,t,n,a,r),!0;case"dragenter":return Et=Dt(Et,e,t,n,a,r),!0;case"mouseover":return Mt=Dt(Mt,e,t,n,a,r),!0;case"pointerover":var s=r.pointerId;return It.set(s,Dt(It.get(s)||null,e,t,n,a,r)),!0;case"gotpointercapture":return s=r.pointerId,Ot.set(s,Dt(Ot.get(s)||null,e,t,n,a,r)),!0}return!1}(r,e,t,n,a))a.stopPropagation();else if(Lt(e,a),4&t&&-1<Tt.indexOf(e)){for(;null!==r;){var s=br(r);if(null!==s&&jt(s),null===(s=Yt(e,t,n,a))&&Va(e,t,a,Kt,n),s===r)break;r=s}null!==r&&a.stopPropagation()}else Va(e,t,a,null,n)}}var Kt=null;function Yt(e,t,n,a){if(Kt=null,null!==(e=xr(e=je(a))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Gt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case at:return 536870912;default:return 16}default:return 16}}var Jt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,a=n.length,r="value"in Jt?Jt.value:Jt.textContent,s=r.length;for(e=0;e<a&&n[e]===r[e];e++);var l=a-e;for(t=1;t<=l&&n[a-t]===r[s-t];t++);return Zt=r.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function an(){return!1}function rn(e){function t(t,n,a,r,s){for(var l in this._reactName=t,this._targetInst=a,this.type=n,this.nativeEvent=r,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(l)&&(t=e[l],this[l]=t?t(r):r[l]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?nn:an,this.isPropagationStopped=an,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,ln,on,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=rn(cn),un=F({},cn,{view:0,detail:0}),pn=rn(un),hn=F({},un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==on&&(on&&"mousemove"===e.type?(sn=e.screenX-on.screenX,ln=e.screenY-on.screenY):ln=sn=0,on=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),mn=rn(hn),fn=rn(F({},hn,{dataTransfer:0})),gn=rn(F({},un,{relatedTarget:0})),vn=rn(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),xn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=rn(xn),yn=rn(F({},cn,{data:0})),jn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _n(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function Nn(){return _n}var Sn=F({},un,{key:function(e){if(e.key){var t=jn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=rn(Sn),Pn=rn(F({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),En=rn(F({},un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nn})),Mn=rn(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),In=F({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=rn(In),Rn=[9,13,27,32],Tn=d&&"CompositionEvent"in window,Ln=null;d&&"documentMode"in document&&(Ln=document.documentMode);var Dn=d&&"TextEvent"in window&&!Ln,Fn=d&&(!Tn||Ln&&8<Ln&&11>=Ln),zn=String.fromCharCode(32),An=!1;function Un(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Hn(e,t,n,a){Se(a),0<(t=Qa(t,"onChange")).length&&(n=new dn("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var Qn=null,$n=null;function Kn(e){za(e,0)}function Yn(e){if($(yr(e)))return e}function Gn(e,t){if("change"===e)return t}var Jn=!1;if(d){var Xn;if(d){var Zn="oninput"in document;if(!Zn){var ea=document.createElement("div");ea.setAttribute("oninput","return;"),Zn="function"===typeof ea.oninput}Xn=Zn}else Xn=!1;Jn=Xn&&(!document.documentMode||9<document.documentMode)}function ta(){Qn&&(Qn.detachEvent("onpropertychange",na),$n=Qn=null)}function na(e){if("value"===e.propertyName&&Yn($n)){var t=[];Hn(t,$n,e,je(e)),Ie(Kn,t)}}function aa(e,t,n){"focusin"===e?(ta(),$n=n,(Qn=t).attachEvent("onpropertychange",na)):"focusout"===e&&ta()}function ra(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn($n)}function sa(e,t){if("click"===e)return Yn(t)}function la(e,t){if("input"===e||"change"===e)return Yn(t)}var ia="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function oa(e,t){if(ia(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var r=n[a];if(!u.call(t,r)||!ia(e[r],t[r]))return!1}return!0}function ca(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function da(e,t){var n,a=ca(e);for(e=0;a;){if(3===a.nodeType){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ca(a)}}function ua(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ua(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function pa(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(a){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function ha(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function ma(e){var t=pa(),n=e.focusedElem,a=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ua(n.ownerDocument.documentElement,n)){if(null!==a&&ha(n))if(t=a.start,void 0===(e=a.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var r=n.textContent.length,s=Math.min(a.start,r);a=void 0===a.end?s:Math.min(a.end,r),!e.extend&&s>a&&(r=a,a=s,s=r),r=da(n,s);var l=da(n,a);r&&l&&(1!==e.rangeCount||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&((t=t.createRange()).setStart(r.node,r.offset),e.removeAllRanges(),s>a?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fa=d&&"documentMode"in document&&11>=document.documentMode,ga=null,va=null,xa=null,ba=!1;function ya(e,t,n){var a=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ba||null==ga||ga!==K(a)||("selectionStart"in(a=ga)&&ha(a)?a={start:a.selectionStart,end:a.selectionEnd}:a={anchorNode:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset},xa&&oa(xa,a)||(xa=a,0<(a=Qa(va,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=ga)))}function ja(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wa={animationend:ja("Animation","AnimationEnd"),animationiteration:ja("Animation","AnimationIteration"),animationstart:ja("Animation","AnimationStart"),transitionend:ja("Transition","TransitionEnd")},ka={},_a={};function Na(e){if(ka[e])return ka[e];if(!wa[e])return e;var t,n=wa[e];for(t in n)if(n.hasOwnProperty(t)&&t in _a)return ka[e]=n[t];return e}d&&(_a=document.createElement("div").style,"AnimationEvent"in window||(delete wa.animationend.animation,delete wa.animationiteration.animation,delete wa.animationstart.animation),"TransitionEvent"in window||delete wa.transitionend.transition);var Sa=Na("animationend"),Ca=Na("animationiteration"),Pa=Na("animationstart"),Ea=Na("transitionend"),Ma=new Map,Ia="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Oa(e,t){Ma.set(e,t),o(t,[e])}for(var Ra=0;Ra<Ia.length;Ra++){var Ta=Ia[Ra];Oa(Ta.toLowerCase(),"on"+(Ta[0].toUpperCase()+Ta.slice(1)))}Oa(Sa,"onAnimationEnd"),Oa(Ca,"onAnimationIteration"),Oa(Pa,"onAnimationStart"),Oa("dblclick","onDoubleClick"),Oa("focusin","onFocus"),Oa("focusout","onBlur"),Oa(Ea,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var La="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Da=new Set("cancel close invalid load scroll toggle".split(" ").concat(La));function Fa(e,t,n){var a=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,a,r,l,i,o,c){if(qe.apply(this,arguments),De){if(!De)throw Error(s(198));var d=Fe;De=!1,Fe=null,ze||(ze=!0,Ae=d)}}(a,t,void 0,e),e.currentTarget=null}function za(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var a=e[n],r=a.event;a=a.listeners;e:{var s=void 0;if(t)for(var l=a.length-1;0<=l;l--){var i=a[l],o=i.instance,c=i.currentTarget;if(i=i.listener,o!==s&&r.isPropagationStopped())break e;Fa(r,i,c),s=o}else for(l=0;l<a.length;l++){if(o=(i=a[l]).instance,c=i.currentTarget,i=i.listener,o!==s&&r.isPropagationStopped())break e;Fa(r,i,c),s=o}}}if(ze)throw e=Ae,ze=!1,Ae=null,e}function Aa(e,t){var n=t[fr];void 0===n&&(n=t[fr]=new Set);var a=e+"__bubble";n.has(a)||(Wa(t,e,2,!1),n.add(a))}function Ua(e,t,n){var a=0;t&&(a|=4),Wa(n,e,a,t)}var qa="_reactListening"+Math.random().toString(36).slice(2);function Ba(e){if(!e[qa]){e[qa]=!0,l.forEach(function(t){"selectionchange"!==t&&(Da.has(t)||Ua(t,!1,e),Ua(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[qa]||(t[qa]=!0,Ua("selectionchange",!1,t))}}function Wa(e,t,n,a){switch(Gt(t)){case 1:var r=Ht;break;case 4:r=Qt;break;default:r=$t}n=r.bind(null,t,n,e),r=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),a?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Va(e,t,n,a,r){var s=a;if(0===(1&t)&&0===(2&t)&&null!==a)e:for(;;){if(null===a)return;var l=a.tag;if(3===l||4===l){var i=a.stateNode.containerInfo;if(i===r||8===i.nodeType&&i.parentNode===r)break;if(4===l)for(l=a.return;null!==l;){var o=l.tag;if((3===o||4===o)&&((o=l.stateNode.containerInfo)===r||8===o.nodeType&&o.parentNode===r))return;l=l.return}for(;null!==i;){if(null===(l=xr(i)))return;if(5===(o=l.tag)||6===o){a=s=l;continue e}i=i.parentNode}}a=a.return}Ie(function(){var a=s,r=je(n),l=[];e:{var i=Ma.get(e);if(void 0!==i){var o=dn,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":o=Cn;break;case"focusin":c="focus",o=gn;break;case"focusout":c="blur",o=gn;break;case"beforeblur":case"afterblur":o=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":o=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":o=fn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":o=En;break;case Sa:case Ca:case Pa:o=vn;break;case Ea:o=Mn;break;case"scroll":o=pn;break;case"wheel":o=On;break;case"copy":case"cut":case"paste":o=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":o=Pn}var d=0!==(4&t),u=!d&&"scroll"===e,p=d?null!==i?i+"Capture":null:i;d=[];for(var h,m=a;null!==m;){var f=(h=m).stateNode;if(5===h.tag&&null!==f&&(h=f,null!==p&&(null!=(f=Oe(m,p))&&d.push(Ha(m,f,h)))),u)break;m=m.return}0<d.length&&(i=new o(i,c,null,n,r),l.push({event:i,listeners:d}))}}if(0===(7&t)){if(o="mouseout"===e||"pointerout"===e,(!(i="mouseover"===e||"pointerover"===e)||n===ye||!(c=n.relatedTarget||n.fromElement)||!xr(c)&&!c[mr])&&(o||i)&&(i=r.window===r?r:(i=r.ownerDocument)?i.defaultView||i.parentWindow:window,o?(o=a,null!==(c=(c=n.relatedTarget||n.toElement)?xr(c):null)&&(c!==(u=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(o=null,c=a),o!==c)){if(d=mn,f="onMouseLeave",p="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=Pn,f="onPointerLeave",p="onPointerEnter",m="pointer"),u=null==o?i:yr(o),h=null==c?i:yr(c),(i=new d(f,m+"leave",o,n,r)).target=u,i.relatedTarget=h,f=null,xr(r)===a&&((d=new d(p,m+"enter",c,n,r)).target=h,d.relatedTarget=u,f=d),u=f,o&&c)e:{for(p=c,m=0,h=d=o;h;h=$a(h))m++;for(h=0,f=p;f;f=$a(f))h++;for(;0<m-h;)d=$a(d),m--;for(;0<h-m;)p=$a(p),h--;for(;m--;){if(d===p||null!==p&&d===p.alternate)break e;d=$a(d),p=$a(p)}d=null}else d=null;null!==o&&Ka(l,i,o,d,!1),null!==c&&null!==u&&Ka(l,u,c,d,!0)}if("select"===(o=(i=a?yr(a):window).nodeName&&i.nodeName.toLowerCase())||"input"===o&&"file"===i.type)var g=Gn;else if(Vn(i))if(Jn)g=la;else{g=ra;var v=aa}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(g=sa);switch(g&&(g=g(e,a))?Hn(l,g,n,r):(v&&v(e,i,a),"focusout"===e&&(v=i._wrapperState)&&v.controlled&&"number"===i.type&&ee(i,"number",i.value)),v=a?yr(a):window,e){case"focusin":(Vn(v)||"true"===v.contentEditable)&&(ga=v,va=a,xa=null);break;case"focusout":xa=va=ga=null;break;case"mousedown":ba=!0;break;case"contextmenu":case"mouseup":case"dragend":ba=!1,ya(l,n,r);break;case"selectionchange":if(fa)break;case"keydown":case"keyup":ya(l,n,r)}var x;if(Tn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?Un(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Fn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(x=en()):(Xt="value"in(Jt=r)?Jt.value:Jt.textContent,Bn=!0)),0<(v=Qa(a,b)).length&&(b=new yn(b,e,null,n,r),l.push({event:b,listeners:v}),x?b.data=x:null!==(x=qn(n))&&(b.data=x))),(x=Dn?function(e,t){switch(e){case"compositionend":return qn(t);case"keypress":return 32!==t.which?null:(An=!0,zn);case"textInput":return(e=t.data)===zn&&An?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Tn&&Un(e,t)?(e=en(),Zt=Xt=Jt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(a=Qa(a,"onBeforeInput")).length&&(r=new yn("onBeforeInput","beforeinput",null,n,r),l.push({event:r,listeners:a}),r.data=x))}za(l,t)})}function Ha(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Qa(e,t){for(var n=t+"Capture",a=[];null!==e;){var r=e,s=r.stateNode;5===r.tag&&null!==s&&(r=s,null!=(s=Oe(e,n))&&a.unshift(Ha(e,s,r)),null!=(s=Oe(e,t))&&a.push(Ha(e,s,r))),e=e.return}return a}function $a(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ka(e,t,n,a,r){for(var s=t._reactName,l=[];null!==n&&n!==a;){var i=n,o=i.alternate,c=i.stateNode;if(null!==o&&o===a)break;5===i.tag&&null!==c&&(i=c,r?null!=(o=Oe(n,s))&&l.unshift(Ha(n,o,i)):r||null!=(o=Oe(n,s))&&l.push(Ha(n,o,i))),n=n.return}0!==l.length&&e.push({event:t,listeners:l})}var Ya=/\r\n?/g,Ga=/\u0000|\uFFFD/g;function Ja(e){return("string"===typeof e?e:""+e).replace(Ya,"\n").replace(Ga,"")}function Xa(e,t,n){if(t=Ja(t),Ja(e)!==t&&n)throw Error(s(425))}function Za(){}var er=null,tr=null;function nr(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ar="function"===typeof setTimeout?setTimeout:void 0,rr="function"===typeof clearTimeout?clearTimeout:void 0,sr="function"===typeof Promise?Promise:void 0,lr="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof sr?function(e){return sr.resolve(null).then(e).catch(ir)}:ar;function ir(e){setTimeout(function(){throw e})}function or(e,t){var n=t,a=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===a)return e.removeChild(r),void Bt(t);a--}else"$"!==n&&"$?"!==n&&"$!"!==n||a++;n=r}while(n);Bt(t)}function cr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function dr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ur=Math.random().toString(36).slice(2),pr="__reactFiber$"+ur,hr="__reactProps$"+ur,mr="__reactContainer$"+ur,fr="__reactEvents$"+ur,gr="__reactListeners$"+ur,vr="__reactHandles$"+ur;function xr(e){var t=e[pr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[mr]||n[pr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=dr(e);null!==e;){if(n=e[pr])return n;e=dr(e)}return t}n=(e=n).parentNode}return null}function br(e){return!(e=e[pr]||e[mr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function yr(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function jr(e){return e[hr]||null}var wr=[],kr=-1;function _r(e){return{current:e}}function Nr(e){0>kr||(e.current=wr[kr],wr[kr]=null,kr--)}function Sr(e,t){kr++,wr[kr]=e.current,e.current=t}var Cr={},Pr=_r(Cr),Er=_r(!1),Mr=Cr;function Ir(e,t){var n=e.type.contextTypes;if(!n)return Cr;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var r,s={};for(r in n)s[r]=t[r];return a&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Or(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Rr(){Nr(Er),Nr(Pr)}function Tr(e,t,n){if(Pr.current!==Cr)throw Error(s(168));Sr(Pr,t),Sr(Er,n)}function Lr(e,t,n){var a=e.stateNode;if(t=t.childContextTypes,"function"!==typeof a.getChildContext)return n;for(var r in a=a.getChildContext())if(!(r in t))throw Error(s(108,W(e)||"Unknown",r));return F({},n,a)}function Dr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Cr,Mr=Pr.current,Sr(Pr,e),Sr(Er,Er.current),!0}function Fr(e,t,n){var a=e.stateNode;if(!a)throw Error(s(169));n?(e=Lr(e,t,Mr),a.__reactInternalMemoizedMergedChildContext=e,Nr(Er),Nr(Pr),Sr(Pr,e)):Nr(Er),Sr(Er,n)}var zr=null,Ar=!1,Ur=!1;function qr(e){null===zr?zr=[e]:zr.push(e)}function Br(){if(!Ur&&null!==zr){Ur=!0;var e=0,t=bt;try{var n=zr;for(bt=1;e<n.length;e++){var a=n[e];do{a=a(!0)}while(null!==a)}zr=null,Ar=!1}catch(r){throw null!==zr&&(zr=zr.slice(e+1)),$e(Ze,Br),r}finally{bt=t,Ur=!1}}return null}var Wr=[],Vr=0,Hr=null,Qr=0,$r=[],Kr=0,Yr=null,Gr=1,Jr="";function Xr(e,t){Wr[Vr++]=Qr,Wr[Vr++]=Hr,Hr=e,Qr=t}function Zr(e,t,n){$r[Kr++]=Gr,$r[Kr++]=Jr,$r[Kr++]=Yr,Yr=e;var a=Gr;e=Jr;var r=32-lt(a)-1;a&=~(1<<r),n+=1;var s=32-lt(t)+r;if(30<s){var l=r-r%5;s=(a&(1<<l)-1).toString(32),a>>=l,r-=l,Gr=1<<32-lt(t)+r|n<<r|a,Jr=s+e}else Gr=1<<s|n<<r|a,Jr=e}function es(e){null!==e.return&&(Xr(e,1),Zr(e,1,0))}function ts(e){for(;e===Hr;)Hr=Wr[--Vr],Wr[Vr]=null,Qr=Wr[--Vr],Wr[Vr]=null;for(;e===Yr;)Yr=$r[--Kr],$r[Kr]=null,Jr=$r[--Kr],$r[Kr]=null,Gr=$r[--Kr],$r[Kr]=null}var ns=null,as=null,rs=!1,ss=null;function ls(e,t){var n=Oc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function is(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,as=cr(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,as=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yr?{id:Gr,overflow:Jr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Oc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,as=null,!0);default:return!1}}function os(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(rs){var t=as;if(t){var n=t;if(!is(e,t)){if(os(e))throw Error(s(418));t=cr(n.nextSibling);var a=ns;t&&is(e,t)?ls(a,n):(e.flags=-4097&e.flags|2,rs=!1,ns=e)}}else{if(os(e))throw Error(s(418));e.flags=-4097&e.flags|2,rs=!1,ns=e}}}function ds(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function us(e){if(e!==ns)return!1;if(!rs)return ds(e),rs=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!nr(e.type,e.memoizedProps)),t&&(t=as)){if(os(e))throw ps(),Error(s(418));for(;t;)ls(e,t),t=cr(t.nextSibling)}if(ds(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){as=cr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}as=null}}else as=ns?cr(e.stateNode.nextSibling):null;return!0}function ps(){for(var e=as;e;)e=cr(e.nextSibling)}function hs(){as=ns=null,rs=!1}function ms(e){null===ss?ss=[e]:ss.push(e)}var fs=y.ReactCurrentBatchConfig;function gs(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var vs=_r(null),xs=null,bs=null,ys=null;function js(){ys=bs=xs=null}function ws(e){var t=vs.current;Nr(vs),e._currentValue=t}function ks(e,t,n){for(;null!==e;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==a&&(a.childLanes|=t)):null!==a&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function _s(e,t){xs=e,ys=bs=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bi=!0),e.firstContext=null)}function Ns(e){var t=e._currentValue;if(ys!==e)if(e={context:e,memoizedValue:t,next:null},null===bs){if(null===xs)throw Error(s(308));bs=e,xs.dependencies={lanes:0,firstContext:e}}else bs=bs.next=e;return t}var Ss=null;function Cs(e){null===Ss?Ss=[e]:Ss.push(e)}function Ps(e,t,n,a){var r=t.interleaved;return null===r?(n.next=n,Cs(t)):(n.next=r.next,r.next=n),t.interleaved=n,Es(e,a)}function Es(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ms=!1;function Is(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Os(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Rs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ts(e,t,n){var a=e.updateQueue;if(null===a)return null;if(a=a.shared,0!==(2&Eo)){var r=a.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),a.pending=t,Es(e,n)}return null===(r=a.interleaved)?(t.next=t,Cs(a)):(t.next=r.next,r.next=t),a.interleaved=t,Es(e,n)}function Ls(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var a=t.lanes;n|=a&=e.pendingLanes,t.lanes=n,xt(e,n)}}function Ds(e,t){var n=e.updateQueue,a=e.alternate;if(null!==a&&n===(a=a.updateQueue)){var r=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?r=s=l:s=s.next=l,n=n.next}while(null!==n);null===s?r=s=t:s=s.next=t}else r=s=t;return n={baseState:a.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:a.shared,effects:a.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fs(e,t,n,a){var r=e.updateQueue;Ms=!1;var s=r.firstBaseUpdate,l=r.lastBaseUpdate,i=r.shared.pending;if(null!==i){r.shared.pending=null;var o=i,c=o.next;o.next=null,null===l?s=c:l.next=c,l=o;var d=e.alternate;null!==d&&((i=(d=d.updateQueue).lastBaseUpdate)!==l&&(null===i?d.firstBaseUpdate=c:i.next=c,d.lastBaseUpdate=o))}if(null!==s){var u=r.baseState;for(l=0,d=c=o=null,i=s;;){var p=i.lane,h=i.eventTime;if((a&p)===p){null!==d&&(d=d.next={eventTime:h,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var m=e,f=i;switch(p=t,h=n,f.tag){case 1:if("function"===typeof(m=f.payload)){u=m.call(h,u,p);break e}u=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(p="function"===typeof(m=f.payload)?m.call(h,u,p):m)||void 0===p)break e;u=F({},u,p);break e;case 2:Ms=!0}}null!==i.callback&&0!==i.lane&&(e.flags|=64,null===(p=r.effects)?r.effects=[i]:p.push(i))}else h={eventTime:h,lane:p,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===d?(c=d=h,o=u):d=d.next=h,l|=p;if(null===(i=i.next)){if(null===(i=r.shared.pending))break;i=(p=i).next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}if(null===d&&(o=u),r.baseState=o,r.firstBaseUpdate=c,r.lastBaseUpdate=d,null!==(t=r.shared.interleaved)){r=t;do{l|=r.lane,r=r.next}while(r!==t)}else null===s&&(r.shared.lanes=0);Fo|=l,e.lanes=l,e.memoizedState=u}}function zs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var a=e[t],r=a.callback;if(null!==r){if(a.callback=null,a=n,"function"!==typeof r)throw Error(s(191,r));r.call(a)}}}var As=(new a.Component).refs;function Us(e,t,n,a){n=null===(n=n(a,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var qs={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var a=tc(),r=nc(e),s=Rs(a,r);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Ts(e,s,r))&&(ac(t,e,r,a),Ls(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=tc(),r=nc(e),s=Rs(a,r);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Ts(e,s,r))&&(ac(t,e,r,a),Ls(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),a=nc(e),r=Rs(n,a);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=Ts(e,r,a))&&(ac(t,e,a,n),Ls(t,e,a))}};function Bs(e,t,n,a,r,s,l){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(a,s,l):!t.prototype||!t.prototype.isPureReactComponent||(!oa(n,a)||!oa(r,s))}function Ws(e,t,n){var a=!1,r=Cr,s=t.contextType;return"object"===typeof s&&null!==s?s=Ns(s):(r=Or(t)?Mr:Pr.current,s=(a=null!==(a=t.contextTypes)&&void 0!==a)?Ir(e,r):Cr),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=qs,e.stateNode=t,t._reactInternals=e,a&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=s),t}function Vs(e,t,n,a){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,a),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&qs.enqueueReplaceState(t,t.state,null)}function Hs(e,t,n,a){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs=As,Is(e);var s=t.contextType;"object"===typeof s&&null!==s?r.context=Ns(s):(s=Or(t)?Mr:Pr.current,r.context=Ir(e,s)),r.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(Us(e,t,s,n),r.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(t=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&qs.enqueueReplaceState(r,r.state,null),Fs(e,n,r,a),r.state=e.memoizedState),"function"===typeof r.componentDidMount&&(e.flags|=4194308)}function Qs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var a=n.stateNode}if(!a)throw Error(s(147,e));var r=a,l=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===l?t.ref:(t=function(e){var t=r.refs;t===As&&(t=r.refs={}),null===e?delete t[l]:t[l]=e},t._stringRef=l,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function $s(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ks(e){return(0,e._init)(e._payload)}function Ys(e){function t(t,n){if(e){var a=t.deletions;null===a?(t.deletions=[n],t.flags|=16):a.push(n)}}function n(n,a){if(!e)return null;for(;null!==a;)t(n,a),a=a.sibling;return null}function a(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=Tc(e,t)).index=0,e.sibling=null,e}function l(t,n,a){return t.index=a,e?null!==(a=t.alternate)?(a=a.index)<n?(t.flags|=2,n):a:(t.flags|=2,n):(t.flags|=1048576,n)}function i(t){return e&&null===t.alternate&&(t.flags|=2),t}function o(e,t,n,a){return null===t||6!==t.tag?((t=zc(n,e.mode,a)).return=e,t):((t=r(t,n)).return=e,t)}function c(e,t,n,a){var s=n.type;return s===k?u(e,t,n.props.children,a,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===O&&Ks(s)===t.type)?((a=r(t,n.props)).ref=Qs(e,t,n),a.return=e,a):((a=Lc(n.type,n.key,n.props,null,e.mode,a)).ref=Qs(e,t,n),a.return=e,a)}function d(e,t,n,a){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ac(n,e.mode,a)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function u(e,t,n,a,s){return null===t||7!==t.tag?((t=Dc(n,e.mode,a,s)).return=e,t):((t=r(t,n)).return=e,t)}function p(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=zc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case j:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=Qs(e,null,t),n.return=e,n;case w:return(t=Ac(t,e.mode,n)).return=e,t;case O:return p(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Dc(t,e.mode,n,null)).return=e,t;$s(e,t)}return null}function h(e,t,n,a){var r=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==r?null:o(e,t,""+n,a);if("object"===typeof n&&null!==n){switch(n.$$typeof){case j:return n.key===r?c(e,t,n,a):null;case w:return n.key===r?d(e,t,n,a):null;case O:return h(e,t,(r=n._init)(n._payload),a)}if(te(n)||L(n))return null!==r?null:u(e,t,n,a,null);$s(e,n)}return null}function m(e,t,n,a,r){if("string"===typeof a&&""!==a||"number"===typeof a)return o(t,e=e.get(n)||null,""+a,r);if("object"===typeof a&&null!==a){switch(a.$$typeof){case j:return c(t,e=e.get(null===a.key?n:a.key)||null,a,r);case w:return d(t,e=e.get(null===a.key?n:a.key)||null,a,r);case O:return m(e,t,n,(0,a._init)(a._payload),r)}if(te(a)||L(a))return u(t,e=e.get(n)||null,a,r,null);$s(t,a)}return null}function f(r,s,i,o){for(var c=null,d=null,u=s,f=s=0,g=null;null!==u&&f<i.length;f++){u.index>f?(g=u,u=null):g=u.sibling;var v=h(r,u,i[f],o);if(null===v){null===u&&(u=g);break}e&&u&&null===v.alternate&&t(r,u),s=l(v,s,f),null===d?c=v:d.sibling=v,d=v,u=g}if(f===i.length)return n(r,u),rs&&Xr(r,f),c;if(null===u){for(;f<i.length;f++)null!==(u=p(r,i[f],o))&&(s=l(u,s,f),null===d?c=u:d.sibling=u,d=u);return rs&&Xr(r,f),c}for(u=a(r,u);f<i.length;f++)null!==(g=m(u,r,f,i[f],o))&&(e&&null!==g.alternate&&u.delete(null===g.key?f:g.key),s=l(g,s,f),null===d?c=g:d.sibling=g,d=g);return e&&u.forEach(function(e){return t(r,e)}),rs&&Xr(r,f),c}function g(r,i,o,c){var d=L(o);if("function"!==typeof d)throw Error(s(150));if(null==(o=d.call(o)))throw Error(s(151));for(var u=d=null,f=i,g=i=0,v=null,x=o.next();null!==f&&!x.done;g++,x=o.next()){f.index>g?(v=f,f=null):v=f.sibling;var b=h(r,f,x.value,c);if(null===b){null===f&&(f=v);break}e&&f&&null===b.alternate&&t(r,f),i=l(b,i,g),null===u?d=b:u.sibling=b,u=b,f=v}if(x.done)return n(r,f),rs&&Xr(r,g),d;if(null===f){for(;!x.done;g++,x=o.next())null!==(x=p(r,x.value,c))&&(i=l(x,i,g),null===u?d=x:u.sibling=x,u=x);return rs&&Xr(r,g),d}for(f=a(r,f);!x.done;g++,x=o.next())null!==(x=m(f,r,g,x.value,c))&&(e&&null!==x.alternate&&f.delete(null===x.key?g:x.key),i=l(x,i,g),null===u?d=x:u.sibling=x,u=x);return e&&f.forEach(function(e){return t(r,e)}),rs&&Xr(r,g),d}return function e(a,s,l,o){if("object"===typeof l&&null!==l&&l.type===k&&null===l.key&&(l=l.props.children),"object"===typeof l&&null!==l){switch(l.$$typeof){case j:e:{for(var c=l.key,d=s;null!==d;){if(d.key===c){if((c=l.type)===k){if(7===d.tag){n(a,d.sibling),(s=r(d,l.props.children)).return=a,a=s;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===O&&Ks(c)===d.type){n(a,d.sibling),(s=r(d,l.props)).ref=Qs(a,d,l),s.return=a,a=s;break e}n(a,d);break}t(a,d),d=d.sibling}l.type===k?((s=Dc(l.props.children,a.mode,o,l.key)).return=a,a=s):((o=Lc(l.type,l.key,l.props,null,a.mode,o)).ref=Qs(a,s,l),o.return=a,a=o)}return i(a);case w:e:{for(d=l.key;null!==s;){if(s.key===d){if(4===s.tag&&s.stateNode.containerInfo===l.containerInfo&&s.stateNode.implementation===l.implementation){n(a,s.sibling),(s=r(s,l.children||[])).return=a,a=s;break e}n(a,s);break}t(a,s),s=s.sibling}(s=Ac(l,a.mode,o)).return=a,a=s}return i(a);case O:return e(a,s,(d=l._init)(l._payload),o)}if(te(l))return f(a,s,l,o);if(L(l))return g(a,s,l,o);$s(a,l)}return"string"===typeof l&&""!==l||"number"===typeof l?(l=""+l,null!==s&&6===s.tag?(n(a,s.sibling),(s=r(s,l)).return=a,a=s):(n(a,s),(s=zc(l,a.mode,o)).return=a,a=s),i(a)):n(a,s)}}var Gs=Ys(!0),Js=Ys(!1),Xs={},Zs=_r(Xs),el=_r(Xs),tl=_r(Xs);function nl(e){if(e===Xs)throw Error(s(174));return e}function al(e,t){switch(Sr(tl,t),Sr(el,e),Sr(Zs,Xs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:oe(null,"");break;default:t=oe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Nr(Zs),Sr(Zs,t)}function rl(){Nr(Zs),Nr(el),Nr(tl)}function sl(e){nl(tl.current);var t=nl(Zs.current),n=oe(t,e.type);t!==n&&(Sr(el,e),Sr(Zs,n))}function ll(e){el.current===e&&(Nr(Zs),Nr(el))}var il=_r(0);function ol(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var cl=[];function dl(){for(var e=0;e<cl.length;e++)cl[e]._workInProgressVersionPrimary=null;cl.length=0}var ul=y.ReactCurrentDispatcher,pl=y.ReactCurrentBatchConfig,hl=0,ml=null,fl=null,gl=null,vl=!1,xl=!1,bl=0,yl=0;function jl(){throw Error(s(321))}function wl(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ia(e[n],t[n]))return!1;return!0}function kl(e,t,n,a,r,l){if(hl=l,ml=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ul.current=null===e||null===e.memoizedState?li:ii,e=n(a,r),xl){l=0;do{if(xl=!1,bl=0,25<=l)throw Error(s(301));l+=1,gl=fl=null,t.updateQueue=null,ul.current=oi,e=n(a,r)}while(xl)}if(ul.current=si,t=null!==fl&&null!==fl.next,hl=0,gl=fl=ml=null,vl=!1,t)throw Error(s(300));return e}function _l(){var e=0!==bl;return bl=0,e}function Nl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===gl?ml.memoizedState=gl=e:gl=gl.next=e,gl}function Sl(){if(null===fl){var e=ml.alternate;e=null!==e?e.memoizedState:null}else e=fl.next;var t=null===gl?ml.memoizedState:gl.next;if(null!==t)gl=t,fl=e;else{if(null===e)throw Error(s(310));e={memoizedState:(fl=e).memoizedState,baseState:fl.baseState,baseQueue:fl.baseQueue,queue:fl.queue,next:null},null===gl?ml.memoizedState=gl=e:gl=gl.next=e}return gl}function Cl(e,t){return"function"===typeof t?t(e):t}function Pl(e){var t=Sl(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var a=fl,r=a.baseQueue,l=n.pending;if(null!==l){if(null!==r){var i=r.next;r.next=l.next,l.next=i}a.baseQueue=r=l,n.pending=null}if(null!==r){l=r.next,a=a.baseState;var o=i=null,c=null,d=l;do{var u=d.lane;if((hl&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),a=d.hasEagerState?d.eagerState:e(a,d.action);else{var p={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(o=c=p,i=a):c=c.next=p,ml.lanes|=u,Fo|=u}d=d.next}while(null!==d&&d!==l);null===c?i=a:c.next=o,ia(a,t.memoizedState)||(bi=!0),t.memoizedState=a,t.baseState=i,t.baseQueue=c,n.lastRenderedState=a}if(null!==(e=n.interleaved)){r=e;do{l=r.lane,ml.lanes|=l,Fo|=l,r=r.next}while(r!==e)}else null===r&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function El(e){var t=Sl(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var a=n.dispatch,r=n.pending,l=t.memoizedState;if(null!==r){n.pending=null;var i=r=r.next;do{l=e(l,i.action),i=i.next}while(i!==r);ia(l,t.memoizedState)||(bi=!0),t.memoizedState=l,null===t.baseQueue&&(t.baseState=l),n.lastRenderedState=l}return[l,a]}function Ml(){}function Il(e,t){var n=ml,a=Sl(),r=t(),l=!ia(a.memoizedState,r);if(l&&(a.memoizedState=r,bi=!0),a=a.queue,Wl(Tl.bind(null,n,a,e),[e]),a.getSnapshot!==t||l||null!==gl&&1&gl.memoizedState.tag){if(n.flags|=2048,zl(9,Rl.bind(null,n,a,r,t),void 0,null),null===Mo)throw Error(s(349));0!==(30&hl)||Ol(n,t,r)}return r}function Ol(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ml.updateQueue)?(t={lastEffect:null,stores:null},ml.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Rl(e,t,n,a){t.value=n,t.getSnapshot=a,Ll(t)&&Dl(e)}function Tl(e,t,n){return n(function(){Ll(t)&&Dl(e)})}function Ll(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ia(e,n)}catch(a){return!0}}function Dl(e){var t=Es(e,1);null!==t&&ac(t,e,1,-1)}function Fl(e){var t=Nl();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cl,lastRenderedState:e},t.queue=e,e=e.dispatch=ti.bind(null,ml,e),[t.memoizedState,e]}function zl(e,t,n,a){return e={tag:e,create:t,destroy:n,deps:a,next:null},null===(t=ml.updateQueue)?(t={lastEffect:null,stores:null},ml.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function Al(){return Sl().memoizedState}function Ul(e,t,n,a){var r=Nl();ml.flags|=e,r.memoizedState=zl(1|t,n,void 0,void 0===a?null:a)}function ql(e,t,n,a){var r=Sl();a=void 0===a?null:a;var s=void 0;if(null!==fl){var l=fl.memoizedState;if(s=l.destroy,null!==a&&wl(a,l.deps))return void(r.memoizedState=zl(t,n,s,a))}ml.flags|=e,r.memoizedState=zl(1|t,n,s,a)}function Bl(e,t){return Ul(8390656,8,e,t)}function Wl(e,t){return ql(2048,8,e,t)}function Vl(e,t){return ql(4,2,e,t)}function Hl(e,t){return ql(4,4,e,t)}function Ql(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function $l(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ql(4,4,Ql.bind(null,t,e),n)}function Kl(){}function Yl(e,t){var n=Sl();t=void 0===t?null:t;var a=n.memoizedState;return null!==a&&null!==t&&wl(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function Gl(e,t){var n=Sl();t=void 0===t?null:t;var a=n.memoizedState;return null!==a&&null!==t&&wl(t,a[1])?a[0]:(e=e(),n.memoizedState=[e,t],e)}function Jl(e,t,n){return 0===(21&hl)?(e.baseState&&(e.baseState=!1,bi=!0),e.memoizedState=n):(ia(n,t)||(n=ft(),ml.lanes|=n,Fo|=n,e.baseState=!0),t)}function Xl(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var a=pl.transition;pl.transition={};try{e(!1),t()}finally{bt=n,pl.transition=a}}function Zl(){return Sl().memoizedState}function ei(e,t,n){var a=nc(e);if(n={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null},ni(e))ai(t,n);else if(null!==(n=Ps(e,t,n,a))){ac(n,e,a,tc()),ri(n,t,a)}}function ti(e,t,n){var a=nc(e),r={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null};if(ni(e))ai(t,r);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var l=t.lastRenderedState,i=s(l,n);if(r.hasEagerState=!0,r.eagerState=i,ia(i,l)){var o=t.interleaved;return null===o?(r.next=r,Cs(t)):(r.next=o.next,o.next=r),void(t.interleaved=r)}}catch(c){}null!==(n=Ps(e,t,r,a))&&(ac(n,e,a,r=tc()),ri(n,t,a))}}function ni(e){var t=e.alternate;return e===ml||null!==t&&t===ml}function ai(e,t){xl=vl=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ri(e,t,n){if(0!==(4194240&n)){var a=t.lanes;n|=a&=e.pendingLanes,t.lanes=n,xt(e,n)}}var si={readContext:Ns,useCallback:jl,useContext:jl,useEffect:jl,useImperativeHandle:jl,useInsertionEffect:jl,useLayoutEffect:jl,useMemo:jl,useReducer:jl,useRef:jl,useState:jl,useDebugValue:jl,useDeferredValue:jl,useTransition:jl,useMutableSource:jl,useSyncExternalStore:jl,useId:jl,unstable_isNewReconciler:!1},li={readContext:Ns,useCallback:function(e,t){return Nl().memoizedState=[e,void 0===t?null:t],e},useContext:Ns,useEffect:Bl,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ul(4194308,4,Ql.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ul(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ul(4,2,e,t)},useMemo:function(e,t){var n=Nl();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var a=Nl();return t=void 0!==n?n(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=ei.bind(null,ml,e),[a.memoizedState,e]},useRef:function(e){return e={current:e},Nl().memoizedState=e},useState:Fl,useDebugValue:Kl,useDeferredValue:function(e){return Nl().memoizedState=e},useTransition:function(){var e=Fl(!1),t=e[0];return e=Xl.bind(null,e[1]),Nl().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var a=ml,r=Nl();if(rs){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Mo)throw Error(s(349));0!==(30&hl)||Ol(a,t,n)}r.memoizedState=n;var l={value:n,getSnapshot:t};return r.queue=l,Bl(Tl.bind(null,a,l,e),[e]),a.flags|=2048,zl(9,Rl.bind(null,a,l,n,t),void 0,null),n},useId:function(){var e=Nl(),t=Mo.identifierPrefix;if(rs){var n=Jr;t=":"+t+"R"+(n=(Gr&~(1<<32-lt(Gr)-1)).toString(32)+n),0<(n=bl++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=yl++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ii={readContext:Ns,useCallback:Yl,useContext:Ns,useEffect:Wl,useImperativeHandle:$l,useInsertionEffect:Vl,useLayoutEffect:Hl,useMemo:Gl,useReducer:Pl,useRef:Al,useState:function(){return Pl(Cl)},useDebugValue:Kl,useDeferredValue:function(e){return Jl(Sl(),fl.memoizedState,e)},useTransition:function(){return[Pl(Cl)[0],Sl().memoizedState]},useMutableSource:Ml,useSyncExternalStore:Il,useId:Zl,unstable_isNewReconciler:!1},oi={readContext:Ns,useCallback:Yl,useContext:Ns,useEffect:Wl,useImperativeHandle:$l,useInsertionEffect:Vl,useLayoutEffect:Hl,useMemo:Gl,useReducer:El,useRef:Al,useState:function(){return El(Cl)},useDebugValue:Kl,useDeferredValue:function(e){var t=Sl();return null===fl?t.memoizedState=e:Jl(t,fl.memoizedState,e)},useTransition:function(){return[El(Cl)[0],Sl().memoizedState]},useMutableSource:Ml,useSyncExternalStore:Il,useId:Zl,unstable_isNewReconciler:!1};function ci(e,t){try{var n="",a=t;do{n+=q(a),a=a.return}while(a);var r=n}catch(s){r="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:r,digest:null}}function di(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ui(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var pi="function"===typeof WeakMap?WeakMap:Map;function hi(e,t,n){(n=Rs(-1,n)).tag=3,n.payload={element:null};var a=t.value;return n.callback=function(){Ho||(Ho=!0,Qo=a),ui(0,t)},n}function mi(e,t,n){(n=Rs(-1,n)).tag=3;var a=e.type.getDerivedStateFromError;if("function"===typeof a){var r=t.value;n.payload=function(){return a(r)},n.callback=function(){ui(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){ui(0,t),"function"!==typeof a&&(null===$o?$o=new Set([this]):$o.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function fi(e,t,n){var a=e.pingCache;if(null===a){a=e.pingCache=new pi;var r=new Set;a.set(t,r)}else void 0===(r=a.get(t))&&(r=new Set,a.set(t,r));r.has(n)||(r.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function gi(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vi(e,t,n,a,r){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Rs(-1,1)).tag=2,Ts(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=r,e)}var xi=y.ReactCurrentOwner,bi=!1;function yi(e,t,n,a){t.child=null===e?Js(t,null,n,a):Gs(t,e.child,n,a)}function ji(e,t,n,a,r){n=n.render;var s=t.ref;return _s(t,r),a=kl(e,t,n,a,s,r),n=_l(),null===e||bi?(rs&&n&&es(t),t.flags|=1,yi(e,t,a,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Vi(e,t,r))}function wi(e,t,n,a,r){if(null===e){var s=n.type;return"function"!==typeof s||Rc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,a,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,ki(e,t,s,a,r))}if(s=e.child,0===(e.lanes&r)){var l=s.memoizedProps;if((n=null!==(n=n.compare)?n:oa)(l,a)&&e.ref===t.ref)return Vi(e,t,r)}return t.flags|=1,(e=Tc(s,a)).ref=t.ref,e.return=t,t.child=e}function ki(e,t,n,a,r){if(null!==e){var s=e.memoizedProps;if(oa(s,a)&&e.ref===t.ref){if(bi=!1,t.pendingProps=a=s,0===(e.lanes&r))return t.lanes=e.lanes,Vi(e,t,r);0!==(131072&e.flags)&&(bi=!0)}}return Si(e,t,n,a,r)}function _i(e,t,n){var a=t.pendingProps,r=a.children,s=null!==e?e.memoizedState:null;if("hidden"===a.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Sr(To,Ro),Ro|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Sr(To,Ro),Ro|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=null!==s?s.baseLanes:n,Sr(To,Ro),Ro|=a}else null!==s?(a=s.baseLanes|n,t.memoizedState=null):a=n,Sr(To,Ro),Ro|=a;return yi(e,t,r,n),t.child}function Ni(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Si(e,t,n,a,r){var s=Or(n)?Mr:Pr.current;return s=Ir(t,s),_s(t,r),n=kl(e,t,n,a,s,r),a=_l(),null===e||bi?(rs&&a&&es(t),t.flags|=1,yi(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Vi(e,t,r))}function Ci(e,t,n,a,r){if(Or(n)){var s=!0;Dr(t)}else s=!1;if(_s(t,r),null===t.stateNode)Wi(e,t),Ws(t,n,a),Hs(t,n,a,r),a=!0;else if(null===e){var l=t.stateNode,i=t.memoizedProps;l.props=i;var o=l.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ns(c):c=Ir(t,c=Or(n)?Mr:Pr.current);var d=n.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof l.getSnapshotBeforeUpdate;u||"function"!==typeof l.UNSAFE_componentWillReceiveProps&&"function"!==typeof l.componentWillReceiveProps||(i!==a||o!==c)&&Vs(t,l,a,c),Ms=!1;var p=t.memoizedState;l.state=p,Fs(t,a,l,r),o=t.memoizedState,i!==a||p!==o||Er.current||Ms?("function"===typeof d&&(Us(t,n,d,a),o=t.memoizedState),(i=Ms||Bs(t,n,i,a,p,o,c))?(u||"function"!==typeof l.UNSAFE_componentWillMount&&"function"!==typeof l.componentWillMount||("function"===typeof l.componentWillMount&&l.componentWillMount(),"function"===typeof l.UNSAFE_componentWillMount&&l.UNSAFE_componentWillMount()),"function"===typeof l.componentDidMount&&(t.flags|=4194308)):("function"===typeof l.componentDidMount&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=o),l.props=a,l.state=o,l.context=c,a=i):("function"===typeof l.componentDidMount&&(t.flags|=4194308),a=!1)}else{l=t.stateNode,Os(e,t),i=t.memoizedProps,c=t.type===t.elementType?i:gs(t.type,i),l.props=c,u=t.pendingProps,p=l.context,"object"===typeof(o=n.contextType)&&null!==o?o=Ns(o):o=Ir(t,o=Or(n)?Mr:Pr.current);var h=n.getDerivedStateFromProps;(d="function"===typeof h||"function"===typeof l.getSnapshotBeforeUpdate)||"function"!==typeof l.UNSAFE_componentWillReceiveProps&&"function"!==typeof l.componentWillReceiveProps||(i!==u||p!==o)&&Vs(t,l,a,o),Ms=!1,p=t.memoizedState,l.state=p,Fs(t,a,l,r);var m=t.memoizedState;i!==u||p!==m||Er.current||Ms?("function"===typeof h&&(Us(t,n,h,a),m=t.memoizedState),(c=Ms||Bs(t,n,c,a,p,m,o)||!1)?(d||"function"!==typeof l.UNSAFE_componentWillUpdate&&"function"!==typeof l.componentWillUpdate||("function"===typeof l.componentWillUpdate&&l.componentWillUpdate(a,m,o),"function"===typeof l.UNSAFE_componentWillUpdate&&l.UNSAFE_componentWillUpdate(a,m,o)),"function"===typeof l.componentDidUpdate&&(t.flags|=4),"function"===typeof l.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof l.componentDidUpdate||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof l.getSnapshotBeforeUpdate||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=m),l.props=a,l.state=m,l.context=o,a=c):("function"!==typeof l.componentDidUpdate||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof l.getSnapshotBeforeUpdate||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),a=!1)}return Pi(e,t,n,a,s,r)}function Pi(e,t,n,a,r,s){Ni(e,t);var l=0!==(128&t.flags);if(!a&&!l)return r&&Fr(t,n,!1),Vi(e,t,s);a=t.stateNode,xi.current=t;var i=l&&"function"!==typeof n.getDerivedStateFromError?null:a.render();return t.flags|=1,null!==e&&l?(t.child=Gs(t,e.child,null,s),t.child=Gs(t,null,i,s)):yi(e,t,i,s),t.memoizedState=a.state,r&&Fr(t,n,!0),t.child}function Ei(e){var t=e.stateNode;t.pendingContext?Tr(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Tr(0,t.context,!1),al(e,t.containerInfo)}function Mi(e,t,n,a,r){return hs(),ms(r),t.flags|=256,yi(e,t,n,a),t.child}var Ii,Oi,Ri,Ti,Li={dehydrated:null,treeContext:null,retryLane:0};function Di(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fi(e,t,n){var a,r=t.pendingProps,l=il.current,i=!1,o=0!==(128&t.flags);if((a=o)||(a=(null===e||null!==e.memoizedState)&&0!==(2&l)),a?(i=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(l|=1),Sr(il,1&l),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},0===(1&r)&&null!==i?(i.childLanes=0,i.pendingProps=o):i=Fc(o,r,0,null),e=Dc(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Di(n),t.memoizedState=Li,e):zi(t,o));if(null!==(l=e.memoizedState)&&null!==(a=l.dehydrated))return function(e,t,n,a,r,l,i){if(n)return 256&t.flags?(t.flags&=-257,Ai(e,t,i,a=di(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(l=a.fallback,r=t.mode,a=Fc({mode:"visible",children:a.children},r,0,null),(l=Dc(l,r,i,null)).flags|=2,a.return=t,l.return=t,a.sibling=l,t.child=a,0!==(1&t.mode)&&Gs(t,e.child,null,i),t.child.memoizedState=Di(i),t.memoizedState=Li,l);if(0===(1&t.mode))return Ai(e,t,i,null);if("$!"===r.data){if(a=r.nextSibling&&r.nextSibling.dataset)var o=a.dgst;return a=o,Ai(e,t,i,a=di(l=Error(s(419)),a,void 0))}if(o=0!==(i&e.childLanes),bi||o){if(null!==(a=Mo)){switch(i&-i){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}0!==(r=0!==(r&(a.suspendedLanes|i))?0:r)&&r!==l.retryLane&&(l.retryLane=r,Es(e,r),ac(a,e,r,-1))}return gc(),Ai(e,t,i,a=di(Error(s(421))))}return"$?"===r.data?(t.flags|=128,t.child=e.child,t=Pc.bind(null,e),r._reactRetry=t,null):(e=l.treeContext,as=cr(r.nextSibling),ns=t,rs=!0,ss=null,null!==e&&($r[Kr++]=Gr,$r[Kr++]=Jr,$r[Kr++]=Yr,Gr=e.id,Jr=e.overflow,Yr=t),t=zi(t,a.children),t.flags|=4096,t)}(e,t,o,r,a,l,n);if(i){i=r.fallback,o=t.mode,a=(l=e.child).sibling;var c={mode:"hidden",children:r.children};return 0===(1&o)&&t.child!==l?((r=t.child).childLanes=0,r.pendingProps=c,t.deletions=null):(r=Tc(l,c)).subtreeFlags=14680064&l.subtreeFlags,null!==a?i=Tc(a,i):(i=Dc(i,o,n,null)).flags|=2,i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=null===(o=e.child.memoizedState)?Di(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Li,r}return e=(i=e.child).sibling,r=Tc(i,{mode:"visible",children:r.children}),0===(1&t.mode)&&(r.lanes=n),r.return=t,r.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function zi(e,t){return(t=Fc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ai(e,t,n,a){return null!==a&&ms(a),Gs(t,e.child,null,n),(e=zi(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ui(e,t,n){e.lanes|=t;var a=e.alternate;null!==a&&(a.lanes|=t),ks(e.return,t,n)}function qi(e,t,n,a,r){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:r}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=a,s.tail=n,s.tailMode=r)}function Bi(e,t,n){var a=t.pendingProps,r=a.revealOrder,s=a.tail;if(yi(e,t,a.children,n),0!==(2&(a=il.current)))a=1&a|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ui(e,n,t);else if(19===e.tag)Ui(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(Sr(il,a),0===(1&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===ol(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),qi(t,!1,r,n,s);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===ol(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}qi(t,!0,n,null,s);break;case"together":qi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wi(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Vi(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fo|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Tc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Tc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Hi(e,t){if(!rs)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;null!==n;)null!==n.alternate&&(a=n),n=n.sibling;null===a?t||null===e.tail?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Qi(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,a=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,a|=14680064&r.subtreeFlags,a|=14680064&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,a|=r.subtreeFlags,a|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function $i(e,t,n){var a=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qi(t),null;case 1:case 17:return Or(t.type)&&Rr(),Qi(t),null;case 3:return a=t.stateNode,rl(),Nr(Er),Nr(Pr),dl(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),null!==e&&null!==e.child||(us(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(ic(ss),ss=null))),Oi(e,t),Qi(t),null;case 5:ll(t);var r=nl(tl.current);if(n=t.type,null!==e&&null!=t.stateNode)Ri(e,t,n,a,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(null===t.stateNode)throw Error(s(166));return Qi(t),null}if(e=nl(Zs.current),us(t)){a=t.stateNode,n=t.type;var l=t.memoizedProps;switch(a[pr]=t,a[hr]=l,e=0!==(1&t.mode),n){case"dialog":Aa("cancel",a),Aa("close",a);break;case"iframe":case"object":case"embed":Aa("load",a);break;case"video":case"audio":for(r=0;r<La.length;r++)Aa(La[r],a);break;case"source":Aa("error",a);break;case"img":case"image":case"link":Aa("error",a),Aa("load",a);break;case"details":Aa("toggle",a);break;case"input":G(a,l),Aa("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!l.multiple},Aa("invalid",a);break;case"textarea":re(a,l),Aa("invalid",a)}for(var o in xe(n,l),r=null,l)if(l.hasOwnProperty(o)){var c=l[o];"children"===o?"string"===typeof c?a.textContent!==c&&(!0!==l.suppressHydrationWarning&&Xa(a.textContent,c,e),r=["children",c]):"number"===typeof c&&a.textContent!==""+c&&(!0!==l.suppressHydrationWarning&&Xa(a.textContent,c,e),r=["children",""+c]):i.hasOwnProperty(o)&&null!=c&&"onScroll"===o&&Aa("scroll",a)}switch(n){case"input":Q(a),Z(a,l,!0);break;case"textarea":Q(a),le(a);break;case"select":case"option":break;default:"function"===typeof l.onClick&&(a.onclick=Za)}a=r,t.updateQueue=a,null!==a&&(t.flags|=4)}else{o=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ie(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=o.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof a.is?e=o.createElement(n,{is:a.is}):(e=o.createElement(n),"select"===n&&(o=e,a.multiple?o.multiple=!0:a.size&&(o.size=a.size))):e=o.createElementNS(e,n),e[pr]=t,e[hr]=a,Ii(e,t,!1,!1),t.stateNode=e;e:{switch(o=be(n,a),n){case"dialog":Aa("cancel",e),Aa("close",e),r=a;break;case"iframe":case"object":case"embed":Aa("load",e),r=a;break;case"video":case"audio":for(r=0;r<La.length;r++)Aa(La[r],e);r=a;break;case"source":Aa("error",e),r=a;break;case"img":case"image":case"link":Aa("error",e),Aa("load",e),r=a;break;case"details":Aa("toggle",e),r=a;break;case"input":G(e,a),r=Y(e,a),Aa("invalid",e);break;case"option":default:r=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},r=F({},a,{value:void 0}),Aa("invalid",e);break;case"textarea":re(e,a),r=ae(e,a),Aa("invalid",e)}for(l in xe(n,r),c=r)if(c.hasOwnProperty(l)){var d=c[l];"style"===l?ge(e,d):"dangerouslySetInnerHTML"===l?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===l?"string"===typeof d?("textarea"!==n||""!==d)&&pe(e,d):"number"===typeof d&&pe(e,""+d):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(i.hasOwnProperty(l)?null!=d&&"onScroll"===l&&Aa("scroll",e):null!=d&&b(e,l,d,o))}switch(n){case"input":Q(e),Z(e,a,!1);break;case"textarea":Q(e),le(e);break;case"option":null!=a.value&&e.setAttribute("value",""+V(a.value));break;case"select":e.multiple=!!a.multiple,null!=(l=a.value)?ne(e,!!a.multiple,l,!1):null!=a.defaultValue&&ne(e,!!a.multiple,a.defaultValue,!0);break;default:"function"===typeof r.onClick&&(e.onclick=Za)}switch(n){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Qi(t),null;case 6:if(e&&null!=t.stateNode)Ti(e,t,e.memoizedProps,a);else{if("string"!==typeof a&&null===t.stateNode)throw Error(s(166));if(n=nl(tl.current),nl(Zs.current),us(t)){if(a=t.stateNode,n=t.memoizedProps,a[pr]=t,(l=a.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Xa(a.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xa(a.nodeValue,n,0!==(1&e.mode))}l&&(t.flags|=4)}else(a=(9===n.nodeType?n:n.ownerDocument).createTextNode(a))[pr]=t,t.stateNode=a}return Qi(t),null;case 13:if(Nr(il),a=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(rs&&null!==as&&0!==(1&t.mode)&&0===(128&t.flags))ps(),hs(),t.flags|=98560,l=!1;else if(l=us(t),null!==a&&null!==a.dehydrated){if(null===e){if(!l)throw Error(s(318));if(!(l=null!==(l=t.memoizedState)?l.dehydrated:null))throw Error(s(317));l[pr]=t}else hs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Qi(t),l=!1}else null!==ss&&(ic(ss),ss=null),l=!0;if(!l)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((a=null!==a)!==(null!==e&&null!==e.memoizedState)&&a&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&il.current)?0===Lo&&(Lo=3):gc())),null!==t.updateQueue&&(t.flags|=4),Qi(t),null);case 4:return rl(),Oi(e,t),null===e&&Ba(t.stateNode.containerInfo),Qi(t),null;case 10:return ws(t.type._context),Qi(t),null;case 19:if(Nr(il),null===(l=t.memoizedState))return Qi(t),null;if(a=0!==(128&t.flags),null===(o=l.rendering))if(a)Hi(l,!1);else{if(0!==Lo||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=ol(e))){for(t.flags|=128,Hi(l,!1),null!==(a=o.updateQueue)&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=n,n=t.child;null!==n;)e=a,(l=n).flags&=14680066,null===(o=l.alternate)?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=o.childLanes,l.lanes=o.lanes,l.child=o.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=o.memoizedProps,l.memoizedState=o.memoizedState,l.updateQueue=o.updateQueue,l.type=o.type,e=o.dependencies,l.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Sr(il,1&il.current|2),t.child}e=e.sibling}null!==l.tail&&Je()>Wo&&(t.flags|=128,a=!0,Hi(l,!1),t.lanes=4194304)}else{if(!a)if(null!==(e=ol(o))){if(t.flags|=128,a=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Hi(l,!0),null===l.tail&&"hidden"===l.tailMode&&!o.alternate&&!rs)return Qi(t),null}else 2*Je()-l.renderingStartTime>Wo&&1073741824!==n&&(t.flags|=128,a=!0,Hi(l,!1),t.lanes=4194304);l.isBackwards?(o.sibling=t.child,t.child=o):(null!==(n=l.last)?n.sibling=o:t.child=o,l.last=o)}return null!==l.tail?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Je(),t.sibling=null,n=il.current,Sr(il,a?1&n|2:1&n),t):(Qi(t),null);case 22:case 23:return pc(),a=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==a&&(t.flags|=8192),a&&0!==(1&t.mode)?0!==(1073741824&Ro)&&(Qi(t),6&t.subtreeFlags&&(t.flags|=8192)):Qi(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Ki(e,t){switch(ts(t),t.tag){case 1:return Or(t.type)&&Rr(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return rl(),Nr(Er),Nr(Pr),dl(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return ll(t),null;case 13:if(Nr(il),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));hs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Nr(il),null;case 4:return rl(),null;case 10:return ws(t.type._context),null;case 22:case 23:return pc(),null;default:return null}}Ii=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Oi=function(){},Ri=function(e,t,n,a){var r=e.memoizedProps;if(r!==a){e=t.stateNode,nl(Zs.current);var s,l=null;switch(n){case"input":r=Y(e,r),a=Y(e,a),l=[];break;case"select":r=F({},r,{value:void 0}),a=F({},a,{value:void 0}),l=[];break;case"textarea":r=ae(e,r),a=ae(e,a),l=[];break;default:"function"!==typeof r.onClick&&"function"===typeof a.onClick&&(e.onclick=Za)}for(d in xe(n,a),n=null,r)if(!a.hasOwnProperty(d)&&r.hasOwnProperty(d)&&null!=r[d])if("style"===d){var o=r[d];for(s in o)o.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(i.hasOwnProperty(d)?l||(l=[]):(l=l||[]).push(d,null));for(d in a){var c=a[d];if(o=null!=r?r[d]:void 0,a.hasOwnProperty(d)&&c!==o&&(null!=c||null!=o))if("style"===d)if(o){for(s in o)!o.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&o[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(l||(l=[]),l.push(d,n)),n=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,o=o?o.__html:void 0,null!=c&&o!==c&&(l=l||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(l=l||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(i.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&Aa("scroll",e),l||o===c||(l=[])):(l=l||[]).push(d,c))}n&&(l=l||[]).push("style",n);var d=l;(t.updateQueue=d)&&(t.flags|=4)}},Ti=function(e,t,n,a){n!==a&&(t.flags|=4)};var Yi=!1,Gi=!1,Ji="function"===typeof WeakSet?WeakSet:Set,Xi=null;function Zi(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(a){Nc(e,t,a)}else n.current=null}function eo(e,t,n){try{n()}catch(a){Nc(e,t,a)}}var to=!1;function no(e,t,n){var a=t.updateQueue;if(null!==(a=null!==a?a.lastEffect:null)){var r=a=a.next;do{if((r.tag&e)===e){var s=r.destroy;r.destroy=void 0,void 0!==s&&eo(t,n,s)}r=r.next}while(r!==a)}}function ao(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var a=n.create;n.destroy=a()}n=n.next}while(n!==t)}}function ro(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function so(e){var t=e.alternate;null!==t&&(e.alternate=null,so(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[pr],delete t[hr],delete t[fr],delete t[gr],delete t[vr])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function lo(e){return 5===e.tag||3===e.tag||4===e.tag}function io(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||lo(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function oo(e,t,n){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Za));else if(4!==a&&null!==(e=e.child))for(oo(e,t,n),e=e.sibling;null!==e;)oo(e,t,n),e=e.sibling}function co(e,t,n){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==a&&null!==(e=e.child))for(co(e,t,n),e=e.sibling;null!==e;)co(e,t,n),e=e.sibling}var uo=null,po=!1;function ho(e,t,n){for(n=n.child;null!==n;)mo(e,t,n),n=n.sibling}function mo(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(rt,n)}catch(i){}switch(n.tag){case 5:Gi||Zi(n,t);case 6:var a=uo,r=po;uo=null,ho(e,t,n),po=r,null!==(uo=a)&&(po?(e=uo,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):uo.removeChild(n.stateNode));break;case 18:null!==uo&&(po?(e=uo,n=n.stateNode,8===e.nodeType?or(e.parentNode,n):1===e.nodeType&&or(e,n),Bt(e)):or(uo,n.stateNode));break;case 4:a=uo,r=po,uo=n.stateNode.containerInfo,po=!0,ho(e,t,n),uo=a,po=r;break;case 0:case 11:case 14:case 15:if(!Gi&&(null!==(a=n.updateQueue)&&null!==(a=a.lastEffect))){r=a=a.next;do{var s=r,l=s.destroy;s=s.tag,void 0!==l&&(0!==(2&s)||0!==(4&s))&&eo(n,t,l),r=r.next}while(r!==a)}ho(e,t,n);break;case 1:if(!Gi&&(Zi(n,t),"function"===typeof(a=n.stateNode).componentWillUnmount))try{a.props=n.memoizedProps,a.state=n.memoizedState,a.componentWillUnmount()}catch(i){Nc(n,t,i)}ho(e,t,n);break;case 21:ho(e,t,n);break;case 22:1&n.mode?(Gi=(a=Gi)||null!==n.memoizedState,ho(e,t,n),Gi=a):ho(e,t,n);break;default:ho(e,t,n)}}function fo(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ji),t.forEach(function(t){var a=Ec.bind(null,e,t);n.has(t)||(n.add(t),t.then(a,a))})}}function go(e,t){var n=t.deletions;if(null!==n)for(var a=0;a<n.length;a++){var r=n[a];try{var l=e,i=t,o=i;e:for(;null!==o;){switch(o.tag){case 5:uo=o.stateNode,po=!1;break e;case 3:case 4:uo=o.stateNode.containerInfo,po=!0;break e}o=o.return}if(null===uo)throw Error(s(160));mo(l,i,r),uo=null,po=!1;var c=r.alternate;null!==c&&(c.return=null),r.return=null}catch(d){Nc(r,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vo(t,e),t=t.sibling}function vo(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(go(t,e),xo(e),4&a){try{no(3,e,e.return),ao(3,e)}catch(g){Nc(e,e.return,g)}try{no(5,e,e.return)}catch(g){Nc(e,e.return,g)}}break;case 1:go(t,e),xo(e),512&a&&null!==n&&Zi(n,n.return);break;case 5:if(go(t,e),xo(e),512&a&&null!==n&&Zi(n,n.return),32&e.flags){var r=e.stateNode;try{pe(r,"")}catch(g){Nc(e,e.return,g)}}if(4&a&&null!=(r=e.stateNode)){var l=e.memoizedProps,i=null!==n?n.memoizedProps:l,o=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===o&&"radio"===l.type&&null!=l.name&&J(r,l),be(o,i);var d=be(o,l);for(i=0;i<c.length;i+=2){var u=c[i],p=c[i+1];"style"===u?ge(r,p):"dangerouslySetInnerHTML"===u?ue(r,p):"children"===u?pe(r,p):b(r,u,p,d)}switch(o){case"input":X(r,l);break;case"textarea":se(r,l);break;case"select":var h=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!l.multiple;var m=l.value;null!=m?ne(r,!!l.multiple,m,!1):h!==!!l.multiple&&(null!=l.defaultValue?ne(r,!!l.multiple,l.defaultValue,!0):ne(r,!!l.multiple,l.multiple?[]:"",!1))}r[hr]=l}catch(g){Nc(e,e.return,g)}}break;case 6:if(go(t,e),xo(e),4&a){if(null===e.stateNode)throw Error(s(162));r=e.stateNode,l=e.memoizedProps;try{r.nodeValue=l}catch(g){Nc(e,e.return,g)}}break;case 3:if(go(t,e),xo(e),4&a&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(g){Nc(e,e.return,g)}break;case 4:default:go(t,e),xo(e);break;case 13:go(t,e),xo(e),8192&(r=e.child).flags&&(l=null!==r.memoizedState,r.stateNode.isHidden=l,!l||null!==r.alternate&&null!==r.alternate.memoizedState||(Bo=Je())),4&a&&fo(e);break;case 22:if(u=null!==n&&null!==n.memoizedState,1&e.mode?(Gi=(d=Gi)||u,go(t,e),Gi=d):go(t,e),xo(e),8192&a){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(Xi=e,u=e.child;null!==u;){for(p=Xi=u;null!==Xi;){switch(m=(h=Xi).child,h.tag){case 0:case 11:case 14:case 15:no(4,h,h.return);break;case 1:Zi(h,h.return);var f=h.stateNode;if("function"===typeof f.componentWillUnmount){a=h,n=h.return;try{t=a,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(g){Nc(a,n,g)}}break;case 5:Zi(h,h.return);break;case 22:if(null!==h.memoizedState){wo(p);continue}}null!==m?(m.return=h,Xi=m):wo(p)}u=u.sibling}e:for(u=null,p=e;;){if(5===p.tag){if(null===u){u=p;try{r=p.stateNode,d?"function"===typeof(l=r.style).setProperty?l.setProperty("display","none","important"):l.display="none":(o=p.stateNode,i=void 0!==(c=p.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,o.style.display=fe("display",i))}catch(g){Nc(e,e.return,g)}}}else if(6===p.tag){if(null===u)try{p.stateNode.nodeValue=d?"":p.memoizedProps}catch(g){Nc(e,e.return,g)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===e)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;null===p.sibling;){if(null===p.return||p.return===e)break e;u===p&&(u=null),p=p.return}u===p&&(u=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:go(t,e),xo(e),4&a&&fo(e);case 21:}}function xo(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(lo(n)){var a=n;break e}n=n.return}throw Error(s(160))}switch(a.tag){case 5:var r=a.stateNode;32&a.flags&&(pe(r,""),a.flags&=-33),co(e,io(e),r);break;case 3:case 4:var l=a.stateNode.containerInfo;oo(e,io(e),l);break;default:throw Error(s(161))}}catch(i){Nc(e,e.return,i)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bo(e,t,n){Xi=e,yo(e,t,n)}function yo(e,t,n){for(var a=0!==(1&e.mode);null!==Xi;){var r=Xi,s=r.child;if(22===r.tag&&a){var l=null!==r.memoizedState||Yi;if(!l){var i=r.alternate,o=null!==i&&null!==i.memoizedState||Gi;i=Yi;var c=Gi;if(Yi=l,(Gi=o)&&!c)for(Xi=r;null!==Xi;)o=(l=Xi).child,22===l.tag&&null!==l.memoizedState?ko(r):null!==o?(o.return=l,Xi=o):ko(r);for(;null!==s;)Xi=s,yo(s,t,n),s=s.sibling;Xi=r,Yi=i,Gi=c}jo(e)}else 0!==(8772&r.subtreeFlags)&&null!==s?(s.return=r,Xi=s):jo(e)}}function jo(e){for(;null!==Xi;){var t=Xi;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Gi||ao(5,t);break;case 1:var a=t.stateNode;if(4&t.flags&&!Gi)if(null===n)a.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:gs(t.type,n.memoizedProps);a.componentDidUpdate(r,n.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;null!==l&&zs(t,l,a);break;case 3:var i=t.updateQueue;if(null!==i){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}zs(t,i,n)}break;case 5:var o=t.stateNode;if(null===n&&4&t.flags){n=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var p=u.dehydrated;null!==p&&Bt(p)}}}break;default:throw Error(s(163))}Gi||512&t.flags&&ro(t)}catch(h){Nc(t,t.return,h)}}if(t===e){Xi=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xi=n;break}Xi=t.return}}function wo(e){for(;null!==Xi;){var t=Xi;if(t===e){Xi=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xi=n;break}Xi=t.return}}function ko(e){for(;null!==Xi;){var t=Xi;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ao(4,t)}catch(o){Nc(t,n,o)}break;case 1:var a=t.stateNode;if("function"===typeof a.componentDidMount){var r=t.return;try{a.componentDidMount()}catch(o){Nc(t,r,o)}}var s=t.return;try{ro(t)}catch(o){Nc(t,s,o)}break;case 5:var l=t.return;try{ro(t)}catch(o){Nc(t,l,o)}}}catch(o){Nc(t,t.return,o)}if(t===e){Xi=null;break}var i=t.sibling;if(null!==i){i.return=t.return,Xi=i;break}Xi=t.return}}var _o,No=Math.ceil,So=y.ReactCurrentDispatcher,Co=y.ReactCurrentOwner,Po=y.ReactCurrentBatchConfig,Eo=0,Mo=null,Io=null,Oo=0,Ro=0,To=_r(0),Lo=0,Do=null,Fo=0,zo=0,Ao=0,Uo=null,qo=null,Bo=0,Wo=1/0,Vo=null,Ho=!1,Qo=null,$o=null,Ko=!1,Yo=null,Go=0,Jo=0,Xo=null,Zo=-1,ec=0;function tc(){return 0!==(6&Eo)?Je():-1!==Zo?Zo:Zo=Je()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Eo)&&0!==Oo?Oo&-Oo:null!==fs.transition?(0===ec&&(ec=ft()),ec):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Gt(e.type)}function ac(e,t,n,a){if(50<Jo)throw Jo=0,Xo=null,Error(s(185));vt(e,n,a),0!==(2&Eo)&&e===Mo||(e===Mo&&(0===(2&Eo)&&(zo|=n),4===Lo&&oc(e,Oo)),rc(e,a),1===n&&0===Eo&&0===(1&t.mode)&&(Wo=Je()+500,Ar&&Br()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,r=e.expirationTimes,s=e.pendingLanes;0<s;){var l=31-lt(s),i=1<<l,o=r[l];-1===o?0!==(i&n)&&0===(i&a)||(r[l]=ht(i,t)):o<=t&&(e.expiredLanes|=i),s&=~i}}(e,t);var a=pt(e,e===Mo?Oo:0);if(0===a)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){Ar=!0,qr(e)}(cc.bind(null,e)):qr(cc.bind(null,e)),lr(function(){0===(6&Eo)&&Br()}),n=null;else{switch(yt(a)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=at}n=Mc(n,sc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sc(e,t){if(Zo=-1,ec=0,0!==(6&Eo))throw Error(s(327));var n=e.callbackNode;if(kc()&&e.callbackNode!==n)return null;var a=pt(e,e===Mo?Oo:0);if(0===a)return null;if(0!==(30&a)||0!==(a&e.expiredLanes)||t)t=vc(e,a);else{t=a;var r=Eo;Eo|=2;var l=fc();for(Mo===e&&Oo===t||(Vo=null,Wo=Je()+500,hc(e,t));;)try{bc();break}catch(o){mc(e,o)}js(),So.current=l,Eo=r,null!==Io?t=0:(Mo=null,Oo=0,t=Lo)}if(0!==t){if(2===t&&(0!==(r=mt(e))&&(a=r,t=lc(e,r))),1===t)throw n=Do,hc(e,0),oc(e,a),rc(e,Je()),n;if(6===t)oc(e,a);else{if(r=e.current.alternate,0===(30&a)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var a=0;a<n.length;a++){var r=n[a],s=r.getSnapshot;r=r.value;try{if(!ia(s(),r))return!1}catch(i){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(r)&&(2===(t=vc(e,a))&&(0!==(l=mt(e))&&(a=l,t=lc(e,l))),1===t))throw n=Do,hc(e,0),oc(e,a),rc(e,Je()),n;switch(e.finishedWork=r,e.finishedLanes=a,t){case 0:case 1:throw Error(s(345));case 2:case 5:wc(e,qo,Vo);break;case 3:if(oc(e,a),(130023424&a)===a&&10<(t=Bo+500-Je())){if(0!==pt(e,0))break;if(((r=e.suspendedLanes)&a)!==a){tc(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=ar(wc.bind(null,e,qo,Vo),t);break}wc(e,qo,Vo);break;case 4:if(oc(e,a),(4194240&a)===a)break;for(t=e.eventTimes,r=-1;0<a;){var i=31-lt(a);l=1<<i,(i=t[i])>r&&(r=i),a&=~l}if(a=r,10<(a=(120>(a=Je()-a)?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*No(a/1960))-a)){e.timeoutHandle=ar(wc.bind(null,e,qo,Vo),a);break}wc(e,qo,Vo);break;default:throw Error(s(329))}}}return rc(e,Je()),e.callbackNode===n?sc.bind(null,e):null}function lc(e,t){var n=Uo;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=qo,qo=n,null!==t&&ic(t)),e}function ic(e){null===qo?qo=e:qo.push.apply(qo,e)}function oc(e,t){for(t&=~Ao,t&=~zo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-lt(t),a=1<<n;e[n]=-1,t&=~a}}function cc(e){if(0!==(6&Eo))throw Error(s(327));kc();var t=pt(e,0);if(0===(1&t))return rc(e,Je()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var a=mt(e);0!==a&&(t=a,n=lc(e,a))}if(1===n)throw n=Do,hc(e,0),oc(e,t),rc(e,Je()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,qo,Vo),rc(e,Je()),null}function dc(e,t){var n=Eo;Eo|=1;try{return e(t)}finally{0===(Eo=n)&&(Wo=Je()+500,Ar&&Br())}}function uc(e){null!==Yo&&0===Yo.tag&&0===(6&Eo)&&kc();var t=Eo;Eo|=1;var n=Po.transition,a=bt;try{if(Po.transition=null,bt=1,e)return e()}finally{bt=a,Po.transition=n,0===(6&(Eo=t))&&Br()}}function pc(){Ro=To.current,Nr(To)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,rr(n)),null!==Io)for(n=Io.return;null!==n;){var a=n;switch(ts(a),a.tag){case 1:null!==(a=a.type.childContextTypes)&&void 0!==a&&Rr();break;case 3:rl(),Nr(Er),Nr(Pr),dl();break;case 5:ll(a);break;case 4:rl();break;case 13:case 19:Nr(il);break;case 10:ws(a.type._context);break;case 22:case 23:pc()}n=n.return}if(Mo=e,Io=e=Tc(e.current,null),Oo=Ro=t,Lo=0,Do=null,Ao=zo=Fo=0,qo=Uo=null,null!==Ss){for(t=0;t<Ss.length;t++)if(null!==(a=(n=Ss[t]).interleaved)){n.interleaved=null;var r=a.next,s=n.pending;if(null!==s){var l=s.next;s.next=r,a.next=l}n.pending=a}Ss=null}return e}function mc(e,t){for(;;){var n=Io;try{if(js(),ul.current=si,vl){for(var a=ml.memoizedState;null!==a;){var r=a.queue;null!==r&&(r.pending=null),a=a.next}vl=!1}if(hl=0,gl=fl=ml=null,xl=!1,bl=0,Co.current=null,null===n||null===n.return){Lo=1,Do=t,Io=null;break}e:{var l=e,i=n.return,o=n,c=t;if(t=Oo,o.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=o,p=u.tag;if(0===(1&u.mode)&&(0===p||11===p||15===p)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=gi(i);if(null!==m){m.flags&=-257,vi(m,i,o,0,t),1&m.mode&&fi(l,d,t),c=d;var f=(t=m).updateQueue;if(null===f){var g=new Set;g.add(c),t.updateQueue=g}else f.add(c);break e}if(0===(1&t)){fi(l,d,t),gc();break e}c=Error(s(426))}else if(rs&&1&o.mode){var v=gi(i);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),vi(v,i,o,0,t),ms(ci(c,o));break e}}l=c=ci(c,o),4!==Lo&&(Lo=2),null===Uo?Uo=[l]:Uo.push(l),l=i;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t,Ds(l,hi(0,c,t));break e;case 1:o=c;var x=l.type,b=l.stateNode;if(0===(128&l.flags)&&("function"===typeof x.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===$o||!$o.has(b)))){l.flags|=65536,t&=-t,l.lanes|=t,Ds(l,mi(l,o,t));break e}}l=l.return}while(null!==l)}jc(n)}catch(y){t=y,Io===n&&null!==n&&(Io=n=n.return);continue}break}}function fc(){var e=So.current;return So.current=si,null===e?si:e}function gc(){0!==Lo&&3!==Lo&&2!==Lo||(Lo=4),null===Mo||0===(268435455&Fo)&&0===(268435455&zo)||oc(Mo,Oo)}function vc(e,t){var n=Eo;Eo|=2;var a=fc();for(Mo===e&&Oo===t||(Vo=null,hc(e,t));;)try{xc();break}catch(r){mc(e,r)}if(js(),Eo=n,So.current=a,null!==Io)throw Error(s(261));return Mo=null,Oo=0,Lo}function xc(){for(;null!==Io;)yc(Io)}function bc(){for(;null!==Io&&!Ye();)yc(Io)}function yc(e){var t=_o(e.alternate,e,Ro);e.memoizedProps=e.pendingProps,null===t?jc(e):Io=t,Co.current=null}function jc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=$i(n,t,Ro)))return void(Io=n)}else{if(null!==(n=Ki(n,t)))return n.flags&=32767,void(Io=n);if(null===e)return Lo=6,void(Io=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Io=t);Io=t=e}while(null!==t);0===Lo&&(Lo=5)}function wc(e,t,n){var a=bt,r=Po.transition;try{Po.transition=null,bt=1,function(e,t,n,a){do{kc()}while(null!==Yo);if(0!==(6&Eo))throw Error(s(327));n=e.finishedWork;var r=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-lt(n),s=1<<r;t[r]=0,a[r]=-1,e[r]=-1,n&=~s}}(e,l),e===Mo&&(Io=Mo=null,Oo=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ko||(Ko=!0,Mc(tt,function(){return kc(),null})),l=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||l){l=Po.transition,Po.transition=null;var i=bt;bt=1;var o=Eo;Eo|=4,Co.current=null,function(e,t){if(er=Vt,ha(e=pa())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var a=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(a&&0!==a.rangeCount){n=a.anchorNode;var r=a.anchorOffset,l=a.focusNode;a=a.focusOffset;try{n.nodeType,l.nodeType}catch(j){n=null;break e}var i=0,o=-1,c=-1,d=0,u=0,p=e,h=null;t:for(;;){for(var m;p!==n||0!==r&&3!==p.nodeType||(o=i+r),p!==l||0!==a&&3!==p.nodeType||(c=i+a),3===p.nodeType&&(i+=p.nodeValue.length),null!==(m=p.firstChild);)h=p,p=m;for(;;){if(p===e)break t;if(h===n&&++d===r&&(o=i),h===l&&++u===a&&(c=i),null!==(m=p.nextSibling))break;h=(p=h).parentNode}p=m}n=-1===o||-1===c?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(tr={focusedElem:e,selectionRange:n},Vt=!1,Xi=t;null!==Xi;)if(e=(t=Xi).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xi=e;else for(;null!==Xi;){t=Xi;try{var f=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==f){var g=f.memoizedProps,v=f.memoizedState,x=t.stateNode,b=x.getSnapshotBeforeUpdate(t.elementType===t.type?g:gs(t.type,g),v);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var y=t.stateNode.containerInfo;1===y.nodeType?y.textContent="":9===y.nodeType&&y.documentElement&&y.removeChild(y.documentElement);break;default:throw Error(s(163))}}catch(j){Nc(t,t.return,j)}if(null!==(e=t.sibling)){e.return=t.return,Xi=e;break}Xi=t.return}f=to,to=!1}(e,n),vo(n,e),ma(tr),Vt=!!er,tr=er=null,e.current=n,bo(n,e,r),Ge(),Eo=o,bt=i,Po.transition=l}else e.current=n;if(Ko&&(Ko=!1,Yo=e,Go=r),l=e.pendingLanes,0===l&&($o=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(rt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Je()),null!==t)for(a=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],a(r.value,{componentStack:r.stack,digest:r.digest});if(Ho)throw Ho=!1,e=Qo,Qo=null,e;0!==(1&Go)&&0!==e.tag&&kc(),l=e.pendingLanes,0!==(1&l)?e===Xo?Jo++:(Jo=0,Xo=e):Jo=0,Br()}(e,t,n,a)}finally{Po.transition=r,bt=a}return null}function kc(){if(null!==Yo){var e=yt(Go),t=Po.transition,n=bt;try{if(Po.transition=null,bt=16>e?16:e,null===Yo)var a=!1;else{if(e=Yo,Yo=null,Go=0,0!==(6&Eo))throw Error(s(331));var r=Eo;for(Eo|=4,Xi=e.current;null!==Xi;){var l=Xi,i=l.child;if(0!==(16&Xi.flags)){var o=l.deletions;if(null!==o){for(var c=0;c<o.length;c++){var d=o[c];for(Xi=d;null!==Xi;){var u=Xi;switch(u.tag){case 0:case 11:case 15:no(8,u,l)}var p=u.child;if(null!==p)p.return=u,Xi=p;else for(;null!==Xi;){var h=(u=Xi).sibling,m=u.return;if(so(u),u===d){Xi=null;break}if(null!==h){h.return=m,Xi=h;break}Xi=m}}}var f=l.alternate;if(null!==f){var g=f.child;if(null!==g){f.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Xi=l}}if(0!==(2064&l.subtreeFlags)&&null!==i)i.return=l,Xi=i;else e:for(;null!==Xi;){if(0!==(2048&(l=Xi).flags))switch(l.tag){case 0:case 11:case 15:no(9,l,l.return)}var x=l.sibling;if(null!==x){x.return=l.return,Xi=x;break e}Xi=l.return}}var b=e.current;for(Xi=b;null!==Xi;){var y=(i=Xi).child;if(0!==(2064&i.subtreeFlags)&&null!==y)y.return=i,Xi=y;else e:for(i=b;null!==Xi;){if(0!==(2048&(o=Xi).flags))try{switch(o.tag){case 0:case 11:case 15:ao(9,o)}}catch(w){Nc(o,o.return,w)}if(o===i){Xi=null;break e}var j=o.sibling;if(null!==j){j.return=o.return,Xi=j;break e}Xi=o.return}}if(Eo=r,Br(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(rt,e)}catch(w){}a=!0}return a}finally{bt=n,Po.transition=t}}return!1}function _c(e,t,n){e=Ts(e,t=hi(0,t=ci(n,t),1),1),t=tc(),null!==e&&(vt(e,1,t),rc(e,t))}function Nc(e,t,n){if(3===e.tag)_c(e,e,n);else for(;null!==t;){if(3===t.tag){_c(t,e,n);break}if(1===t.tag){var a=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof a.componentDidCatch&&(null===$o||!$o.has(a))){t=Ts(t,e=mi(t,e=ci(n,e),1),1),e=tc(),null!==t&&(vt(t,1,e),rc(t,e));break}}t=t.return}}function Sc(e,t,n){var a=e.pingCache;null!==a&&a.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Mo===e&&(Oo&n)===n&&(4===Lo||3===Lo&&(130023424&Oo)===Oo&&500>Je()-Bo?hc(e,0):Ao|=n),rc(e,t)}function Cc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var n=tc();null!==(e=Es(e,t))&&(vt(e,t,n),rc(e,n))}function Pc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cc(e,n)}function Ec(e,t){var n=0;switch(e.tag){case 13:var a=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(s(314))}null!==a&&a.delete(t),Cc(e,n)}function Mc(e,t){return $e(e,t)}function Ic(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oc(e,t,n,a){return new Ic(e,t,n,a)}function Rc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Tc(e,t){var n=e.alternate;return null===n?((n=Oc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,a,r,l){var i=2;if(a=e,"function"===typeof e)Rc(e)&&(i=1);else if("string"===typeof e)i=5;else e:switch(e){case k:return Dc(n.children,r,l,t);case _:i=8,r|=8;break;case N:return(e=Oc(12,n,t,2|r)).elementType=N,e.lanes=l,e;case E:return(e=Oc(13,n,t,r)).elementType=E,e.lanes=l,e;case M:return(e=Oc(19,n,t,r)).elementType=M,e.lanes=l,e;case R:return Fc(n,r,l,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:i=10;break e;case C:i=9;break e;case P:i=11;break e;case I:i=14;break e;case O:i=16,a=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Oc(i,n,t,r)).elementType=e,t.type=a,t.lanes=l,t}function Dc(e,t,n,a){return(e=Oc(7,e,a,t)).lanes=n,e}function Fc(e,t,n,a){return(e=Oc(22,e,a,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function zc(e,t,n){return(e=Oc(6,e,null,t)).lanes=n,e}function Ac(e,t,n){return(t=Oc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,a,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=a,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function qc(e,t,n,a,r,s,l,i,o){return e=new Uc(e,t,n,i,o),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Oc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:a,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Is(s),e}function Bc(e){if(!e)return Cr;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Or(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Or(n))return Lr(e,n,t)}return t}function Wc(e,t,n,a,r,s,l,i,o){return(e=qc(n,a,!0,e,0,s,0,i,o)).context=Bc(null),n=e.current,(s=Rs(a=tc(),r=nc(n))).callback=void 0!==t&&null!==t?t:null,Ts(n,s,r),e.current.lanes=r,vt(e,r,a),rc(e,a),e}function Vc(e,t,n,a){var r=t.current,s=tc(),l=nc(r);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Rs(s,l)).payload={element:e},null!==(a=void 0===a?null:a)&&(t.callback=a),null!==(e=Ts(r,t,l))&&(ac(e,r,l,s),Ls(e,r,l)),l}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Qc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function $c(e,t){Qc(e,t),(e=e.alternate)&&Qc(e,t)}_o=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Er.current)bi=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bi=!1,function(e,t,n){switch(t.tag){case 3:Ei(t),hs();break;case 5:sl(t);break;case 1:Or(t.type)&&Dr(t);break;case 4:al(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,r=t.memoizedProps.value;Sr(vs,a._currentValue),a._currentValue=r;break;case 13:if(null!==(a=t.memoizedState))return null!==a.dehydrated?(Sr(il,1&il.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fi(e,t,n):(Sr(il,1&il.current),null!==(e=Vi(e,t,n))?e.sibling:null);Sr(il,1&il.current);break;case 19:if(a=0!==(n&t.childLanes),0!==(128&e.flags)){if(a)return Bi(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),Sr(il,il.current),a)break;return null;case 22:case 23:return t.lanes=0,_i(e,t,n)}return Vi(e,t,n)}(e,t,n);bi=0!==(131072&e.flags)}else bi=!1,rs&&0!==(1048576&t.flags)&&Zr(t,Qr,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;Wi(e,t),e=t.pendingProps;var r=Ir(t,Pr.current);_s(t,n),r=kl(null,t,a,e,r,n);var l=_l();return t.flags|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Or(a)?(l=!0,Dr(t)):l=!1,t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,Is(t),r.updater=qs,t.stateNode=r,r._reactInternals=t,Hs(t,a,e,n),t=Pi(null,t,a,!0,l,n)):(t.tag=0,rs&&l&&es(t),yi(null,t,r,n),t=t.child),t;case 16:a=t.elementType;e:{switch(Wi(e,t),e=t.pendingProps,a=(r=a._init)(a._payload),t.type=a,r=t.tag=function(e){if("function"===typeof e)return Rc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===P)return 11;if(e===I)return 14}return 2}(a),e=gs(a,e),r){case 0:t=Si(null,t,a,e,n);break e;case 1:t=Ci(null,t,a,e,n);break e;case 11:t=ji(null,t,a,e,n);break e;case 14:t=wi(null,t,a,gs(a.type,e),n);break e}throw Error(s(306,a,""))}return t;case 0:return a=t.type,r=t.pendingProps,Si(e,t,a,r=t.elementType===a?r:gs(a,r),n);case 1:return a=t.type,r=t.pendingProps,Ci(e,t,a,r=t.elementType===a?r:gs(a,r),n);case 3:e:{if(Ei(t),null===e)throw Error(s(387));a=t.pendingProps,r=(l=t.memoizedState).element,Os(e,t),Fs(t,a,null,n);var i=t.memoizedState;if(a=i.element,l.isDehydrated){if(l={element:a,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=l,t.memoizedState=l,256&t.flags){t=Mi(e,t,a,n,r=ci(Error(s(423)),t));break e}if(a!==r){t=Mi(e,t,a,n,r=ci(Error(s(424)),t));break e}for(as=cr(t.stateNode.containerInfo.firstChild),ns=t,rs=!0,ss=null,n=Js(t,null,a,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(hs(),a===r){t=Vi(e,t,n);break e}yi(e,t,a,n)}t=t.child}return t;case 5:return sl(t),null===e&&cs(t),a=t.type,r=t.pendingProps,l=null!==e?e.memoizedProps:null,i=r.children,nr(a,r)?i=null:null!==l&&nr(a,l)&&(t.flags|=32),Ni(e,t),yi(e,t,i,n),t.child;case 6:return null===e&&cs(t),null;case 13:return Fi(e,t,n);case 4:return al(t,t.stateNode.containerInfo),a=t.pendingProps,null===e?t.child=Gs(t,null,a,n):yi(e,t,a,n),t.child;case 11:return a=t.type,r=t.pendingProps,ji(e,t,a,r=t.elementType===a?r:gs(a,r),n);case 7:return yi(e,t,t.pendingProps,n),t.child;case 8:case 12:return yi(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(a=t.type._context,r=t.pendingProps,l=t.memoizedProps,i=r.value,Sr(vs,a._currentValue),a._currentValue=i,null!==l)if(ia(l.value,i)){if(l.children===r.children&&!Er.current){t=Vi(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var o=l.dependencies;if(null!==o){i=l.child;for(var c=o.firstContext;null!==c;){if(c.context===a){if(1===l.tag){(c=Rs(-1,n&-n)).tag=2;var d=l.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}l.lanes|=n,null!==(c=l.alternate)&&(c.lanes|=n),ks(l.return,n,t),o.lanes|=n;break}c=c.next}}else if(10===l.tag)i=l.type===t.type?null:l.child;else if(18===l.tag){if(null===(i=l.return))throw Error(s(341));i.lanes|=n,null!==(o=i.alternate)&&(o.lanes|=n),ks(i,n,t),i=l.sibling}else i=l.child;if(null!==i)i.return=l;else for(i=l;null!==i;){if(i===t){i=null;break}if(null!==(l=i.sibling)){l.return=i.return,i=l;break}i=i.return}l=i}yi(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,a=t.pendingProps.children,_s(t,n),a=a(r=Ns(r)),t.flags|=1,yi(e,t,a,n),t.child;case 14:return r=gs(a=t.type,t.pendingProps),wi(e,t,a,r=gs(a.type,r),n);case 15:return ki(e,t,t.type,t.pendingProps,n);case 17:return a=t.type,r=t.pendingProps,r=t.elementType===a?r:gs(a,r),Wi(e,t),t.tag=1,Or(a)?(e=!0,Dr(t)):e=!1,_s(t,n),Ws(t,a,r),Hs(t,a,r,n),Pi(null,t,a,!0,e,n);case 19:return Bi(e,t,n);case 22:return _i(e,t,n)}throw Error(s(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Gc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function ed(e,t,n,a,r){var s=n._reactRootContainer;if(s){var l=s;if("function"===typeof r){var i=r;r=function(){var e=Hc(l);i.call(e)}}Vc(t,l,e,r)}else l=function(e,t,n,a,r){if(r){if("function"===typeof a){var s=a;a=function(){var e=Hc(l);s.call(e)}}var l=Wc(t,a,e,0,null,!1,0,"",Zc);return e._reactRootContainer=l,e[mr]=l.current,Ba(8===e.nodeType?e.parentNode:e),uc(),l}for(;r=e.lastChild;)e.removeChild(r);if("function"===typeof a){var i=a;a=function(){var e=Hc(o);i.call(e)}}var o=qc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=o,e[mr]=o.current,Ba(8===e.nodeType?e.parentNode:e),uc(function(){Vc(t,o,n,a)}),o}(n,t,e,r,a);return Hc(l)}Gc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Vc(e,t,null,null)},Gc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc(function(){Vc(null,e,null,null)}),t[mr]=null}},Gc.prototype.unstable_scheduleHydration=function(e){if(e){var t=_t();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Ft(e)}},jt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ut(t.pendingLanes);0!==n&&(xt(t,1|n),rc(t,Je()),0===(6&Eo)&&(Wo=Je()+500,Br()))}break;case 13:uc(function(){var t=Es(e,1);if(null!==t){var n=tc();ac(t,e,1,n)}}),$c(e,1)}},wt=function(e){if(13===e.tag){var t=Es(e,134217728);if(null!==t)ac(t,e,134217728,tc());$c(e,134217728)}},kt=function(e){if(13===e.tag){var t=nc(e),n=Es(e,t);if(null!==n)ac(n,e,t,tc());$c(e,t)}},_t=function(){return bt},Nt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},we=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var r=jr(a);if(!r)throw Error(s(90));$(a),X(a,r)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Pe=dc,Ee=uc;var td={usingClientEntryPoint:!1,Events:[br,yr,jr,Se,Ce,dc]},nd={findFiberByHostInstance:xr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ad={bundleType:nd.bundleType,version:nd.version,rendererPackageName:nd.rendererPackageName,rendererConfig:nd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:y.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:nd.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rd.isDisabled&&rd.supportsFiber)try{rt=rd.inject(ad),st=rd}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=td,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(s(200));return function(e,t,n){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==a?null:""+a,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(s(299));var n=!1,a="",r=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(a=t.identifierPrefix),void 0!==t.onRecoverableError&&(r=t.onRecoverableError)),t=qc(e,1,!1,null,0,n,0,a,r),e[mr]=t.current,Ba(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(s(200));return ed(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(s(405));var a=null!=n&&n.hydratedSources||null,r=!1,l="",i=Kc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(l=n.identifierPrefix),void 0!==n.onRecoverableError&&(i=n.onRecoverableError)),t=Wc(t,null,e,1,null!=n?n:null,r,0,l,i),e[mr]=t.current,Ba(e),a)for(e=0;e<a.length;e++)r=(r=(n=a[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new Gc(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(s(200));return ed(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(s(40));return!!e._reactRootContainer&&(uc(function(){ed(null,null,e,!1,function(){e._reactRootContainer=null,e[mr]=null})}),!0)},t.unstable_batchedUpdates=dc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,a){if(!Xc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return ed(e,t,n,!1,a)},t.version="18.2.0-next-9e3b772b8-20220608"},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var s=t[a]={exports:{}};return e[a](s,s.exports,n),s.exports}var a=n(43),r=n(391);const s="";var l=n(579);const i=function(e){let{onLoginSuccess:t}=e;const[n,r]=(0,a.useState)(!1),[i,o]=(0,a.useState)(!1),[c,d]=(0,a.useState)(""),[u,p]=(0,a.useState)(""),[h,m]=(0,a.useState)(""),[f,g]=(0,a.useState)(""),[v,x]=(0,a.useState)(""),[b,y]=(0,a.useState)(""),[j,w]=(0,a.useState)("sales_staff"),[k,_]=(0,a.useState)(""),[N,S]=(0,a.useState)(""),[C,P]=(0,a.useState)(""),[E,M]=(0,a.useState)("clock_in"),[I,O]=(0,a.useState)(""),[R,T]=(0,a.useState)(!1),[L,D]=(0,a.useState)(""),[F,z]=(0,a.useState)(""),A=[{value:"admin",label:"Administrator"},{value:"sales_staff",label:"Sales Staff"},{value:"marketer",label:"Marketer"},{value:"customer_care",label:"Customer Care"},{value:"production_staff",label:"Production Staff"}];return(0,l.jsx)("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundImage:"url(/company-logo.png)",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundColor:"rgba(0, 0, 0, 0.75)",backgroundBlendMode:"overlay"},children:(0,l.jsxs)("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl shadow-2xl p-8 w-full max-w-md",children:[(0,l.jsxs)("div",{className:"text-center mb-6",children:[(0,l.jsx)("img",{src:"/company-logo.png",alt:"ASTRO-ASIX",className:"w-24 h-24 mx-auto mb-4 rounded-full shadow-lg border-4 border-indigo-100",onError:e=>{e.target.style.display="none"}}),(0,l.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"ASTRO-ASIX ERP"}),(0,l.jsx)("p",{className:"text-gray-600",children:"WoundCare Production & Sales"})]}),(0,l.jsxs)("div",{className:"flex mb-6 bg-gray-100 rounded-lg p-1 text-sm",children:[(0,l.jsx)("button",{onClick:()=>{r(!1),o(!1),D(""),z("")},className:"flex-1 py-2 rounded-md font-medium transition ".concat(n||i?"text-gray-600 hover:text-gray-800":"bg-white shadow text-indigo-600"),children:"Login"}),(0,l.jsx)("button",{onClick:()=>{r(!0),o(!1),D(""),z("")},className:"flex-1 py-2 rounded-md font-medium transition ".concat(n&&!i?"bg-white shadow text-indigo-600":"text-gray-600 hover:text-gray-800"),children:"Register"}),(0,l.jsx)("button",{onClick:()=>{o(!0),r(!1),D(""),z("")},className:"flex-1 py-2 rounded-md font-medium transition ".concat(i?"bg-white shadow text-green-600":"text-gray-600 hover:text-gray-800"),children:"\ud83d\udd50 Attendance"})]}),L&&(0,l.jsx)("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:L}),F&&(0,l.jsx)("div",{className:"mb-4 p-3 bg-green-50 border border-green-200 rounded-lg text-green-700 text-sm",children:F}),i?(0,l.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),T(!0),D(""),z("");try{const e=await fetch("".concat(s,"/api/attendance/quick-attendance"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({pin:C,action:E,notes:I})}),t=await e.json();if(!e.ok||!t.success)throw new Error(t.message||"Attendance action failed");z("\u2705 ".concat(t.message).concat(t.staff_name?" - ".concat(t.staff_name):"")),P(""),O(""),setTimeout(()=>{z("")},3e3)}catch(t){D(t.message)}finally{T(!1)}},children:[(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Staff Clock PIN *"}),(0,l.jsx)("input",{type:"password",maxLength:"4",value:C,onChange:e=>P(e.target.value),placeholder:"Enter your 4-digit Clock PIN",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent text-center text-2xl tracking-widest",required:!0}),(0,l.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Your 4-digit Clock PIN is shown in the Staff table"})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Action *"}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,l.jsx)("button",{type:"button",onClick:()=>M("clock_in"),className:"py-3 rounded-lg font-medium transition ".concat("clock_in"===E?"bg-green-600 text-white shadow-lg":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:"\ud83d\udd50 Clock In"}),(0,l.jsx)("button",{type:"button",onClick:()=>M("clock_out"),className:"py-3 rounded-lg font-medium transition ".concat("clock_out"===E?"bg-red-600 text-white shadow-lg":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:"\ud83d\udd50 Clock Out"})]})]}),(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Notes (Optional)"}),(0,l.jsx)("input",{type:"text",value:I,onChange:e=>O(e.target.value),placeholder:"Any notes...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),(0,l.jsx)("button",{type:"submit",disabled:R,className:"w-full font-medium py-3 rounded-lg transition disabled:opacity-50 disabled:cursor-not-allowed shadow-lg ".concat("clock_in"===E?"bg-green-600 hover:bg-green-700 text-white":"bg-red-600 hover:bg-red-700 text-white"),children:R?"Processing...":"".concat("clock_in"===E?"Clock In":"Clock Out")}),(0,l.jsxs)("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg text-sm text-blue-800",children:[(0,l.jsx)("strong",{children:"Note:"})," Use this for quick attendance tracking without logging in."]})]}):n?(0,l.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),T(!0),D(""),z("");try{const e=await fetch("".concat(s,"/api/auth/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:b,password:k,full_name:f,phone:v,role:j,department:N})}),t=await e.json();if(!e.ok)throw new Error(t.detail||"Registration failed");z(" Registration successful! Your account is pending admin approval. Contact admin at 08033328385 for activation."),g(""),x(""),y(""),_(""),S(""),setTimeout(()=>{r(!1),z("")},5e3)}catch(t){D(t.message)}finally{T(!1)}},children:[(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Full Name *"}),(0,l.jsx)("input",{type:"text",value:f,onChange:e=>g(e.target.value),placeholder:"Enter full name",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",required:!0})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Phone Number *"}),(0,l.jsx)("input",{type:"tel",value:v,onChange:e=>x(e.target.value),placeholder:"e.g., 08012345678",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",required:!0})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Email *"}),(0,l.jsx)("input",{type:"email",value:b,onChange:e=>y(e.target.value),placeholder:"your.email@example.com",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",required:!0})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Role *"}),(0,l.jsx)("select",{value:j,onChange:e=>w(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",required:!0,children:A.filter(e=>"admin"!==e.value).map(e=>(0,l.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Department"}),(0,l.jsx)("input",{type:"text",value:N,onChange:e=>S(e.target.value),placeholder:"e.g., Sales, Production",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Password *"}),(0,l.jsx)("input",{type:"password",value:k,onChange:e=>_(e.target.value),placeholder:"Create a strong password",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",required:!0,minLength:"6"})]}),(0,l.jsx)("button",{type:"submit",disabled:R,className:"w-full bg-green-600 hover:bg-green-700 text-white font-medium py-3 rounded-lg transition disabled:opacity-50 disabled:cursor-not-allowed shadow-lg",children:R?" Registering...":" Create Account"}),(0,l.jsxs)("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg text-sm text-yellow-800",children:[(0,l.jsx)("strong",{children:" Note:"})," Your account needs admin approval before login. Contact admin at ",(0,l.jsx)("strong",{className:"text-yellow-900",children:"08033328385"})," for approval."]})]}):(0,l.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),T(!0),D(""),"08033328385"===c&&"NATISS"===u)try{const e=await fetch("".concat(s,"/api/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:"admin@astroasix.com",password:"NATISS"})}),n=await e.json();if(!e.ok)throw new Error(n.detail||"Login failed");return localStorage.setItem("access_token",n.access_token),localStorage.setItem("user",JSON.stringify(n.user)),t(n.user),void T(!1)}catch(n){return D(n.message),void T(!1)}if(!h||""===h)return D("Please select your role before logging in"),void T(!1);try{const e=await fetch("".concat(s,"/api/auth/login-phone"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:c,password:u,role:h})}),n=await e.json();if(!e.ok)throw new Error(n.detail||"Invalid phone number, password, or role");localStorage.setItem("access_token",n.access_token),localStorage.setItem("user",JSON.stringify(n.user)),t(n.user)}catch(n){D(n.message)}finally{T(!1)}},children:[(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Role *"}),(0,l.jsxs)("select",{value:h,onChange:e=>m(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",required:!0,children:[(0,l.jsx)("option",{value:"",children:"-- Select Your Role --"}),A.map(e=>(0,l.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Phone Number *"}),(0,l.jsx)("input",{type:"tel",value:c,onChange:e=>d(e.target.value),placeholder:"e.g., 08033328385",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",required:!0})]}),(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Password *"}),(0,l.jsx)("input",{type:"password",value:u,onChange:e=>p(e.target.value),placeholder:"Enter your password",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",required:!0})]}),(0,l.jsx)("button",{type:"submit",disabled:R,className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 rounded-lg transition disabled:opacity-50 disabled:cursor-not-allowed shadow-lg",children:R?" Logging in...":" Login"})]}),(0,l.jsx)("div",{className:"mt-6 text-center text-xs text-gray-500",children:(0,l.jsx)("p",{children:" 2025 AstroBSM StockMaster. All rights reserved."})})]})})};function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function c(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=o(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}function d(e,t,n){return(t=c(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){d(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const h=e=>{let{module:t,onClose:n,onSuccess:r}=e;const[s,i]=(0,a.useState)(!1),[o,c]=(0,a.useState)(null),[d,u]=(0,a.useState)(null),p={staff:{title:"Staff Registration",templateUrl:"/api/bulk-upload/template/staff",uploadUrl:"/api/bulk-upload/staff",icon:"\ud83d\udc65",description:"Upload multiple staff records with auto-generated Employee IDs, Clock PINs, and login credentials"},products:{title:"Products",templateUrl:"/api/bulk-upload/template/products",uploadUrl:"/api/bulk-upload/products",icon:"\ud83d\udce6",description:"Add multiple products with SKU, pricing, and inventory settings"},rawMaterials:{title:"Raw Materials",templateUrl:"/api/bulk-upload/template/raw-materials",uploadUrl:"/api/bulk-upload/raw-materials",icon:"\ud83e\uddea",description:"Register raw materials for production with unit costs and reorder levels"},productStockIntake:{title:"Product Stock Intake",templateUrl:"/api/bulk-upload/template/product-stock-intake",uploadUrl:"/api/bulk-upload/product-stock-intake",icon:"\ud83d\udce5",description:"Record bulk stock intake for products across warehouses"},rawMaterialStockIntake:{title:"Raw Material Stock Intake",templateUrl:"/api/bulk-upload/template/raw-material-stock-intake",uploadUrl:"/api/bulk-upload/raw-material-stock-intake",icon:"\ud83d\udce5",description:"Record bulk stock intake for raw materials"},warehouses:{title:"Warehouses",templateUrl:"/api/bulk-upload/template/warehouses",uploadUrl:"/api/bulk-upload/warehouses",icon:"\ud83c\udfed",description:"Create multiple warehouse locations"},damagedProducts:{title:"Damaged Products",templateUrl:"/api/bulk-upload/template/damaged-products",uploadUrl:"/api/bulk-upload/damaged-products",icon:"\u26a0\ufe0f",description:"Record damaged or expired products in bulk"},damagedRawMaterials:{title:"Damaged Raw Materials",templateUrl:"/api/bulk-upload/template/damaged-raw-materials",uploadUrl:"/api/bulk-upload/damaged-raw-materials",icon:"\u26a0\ufe0f",description:"Record damaged or contaminated raw materials"},productReturns:{title:"Product Returns",templateUrl:"/api/bulk-upload/template/product-returns",uploadUrl:"/api/bulk-upload/product-returns",icon:"\u21a9\ufe0f",description:"Process customer product returns in bulk"},bom:{title:"Bill of Materials (BOM)",templateUrl:"/api/bulk-upload/template/bom",uploadUrl:"/api/bulk-upload/bom",icon:"\ud83d\udccb",description:"Create product formulations with raw material requirements"}}[t]||{};return(0,l.jsx)("div",{className:"bulk-upload-modal",children:(0,l.jsxs)("div",{className:"bulk-upload-content",children:[(0,l.jsxs)("div",{className:"bulk-upload-header",children:[(0,l.jsxs)("h2",{children:[p.icon," Bulk Upload: ",p.title]}),(0,l.jsx)("button",{onClick:n,className:"close-btn",children:"\u2716"})]}),(0,l.jsxs)("div",{className:"bulk-upload-body",children:[(0,l.jsx)("p",{className:"description",children:p.description}),(0,l.jsxs)("div",{className:"step-section",children:[(0,l.jsx)("h3",{children:"\ud83d\udcdd Step 1: Download Template"}),(0,l.jsx)("p",{children:"Download the Excel template with the correct format and sample data."}),(0,l.jsx)("button",{onClick:async()=>{try{window.open(p.templateUrl,"_blank")}catch(e){alert("Error downloading template: "+e.message)}},className:"btn btn-primary",children:"\ud83d\udce5 Download Excel Template"})]}),(0,l.jsxs)("div",{className:"step-section",children:[(0,l.jsx)("h3",{children:"\u270f\ufe0f Step 2: Fill Template"}),(0,l.jsx)("p",{children:"Open the template in Excel, fill in your data following the format in the sample rows."}),(0,l.jsxs)("ul",{className:"instructions",children:[(0,l.jsx)("li",{children:"Required fields are marked with asterisk (*)"}),(0,l.jsx)("li",{children:'Check the "Instructions" sheet in the template for details'}),(0,l.jsx)("li",{children:"Do not change column headers or order"}),(0,l.jsx)("li",{children:"Remove sample rows before uploading"})]})]}),(0,l.jsxs)("div",{className:"step-section",children:[(0,l.jsx)("h3",{children:"\u2b06\ufe0f Step 3: Upload File"}),(0,l.jsxs)("div",{className:"file-upload-area",children:[(0,l.jsx)("input",{type:"file",accept:".xlsx,.xls",onChange:e=>{u(e.target.files[0]),c(null)},disabled:s}),d&&(0,l.jsxs)("div",{className:"file-selected",children:["\ud83d\udcc4 Selected: ",d.name]})]}),(0,l.jsx)("button",{onClick:async()=>{if(d){i(!0),c(null);try{const e=new FormData;e.append("file",d);const t=await fetch(p.uploadUrl,{method:"POST",body:e}),n=await t.json();if(!t.ok)throw new Error(n.detail||"Upload failed");c(n),n.success&&setTimeout(()=>{r&&r()},3e3)}catch(e){c({success:!1,message:e.message,errors:[e.message]})}finally{i(!1)}}else alert("Please select a file first")},className:"btn btn-success",disabled:!d||s,children:s?"\u23f3 Uploading...":"\u2705 Upload and Process"})]}),o&&(0,l.jsxs)("div",{className:"result-section ".concat(o.success?"success":"error"),children:[(0,l.jsx)("h3",{children:o.success?"\u2705 Upload Successful!":"\u274c Upload Failed"}),(0,l.jsx)("p",{className:"result-message",children:o.message}),o.created&&o.created.length>0&&(0,l.jsxs)("div",{className:"created-items",children:[(0,l.jsxs)("h4",{children:["\ud83d\udcca Created Records (",o.created.length,"):"]}),(0,l.jsxs)("div",{className:"created-list",children:[o.created.slice(0,10).map((e,t)=>(0,l.jsxs)("div",{className:"created-item",children:[(0,l.jsxs)("strong",{children:["Row ",e.row,":"]})," ",e.name||e.employee_id||"Record created",e.employee_id&&(0,l.jsxs)("span",{children:[" - ID: ",e.employee_id]}),e.clock_pin&&(0,l.jsxs)("span",{children:[" - PIN: ",e.clock_pin]})]},t)),o.created.length>10&&(0,l.jsxs)("div",{className:"more-items",children:["... and ",o.created.length-10," more"]})]})]}),o.created_count>0&&(0,l.jsx)("div",{className:"success-summary",children:(0,l.jsxs)("strong",{children:["\u2705 ",o.created_count," records created successfully"]})}),o.errors&&o.errors.length>0&&(0,l.jsxs)("div",{className:"errors-section",children:[(0,l.jsxs)("h4",{children:["\u26a0\ufe0f Errors (",o.errors.length,"):"]}),(0,l.jsxs)("ul",{className:"error-list",children:[o.errors.slice(0,10).map((e,t)=>(0,l.jsx)("li",{children:e},t)),o.errors.length>10&&(0,l.jsxs)("li",{className:"more-errors",children:["... and ",o.errors.length-10," more errors"]})]})]})]})]}),(0,l.jsx)("div",{className:"bulk-upload-footer",children:(0,l.jsx)("button",{onClick:n,className:"btn btn-secondary",children:"Close"})})]})})};const m=function(e){var t;let{currentUser:n=null}=e;const[r,s]=(0,a.useState)("dashboard"),[i,o]=(0,a.useState)(""),[c,d]=(0,a.useState)(null),[u,m]=(0,a.useState)(!1),[f,g]=(0,a.useState)([]),[v,x]=(0,a.useState)(!0),[b,y]=(0,a.useState)({staff:[],products:[],rawMaterials:[],stock:[],warehouses:[],production:[],sales:[],attendance:[],customers:[]}),j=(0,a.useMemo)(()=>{const e=Array.isArray(b.warehouses)?b.warehouses:[];return n&&n.role,e},[b.warehouses,n]),w=(0,a.useRef)(!1),[k,_]=(0,a.useState)([]),[N,S]=(0,a.useState)(null),[C,P]=(0,a.useState)({products:[],rawMaterials:[]}),[E,M]=(0,a.useState)(null),[I,O]=(0,a.useState)(""),[R,T]=(0,a.useState)(null),[L,D]=(0,a.useState)([]),[F,z]=(0,a.useState)(""),[A,U]=(0,a.useState)(null),[q,B]=(0,a.useState)({staff:{first_name:"",last_name:"",phone:"",date_of_birth:"",position:"",payment_mode:"",hourly_rate:"",monthly_salary:"",hire_date:"",bank_name:"",bank_account_number:"",bank_account_name:"",bank_currency:"NGN"},product:{sku:"",name:"",unit:"each",description:"",manufacturer:"",reorder_level:"",selling_price:"",retail_price:"",wholesale_price:"",lead_time_days:"",minimum_order_quantity:"1",pricing:[{unit:"",cost_price:"",retail_price:"",wholesale_price:""}]},rawMaterial:{name:"",sku:"",manufacturer:"",unit:"kg",reorder_level:"0",unit_cost:"",date_added:(new Date).toISOString().split("T")[0]},stockIntake:{product_id:"",warehouse_id:"",quantity:"",unit_cost:"",supplier:"",batch_number:"",notes:""},rawMaterialIntake:{raw_material_id:"",warehouse_id:"",quantity:"",unit_cost:"",supplier:"",batch_number:"",notes:""},damagedProduct:{warehouse_id:"",product_id:"",quantity:"",damage_type:"",damage_reason:"",notes:""},damagedRawMaterial:{warehouse_id:"",raw_material_id:"",quantity:"",damage_type:"",damage_reason:"",notes:""},returnedProduct:{warehouse_id:"",product_id:"",quantity:"",return_reason:"",return_condition:"good",customer_name:"",refund_amount:"0",notes:""},warehouse:{code:"",name:"",location:"",manager_id:""},customer:{customer_code:"",name:"",email:"",phone:"",address:"",credit_limit:"0"},payroll:{staff_id:"",pay_period_start:"",pay_period_end:""},production:{product_id:"",quantity_to_produce:"",warehouse_id:""},productionOrder:{product_id:"",quantity_planned:"",scheduled_start_date:"",scheduled_end_date:"",priority:5,notes:""},bom:{product_id:"",lines:[]},salesOrder:{customer_id:"",warehouse_id:"",required_date:"",notes:"",payment_status:"unpaid",order_type:"retail",lines:[]}}),W=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";const n=Date.now();g(a=>[...a,{id:n,message:e,type:t}]),setTimeout(()=>g(e=>e.filter(e=>e.id!==n)),5e3)},V=e=>"\u20a6".concat(Number(e||0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})),H=async e=>{if(!e.ok){const t=(await e.json()).detail||"Request failed";if(401===e.status&&t.toLowerCase().includes("expired"))throw localStorage.removeItem("access_token"),localStorage.removeItem("currentUser"),window.location.href="/",new Error("Session expired. Please login again.");throw new Error(t)}const t=await e.json();return t&&"object"===typeof t&&Array.isArray(t.items)?t.items:(Array.isArray(t),t)};async function Q(){try{m(!0);const e=localStorage.getItem("access_token"),t=e?{Authorization:"Bearer ".concat(e)}:{},n={staff:"/api/staff/staffs",products:"/api/products/",rawMaterials:"/api/raw-materials/",stock:"/api/stock/levels",warehouses:"/api/warehouses/",production:"/api/production/orders",sales:"/api/sales/orders",attendance:"/api/attendance/",customers:"/api/sales/customers",users:"/api/auth/users"},a=await Promise.all(Object.entries(n).map(async e=>{let[n,a]=e;try{const e=await fetch(a,{headers:t}),r=await H(e);return console.log("Fetched ".concat(n,":"),r.length,"items"),"warehouses"===n&&console.log("WAREHOUSES DATA:",r),[n,Array.isArray(r)?r:[]]}catch(r){return console.error("Error fetching ".concat(n,":"),r),[n,[]]}}));y(Object.fromEntries(a))}catch(e){W("Error loading data: ".concat(e.message),"error")}finally{m(!1)}}async function $(e){const t={staff:"/api/staff/staffs",products:"/api/products/",rawMaterials:"/api/raw-materials/",stock:"/api/stock/levels",warehouses:"/api/warehouses/",production:"/api/production/orders",sales:"/api/sales/orders",attendance:"/api/attendance/",customers:"/api/sales/customers",users:"/api/auth/users"};try{m(!0);const n=localStorage.getItem("access_token"),a=n?{Authorization:"Bearer ".concat(n)}:{},r=await fetch(t[e],{headers:a}),s=await H(r);y(t=>p(p({},t),{},{[e]:Array.isArray(s)?s:[]}))}catch(n){W("Error fetching ".concat(e,": ").concat(n.message),"error")}finally{m(!1)}}async function K(){try{m(!0);const e=await fetch("/api/financial/company-status");if(!e.ok)throw new Error("Failed to fetch financial data");const t=await e.json();S(t.data||{})}catch(e){W("Error loading financial data: ".concat(e.message),"error")}finally{m(!1)}}function Y(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(d(t),o(e),"staff"===e&&t&&B(e=>p(p({},e),{},{staff:{first_name:t.first_name||"",last_name:t.last_name||"",phone:t.phone||"",date_of_birth:t.date_of_birth||"",position:t.position||"",payment_mode:t.payment_mode||"",hourly_rate:t.hourly_rate||"",monthly_salary:t.monthly_salary||"",hire_date:t.hire_date||"",bank_name:t.bank_name||"",bank_account_number:t.bank_account_number||"",bank_account_name:t.bank_account_name||"",bank_currency:t.bank_currency||"NGN"}})),"product"===e&&t&&B(e=>p(p({},e),{},{product:{sku:t.sku||"",name:t.name||"",unit:t.unit||"each",description:t.description||"",manufacturer:t.manufacturer||"",reorder_level:t.reorder_level||"",selling_price:t.selling_price||"",retail_price:t.retail_price||"",wholesale_price:t.wholesale_price||"",lead_time_days:t.lead_time_days||"",minimum_order_quantity:t.minimum_order_quantity||"1",pricing:t.pricing&&t.pricing.length>0?t.pricing:[{unit:"each",cost_price:t.cost_price||"",retail_price:t.retail_price||t.selling_price||"",wholesale_price:t.wholesale_price||t.retail_price||""}]}})),"rawMaterial"===e&&t&&B(e=>p(p({},e),{},{rawMaterial:{sku:t.sku||"",name:t.name||"",unit_cost:t.unit_cost||""}})),"warehouse"===e&&t&&B(e=>p(p({},e),{},{warehouse:{code:t.code||"",name:t.name||"",location:t.location||"",manager_id:t.manager_id||""}})),"customer"===e&&t&&B(e=>p(p({},e),{},{customer:{customer_code:t.customer_code||"",name:t.name||"",email:t.email||"",phone:t.phone||"",address:t.address||"",credit_limit:t.credit_limit||"0"}})),"stockIntake"===e&&t&&B(e=>p(p({},e),{},{stockIntake:p(p({},e.stockIntake),t)})),"rawMaterialIntake"===e&&t&&B(e=>p(p({},e),{},{rawMaterialIntake:p(p({},e.rawMaterialIntake),t)})),"payroll"===e&&t&&t.staff_id&&B(e=>p(p({},e),{},{payroll:p(p({},e.payroll),{},{staff_id:t.staff_id})})),"productionOrder"===e&&t&&B(e=>{var n;return p(p({},e),{},{productionOrder:{product_id:t.product_id||"",quantity_planned:t.quantity_planned||t.quantity_to_produce||"",scheduled_start_date:t.scheduled_start_date||"",scheduled_end_date:t.scheduled_end_date||"",priority:null!==(n=t.priority)&&void 0!==n?n:5,notes:t.notes||""}})}),"salesOrder"===e&&t){const e=new Set(j.map(e=>e.id)),a=t.warehouse_id&&("admin"===(null===n||void 0===n?void 0:n.role)||e.has(t.warehouse_id))?t.warehouse_id:j[0]?j[0].id:"";a||!t.warehouse_id||e.has(t.warehouse_id)||W("You do not have access to the original warehouse for this order. Please select one of your assigned warehouses.","warning"),B(e=>p(p({},e),{},{salesOrder:{customer_id:t.customer_id||"",warehouse_id:a,payment_status:t.payment_status||"unpaid",order_type:t.order_type||"retail",required_date:t.required_date?t.required_date.substring(0,10):"",notes:t.notes||"",lines:Array.isArray(t.lines)?t.lines.map(e=>({product_id:e.product_id||"",unit:e.unit||"",quantity:e.quantity||"",unit_price:e.unit_price||""})):[]}}))}}function G(e){const t={staff:{first_name:"",last_name:"",phone:"",date_of_birth:"",position:"",payment_mode:"",hourly_rate:"",monthly_salary:"",hire_date:"",bank_name:"",bank_account_number:"",bank_account_name:"",bank_currency:"NGN"},product:{sku:"",name:"",unit:"each",description:"",manufacturer:"",reorder_level:"",selling_price:"",lead_time_days:"",minimum_order_quantity:"1"},rawMaterial:{sku:"",name:"",unit_cost:""},stockIntake:{product_id:"",warehouse_id:"",quantity:"",unit_cost:"",supplier:"",batch_number:"",expiry_date:"",notes:""},rawMaterialIntake:{raw_material_id:"",warehouse_id:"",quantity:"",unit_cost:"",supplier:"",batch_number:"",expiry_date:"",notes:""},warehouse:{code:"",name:"",location:"",manager_id:""},customer:{customer_code:"",name:"",email:"",phone:"",address:"",credit_limit:"0"},payroll:{staff_id:"",pay_period_start:"",pay_period_end:""},production:{product_id:"",quantity_to_produce:""},productionOrder:{product_id:"",quantity_planned:"",scheduled_start_date:"",scheduled_end_date:"",priority:5,notes:""},salesOrder:{customer_id:"",warehouse_id:"",required_date:"",notes:"",payment_status:"unpaid",order_type:"retail",lines:[]}};1===j.length&&(t.salesOrder.warehouse_id=j[0].id),B(n=>p(p({},n),{},{[e]:t[e]}))}function J(e,t,n){B("salesOrder"!==e||"order_type"!==t?a=>p(p({},a),{},{[e]:p(p({},a[e]),{},{[t]:n})}):e=>{const t=n||"retail",a=e.salesOrder.lines.map(e=>{if(!e||!e.product_id)return e?p({},e):e;const n=(b.products||[]).find(t=>t.id===e.product_id);if(!n)return p({},e);const a=n.pricing&&n.pricing.length>0?n.pricing:[{unit:"each",retail_price:n.retail_price||n.selling_price||n.wholesale_price||0,wholesale_price:n.wholesale_price||n.retail_price||n.selling_price||0}],r=a.find(t=>t.unit===e.unit)||a[0];if(!r)return p({},e);const s="retail"===t?r.retail_price:r.wholesale_price;return p(p({},e),{},{unit_price:null!==s&&void 0!==s?s:e.unit_price})});return p(p({},e),{},{salesOrder:p(p({},e.salesOrder),{},{order_type:t,lines:a})})})}async function X(e,t,n){B(a=>{const r=[...a.salesOrder.lines];r[e]=p(p({},r[e]),{},{[t]:n});const s=a.salesOrder.order_type||"retail";if("product_id"===t){const t=n,a=(b.products||[]).find(e=>e.id===t),l=a&&a.pricing&&a.pricing.length>0?a.pricing:a?[{unit:"each",retail_price:a.retail_price||a.selling_price||a.wholesale_price||0,wholesale_price:a.wholesale_price||a.retail_price||a.selling_price||0}]:[];if(1===l.length){const t=l[0];r[e].unit=t.unit||"each",r[e].unit_price="retail"===s?t.retail_price:t.wholesale_price}else r[e].unit="",r[e].unit_price=""}if("unit"===t){const t=r[e].product_id,a=n;if(t&&a){const n=(b.products||[]).find(e=>e.id===t),l=(n&&n.pricing&&n.pricing.length>0?n.pricing:n?[{unit:"each",retail_price:n.retail_price||n.selling_price||n.wholesale_price||0,wholesale_price:n.wholesale_price||n.retail_price||n.selling_price||0}]:[]).find(e=>e.unit===a);l&&(r[e].unit_price="retail"===s?l.retail_price:l.wholesale_price)}}return p(p({},a),{},{salesOrder:p(p({},a.salesOrder),{},{lines:r})})})}function Z(e,t,n){B(a=>{const r=[...a.product.pricing||[]];return r[e]=p(p({},r[e]),{},{[t]:n}),p(p({},a),{},{product:p(p({},a.product),{},{pricing:r})})})}async function ee(e,t){try{m(!0);let n={};"staff"===e&&(n=p({},q.staff)),"product"===e&&(n=p({},q.product)),"rawMaterial"===e&&(n=p({},q.rawMaterial)),"warehouse"===e&&(n=p({},q.warehouse)),"customer"===e&&(n=p({},q.customer)),Object.keys(n).forEach(e=>{""!==n[e]||["first_name","last_name","name","sku","code"].includes(e)||(n[e]=null),!["hourly_rate","monthly_salary","cost_price","selling_price","retail_price","wholesale_price","unit_cost","reorder_level"].includes(e)||""!==n[e]&&null!==n[e]||delete n[e]});const a=null!==c&&void 0!==c&&c.id?"PUT":"POST",r=null!==c&&void 0!==c&&c.id?"".concat(t).concat(c.id):t,s=localStorage.getItem("access_token"),l={"Content-Type":"application/json"};s&&(l.Authorization="Bearer ".concat(s));const i=await fetch(r,{method:a,headers:l,body:JSON.stringify(n)});if(!i.ok)throw new Error((await i.json()).detail||"Save failed");W("".concat(e," saved"),"success"),o(""),d(null);$("rawMaterial"===e?"rawMaterials":"product"===e?"products":"staff"===e?"staff":"customer"===e?"customers":"warehouses")}catch(n){W("Error saving ".concat(e,": ").concat(n.message),"error")}finally{m(!1)}}async function te(e){try{const t="/api/sales/orders/".concat(e,"/invoice?t=").concat(Date.now());console.log("Fetching invoice from:",t);const n=await fetch(t);if(console.log("Invoice response status:",n.status),!n.ok){const e=await n.json();return console.error("Invoice error response:",e),void W("Invoice error: ".concat(e.detail||"Failed to generate invoice"),"error")}const a=await n.blob(),r=window.URL.createObjectURL(a),s=document.createElement("a");s.href=r,s.download="invoice_".concat(e,".pdf"),document.body.appendChild(s),s.click(),s.remove(),window.URL.revokeObjectURL(r),W("Invoice downloaded successfully","success")}catch(t){console.error("Invoice download exception:",t),W("Invoice error: ".concat(t.message),"error")}}async function ne(e){try{const t="/api/sales/orders/".concat(e,"/receipt?t=").concat(Date.now());console.log("Fetching receipt from:",t);const n=await fetch(t);if(console.log("Receipt response status:",n.status),!n.ok){const e=await n.json();return console.error("Receipt error response:",e),void W("Receipt error: ".concat(e.detail||"Failed to generate receipt"),"error")}const a=await n.blob(),r=window.URL.createObjectURL(a),s=document.createElement("a");s.href=r,s.download="receipt_".concat(e,".pdf"),document.body.appendChild(s),s.click(),s.remove(),window.URL.revokeObjectURL(r),W("Receipt downloaded successfully","success")}catch(t){console.error("Receipt download exception:",t),W("Receipt error: ".concat(t.message),"error")}}function ae(e,t,n){D(L.map(a=>a.id===e?p(p({},a),{},{[t]:n}):a))}async function re(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all";try{if(m(!0),"products"===e||"all"===e){const e=await fetch("/api/stock-management/product-levels");if(e.ok){const t=await e.json();P(e=>p(p({},e),{},{products:t}))}}if("rawMaterials"===e||"all"===e){const e=await fetch("/api/stock-management/raw-material-levels");if(e.ok){const t=await e.json();P(e=>p(p({},e),{},{rawMaterials:t}))}}}catch(t){W("Error fetching stock levels: ".concat(t.message),"error")}finally{m(!1)}}async function se(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{m(!0);const t=e?"/api/stock-management/product-levels?low_stock_only=true":"/api/stock-management/product-levels",n=await fetch(t);if(!n.ok)throw new Error("Failed to fetch product stock levels");const a=await n.json();let r='\n        <div class="stock-levels-section">\n          <h3>'.concat(e?"WARNING: Low Stock Products":"Product Stock Levels",'</h3>\n          <table class="stock-table">\n            <thead>\n              <tr>\n                <th>Product</th>\n                <th>SKU</th>\n                <th>Warehouse</th>\n                <th>Current Stock</th>\n                <th>Reserved</th>\n                <th>Available</th>\n                <th>Reorder Level</th>\n                <th>Status</th>\n              </tr>\n            </thead>\n            <tbody>\n              ').concat(a.map(e=>'\n                <tr class="'.concat(e.is_low_stock?"low-stock-row":"",'">\n                  <td>').concat(e.product_name,"</td>\n                  <td>").concat(e.product_sku,"</td>\n                  <td>").concat(e.warehouse_name,"</td>\n                  <td>").concat(e.current_stock,"</td>\n                  <td>").concat(e.reserved_stock,"</td>\n                  <td><strong>").concat(e.available_stock,"</strong></td>\n                  <td>").concat(e.reorder_level,"</td>\n                  <td>").concat(e.is_low_stock?'<span class="status-badge low-stock">LOW STOCK</span>':'<span class="status-badge ok-stock">OK</span>',"</td>\n                </tr>\n              ")).join(""),"\n            </tbody>\n          </table>\n        </div>\n      ");O(r)}catch(t){W("Error: ".concat(t.message),"error")}finally{m(!1)}}async function le(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{m(!0);const t=e?"/api/stock-management/raw-material-levels?low_stock_only=true":"/api/stock-management/raw-material-levels",n=await fetch(t);if(!n.ok)throw new Error("Failed to fetch raw material stock levels");const a=await n.json();let r='\n        <div class="stock-levels-section">\n          <h3>'.concat(e?"WARNING: Low Stock Raw Materials":"Raw Material Stock Levels",'</h3>\n          <table class="stock-table">\n            <thead>\n              <tr>\n                <th>Raw Material</th>\n                <th>SKU</th>\n                <th>Warehouse</th>\n                <th>Current Stock</th>\n                <th>Reserved</th>\n                <th>Available</th>\n                <th>Unit</th>\n                <th>Reorder Level</th>\n                <th>Status</th>\n              </tr>\n            </thead>\n            <tbody>\n              ').concat(a.map(e=>'\n                <tr class="'.concat(e.is_low_stock?"low-stock-row":"",'">\n                  <td>').concat(e.raw_material_name,"</td>\n                  <td>").concat(e.raw_material_sku,"</td>\n                  <td>").concat(e.warehouse_name,"</td>\n                  <td>").concat(e.current_stock,"</td>\n                  <td>").concat(e.reserved_stock,"</td>\n                  <td><strong>").concat(e.available_stock,"</strong></td>\n                  <td>").concat(e.unit,"</td>\n                  <td>").concat(e.reorder_level,"</td>\n                  <td>").concat(e.is_low_stock?'<span class="status-badge low-stock">LOW STOCK</span>':'<span class="status-badge ok-stock">OK</span>',"</td>\n                </tr>\n              ")).join(""),"\n            </tbody>\n          </table>\n        </div>\n      ");O(r)}catch(t){W("Error: ".concat(t.message),"error")}finally{m(!1)}}return(0,a.useEffect)(()=>{Q(),async function(){try{const e=await fetch("/api/staff/birthdays/upcoming?days_ahead=7");if(e.ok){const t=await e.json();_(t||[])}}catch(e){console.error("Error fetching birthdays:",e)}}()},[]),(0,a.useEffect)(()=>{"salesOrder"===i?j.length?q.salesOrder.warehouse_id||c||B(e=>p(p({},e),{},{salesOrder:p(p({},e.salesOrder),{},{warehouse_id:j[0].id})})):w.current||(W("No warehouse access is currently assigned to your profile. Contact an administrator.","error"),w.current=!0):w.current=!1},[i,j,q.salesOrder.warehouse_id,c]),(0,l.jsxs)("div",{className:"app-container",children:[A&&(0,l.jsx)(h,{module:A,onClose:()=>U(null),onSuccess:()=>{Q(),W("Bulk upload completed successfully!","success"),U(null)}}),(0,l.jsxs)("aside",{className:"sidebar ".concat(v?"visible":"hidden"),children:[(0,l.jsxs)("div",{className:"sidebar-brand",children:[(0,l.jsx)("img",{src:"/company-logo.png",alt:"AstroBSM StockMaster",className:"sidebar-logo",onError:e=>{e.target.style.display="none"}}),(0,l.jsx)("h1",{className:"sidebar-title",children:"AstroBSM StockMaster"}),(0,l.jsx)("small",{className:"build-badge",children:"v2025.11.23-stockmaster"})]}),(0,l.jsx)("nav",{className:"sidebar-nav",children:["dashboard","staff","attendance","products","rawMaterials","stockManagement","production","sales","reports","financial","settings"].map(e=>(0,l.jsx)("button",{className:"sidebar-btn ".concat(r===e?"active":""),onClick:()=>s(e),children:"rawMaterials"===e?"RAW MATERIALS":"stockManagement"===e?"STOCK MANAGEMENT":e.toUpperCase()},e))}),(0,l.jsx)("div",{className:"sidebar-footer",children:(0,l.jsx)("button",{className:"btn btn-refresh",onClick:Q,children:"Refresh"})})]}),(0,l.jsx)("button",{className:"sidebar-toggle",onClick:()=>x(!v),title:v?"Hide Sidebar":"Show Sidebar",children:v?"<":">"}),(0,l.jsxs)("div",{className:"main-wrapper ".concat(v?"":"expanded"),children:[f.length>0&&(0,l.jsx)("div",{className:"notifications-panel",children:f.map(e=>(0,l.jsxs)("div",{className:"notification ".concat(e.type),children:[(0,l.jsx)("span",{children:e.message}),(0,l.jsx)("button",{onClick:()=>g(t=>t.filter(t=>t.id!==e.id)),children:"\u0153\u2022"})]},e.id))}),(0,l.jsxs)("main",{className:"main",children:["dashboard"===r&&(0,l.jsxs)("div",{className:"dashboard",children:[(0,l.jsxs)("div",{className:"dashboard-header",children:[(0,l.jsx)("img",{src:"/company-logo.png",alt:"AstroBSM StockMaster",className:"module-logo",onError:e=>{e.target.style.display="none"}}),(0,l.jsx)("h2",{children:"Dashboard"}),(0,l.jsx)("p",{children:"Comprehensive overview for operations"})]}),k.length>0&&(0,l.jsxs)("div",{className:"birthday-notifications",children:[(0,l.jsx)("h3",{children:"\u201a Upcoming Birthdays"}),k.map(e=>(0,l.jsx)("div",{className:"birthday-card ".concat(e.is_today?"birthday-today":""),children:e.is_today?(0,l.jsxs)("div",{className:"birthday-message",children:[(0,l.jsx)("span",{className:"birthday-icon",children:"\u2030"}),(0,l.jsxs)("strong",{children:["Happy Birthday, ",e.first_name," ",e.last_name,"!"]}),(0,l.jsxs)("span",{className:"birthday-age",children:["Turning ",e.age_turning," today"]})]}):(0,l.jsxs)("div",{className:"birthday-message",children:[(0,l.jsx)("span",{className:"birthday-icon",children:"\u201a"}),(0,l.jsxs)("strong",{children:[e.first_name," ",e.last_name]}),(0,l.jsxs)("span",{className:"birthday-date",children:["Birthday in ",e.days_until," day",e.days_until>1?"s":""," (Age ",e.age_turning,")"]})]})},e.staff_id))]}),(0,l.jsxs)("div",{className:"dashboard-stats",children:[(0,l.jsxs)("div",{className:"stat-card",children:[(0,l.jsx)("h3",{children:"Total Staff"}),(0,l.jsx)("p",{className:"stat-number",children:b.staff.length})]}),(0,l.jsxs)("div",{className:"stat-card",children:[(0,l.jsx)("h3",{children:"Products"}),(0,l.jsx)("p",{className:"stat-number",children:b.products.length})]}),(0,l.jsxs)("div",{className:"stat-card",children:[(0,l.jsx)("h3",{children:"Active Orders"}),(0,l.jsx)("p",{className:"stat-number",children:(b.sales||[]).filter(e=>"pending"===e.status).length})]}),(0,l.jsxs)("div",{className:"stat-card",children:[(0,l.jsx)("h3",{children:"Warehouses"}),(0,l.jsx)("p",{className:"stat-number",children:b.warehouses.length})]})]}),(0,l.jsxs)("div",{className:"quick-actions",children:[(0,l.jsx)("h3",{children:"Quick Actions"}),(0,l.jsxs)("div",{className:"action-buttons",children:[(0,l.jsx)("button",{onClick:()=>s("sales"),className:"action-btn",children:"New Sales Order"}),(0,l.jsx)("button",{onClick:()=>s("production"),className:"action-btn",children:"Production Console"}),(0,l.jsx)("button",{onClick:()=>s("attendance"),className:"action-btn",children:"Clock In/Out"})]})]})]}),"staff"===r&&(0,l.jsxs)("div",{className:"module-content",children:[(0,l.jsxs)("div",{className:"module-header",children:[(0,l.jsxs)("div",{className:"module-header-left",children:[(0,l.jsx)("img",{src:"/company-logo.png",alt:"AstroBSM StockMaster",className:"module-logo",onError:e=>{e.target.style.display="none"}}),(0,l.jsx)("h2",{children:"Staff Management"})]}),(0,l.jsxs)("div",{className:"module-actions",children:[(0,l.jsx)("button",{onClick:()=>U("staff"),className:"btn btn-info",children:"Bulk Upload"}),(0,l.jsx)("button",{onClick:()=>Y("staff"),className:"btn btn-primary",children:"Add Staff"}),(0,l.jsx)("button",{onClick:()=>Y("payroll"),className:"btn btn-secondary",children:"Process Payroll"})]})]}),(0,l.jsx)("div",{className:"table-container",children:(0,l.jsxs)("table",{className:"data-table",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{children:"Employee ID"}),(0,l.jsx)("th",{children:"Name"}),(0,l.jsx)("th",{children:"Position"}),(0,l.jsx)("th",{children:"Clock PIN"}),(0,l.jsx)("th",{children:"Phone"}),(0,l.jsx)("th",{children:"Bank Details"}),(0,l.jsx)("th",{children:"Status"}),(0,l.jsx)("th",{children:"Actions"})]})}),(0,l.jsx)("tbody",{children:(b.staff||[]).map(e=>(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:e.employee_id}),(0,l.jsxs)("td",{children:[e.first_name," ",e.last_name]}),(0,l.jsx)("td",{children:e.position}),(0,l.jsx)("td",{children:(0,l.jsx)("strong",{children:e.clock_pin})}),(0,l.jsx)("td",{children:e.phone||"N/A"}),(0,l.jsxs)("td",{children:[e.bank_name,(0,l.jsx)("br",{}),(0,l.jsx)("small",{children:e.bank_account_number})]}),(0,l.jsx)("td",{children:(0,l.jsx)("span",{className:"status ".concat(e.is_active?"active":"inactive"),children:e.is_active?"Active":"Inactive"})}),(0,l.jsxs)("td",{className:"actions",children:[(0,l.jsx)("button",{onClick:()=>Y("staff",e),className:"btn-edit",children:"Edit"}),(0,l.jsx)("button",{onClick:()=>Y("payroll",{staff_id:e.id}),className:"btn-download",children:"Payroll"})]})]},e.id))})]})})]}),"attendance"===r&&(0,l.jsxs)("div",{className:"module-content",children:[(0,l.jsxs)("div",{className:"module-header",children:[(0,l.jsxs)("div",{className:"module-header-left",children:[(0,l.jsx)("img",{src:"/company-logo.png",alt:"AstroBSM StockMaster",className:"module-logo",onError:e=>{e.target.style.display="none"}}),(0,l.jsx)("h2",{children:"Attendance Management"})]}),(0,l.jsx)("button",{onClick:()=>$("attendance"),className:"btn btn-secondary",children:"Refresh"})]}),(0,l.jsxs)("div",{className:"attendance-pin-section",children:[(0,l.jsx)("h3",{children:"Clock In/Out with PIN"}),(0,l.jsxs)("div",{className:"pin-input-container",children:[(0,l.jsx)("input",{type:"password",placeholder:"Enter your 4-digit Clock PIN",maxLength:"4",className:"pin-input",id:"clockPinInput"}),(0,l.jsxs)("div",{className:"pin-buttons",children:[(0,l.jsx)("button",{className:"btn btn-success",onClick:()=>ie("clock_in"),children:"Clock In"}),(0,l.jsx)("button",{className:"btn btn-warning",onClick:()=>ie("clock_out"),children:"Clock Out"})]})]}),(0,l.jsx)("p",{className:"pin-hint",children:"Enter your 4-digit PIN and click Clock In or Clock Out"})]}),(0,l.jsxs)("div",{className:"attendance-actions",children:[(0,l.jsx)("button",{className:"btn btn-primary",onClick:()=>async function(){try{m(!0);const e=await fetch("/api/attendance/");if(!e.ok)throw new Error("Failed to fetch attendance");const t=await e.json(),n=t.items||t||[],a=(new Date).toISOString().split("T")[0],r=n.filter(e=>{var t;return null===(t=e.clock_in)||void 0===t?void 0:t.startsWith(a)});!function(e){const t=document.getElementById("attendanceDisplayArea");if(!t)return;const n=e.filter(e=>"clocked_in"===e.status),a=e.filter(e=>"clocked_out"===e.status),r=e.filter(e=>"not_clocked_in"===e.status);t.innerHTML='\n        <div class="attendance-status-container">\n          <h3>Current Attendance Status</h3>\n          \n          <div class="status-summary">\n            <div class="status-badge clocked-in">\u2713 Clocked In: '.concat(n.length,'</div>\n            <div class="status-badge clocked-out">\x8f\xb9\xef\xb8\x8f Clocked Out: ').concat(a.length,'</div>\n            <div class="status-badge not-clocked">\u26a0\x8f Not Clocked In: ').concat(r.length,'</div>\n          </div>\n          \n          <div class="status-section">\n            <h4>\u2713 Currently Clocked In</h4>\n            ').concat(n.length>0?'\n              <table class="data-table">\n                <thead><tr><th>Employee ID</th><th>Name</th><th>Position</th><th>Clock In Time</th><th>Hours So Far</th></tr></thead>\n                <tbody>\n                  '.concat(n.map(e=>"\n                    <tr>\n                      <td>".concat(e.employee_id,"</td>\n                      <td>").concat(e.staff_name,"</td>\n                      <td>").concat(e.position||"N/A","</td>\n                      <td>").concat(new Date(e.clock_in).toLocaleString(),"</td>\n                      <td>").concat(e.hours_so_far.toFixed(2)," hrs</td>\n                    </tr>\n                  ")).join(""),"\n                </tbody>\n              </table>\n            "):'<p class="no-data">No staff currently clocked in</p>','\n          </div>\n          \n          <div class="status-section">\n            <h4>\x8f\xb9\xef\xb8\x8f Clocked Out Today</h4>\n            ').concat(a.length>0?'\n              <table class="data-table">\n                <thead><tr><th>Employee ID</th><th>Name</th><th>Position</th><th>Clock In</th><th>Clock Out</th><th>Hours Worked</th></tr></thead>\n                <tbody>\n                  '.concat(a.map(e=>"\n                    <tr>\n                      <td>".concat(e.employee_id,"</td>\n                      <td>").concat(e.staff_name,"</td>\n                      <td>").concat(e.position||"N/A","</td>\n                      <td>").concat(new Date(e.clock_in).toLocaleTimeString(),"</td>\n                      <td>").concat(new Date(e.clock_out).toLocaleTimeString(),"</td>\n                      <td>").concat((e.hours_worked||0).toFixed(2)," hrs</td>\n                    </tr>\n                  ")).join(""),"\n                </tbody>\n              </table>\n            "):'<p class="no-data">No staff have clocked out today</p>',"\n          </div>\n        </div>\n      ")}((b.staff||[]).map(e=>{const t=r.find(t=>t.staff_id===e.id);let n="not_clocked_in";t&&(n=t.clock_out?"clocked_out":"clocked_in");let a=0,s=0;if(t){const e=new Date(t.clock_in),n=((t.clock_out?new Date(t.clock_out):new Date)-e)/36e5;t.clock_out_time?a=n:s=n}return{staff_id:e.id,employee_id:e.employee_id,staff_name:"".concat(e.first_name," ").concat(e.last_name),position:e.position,status:n,clock_in:null===t||void 0===t?void 0:t.clock_in,clock_out:null===t||void 0===t?void 0:t.clock_out,hours_worked:a,hours_so_far:s}}))}catch(e){console.error("Error fetching status:",e),alert("Failed to fetch attendance status: "+e.message)}finally{m(!1)}}(),children:"View Status"}),(0,l.jsx)("button",{className:"btn btn-secondary",onClick:()=>async function(){try{m(!0),console.log("Fetching detailed log...");const e=await fetch("/api/attendance/detailed-log");if(console.log("Response status:",e.status),!e.ok){const t=await e.text();throw console.error("Error response:",t),new Error("Failed to fetch detailed log: ".concat(e.status," ").concat(t))}const t=await e.json();console.log("Received log data:",t);const n=document.getElementById("attendanceDisplayArea");if(!n)return void console.error("Display area not found!");const a=(e,t)=>"early"===e?'<span class="punctuality-badge early">\u2713 Early ('.concat(t," min)</span>"):"on_time"===e?'<span class="punctuality-badge on-time">\u2713 On Time ('.concat(t," min)</span>"):"slightly_late"===e?'<span class="punctuality-badge slightly-late">\u26a0\x8f Slightly Late ('.concat(t," min)</span>"):'<span class="punctuality-badge late">\x9d\u2717 Late ('.concat(t," min)</span>");n.innerHTML='\n        <div class="detailed-log-container">\n          <h3>Detailed Attendance Log (Last 30 Days)</h3>\n          <p class="log-info">Showing attendance records with punctuality analysis. Standard start time: 9:00 AM</p>\n          \n          '.concat(t.length>0?'\n            <div class="table-container">\n              <table class="data-table">\n                <thead>\n                  <tr>\n                    <th>Date</th>\n                    <th>Employee ID</th>\n                    <th>Name</th>\n                    <th>Position</th>\n                    <th>Clock In</th>\n                    <th>Clock Out</th>\n                    <th>Hours</th>\n                    <th>Punctuality</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  '.concat(t.map(e=>"\n                    <tr>\n                      <td>".concat(e.date,"</td>\n                      <td>").concat(e.employee_id,"</td>\n                      <td>").concat(e.staff_name,"</td>\n                      <td>").concat(e.position||"N/A","</td>\n                      <td>").concat(e.clock_in,"</td>\n                      <td>").concat(e.clock_out||"In Progress","</td>\n                      <td>").concat(parseFloat(e.hours_worked||0).toFixed(2)," hrs</td>\n                      <td>").concat(a(e.punctuality_status,e.punctuality_minutes),"</td>\n                    </tr>\n                  ")).join(""),"\n                </tbody>\n              </table>\n            </div>\n          "):'<p class="no-data">No attendance records found for the last 30 days</p>',"\n        </div>\n      ")}catch(e){console.error("Error in viewDetailedLog:",e),W("Error fetching detailed log: ".concat(e.message),"error")}finally{m(!1)}}(),children:"Detailed Log"}),(0,l.jsx)("button",{className:"btn btn-success",onClick:()=>async function(){try{m(!0);const e=await fetch("/api/attendance/best-performers?limit=10");if(!e.ok)throw new Error("Failed to fetch best performers");const t=await e.json(),n=document.getElementById("attendanceDisplayArea");if(!n)return;n.innerHTML='\n        <div class="best-performers-container">\n          <h3>Best Performing Staff (Last 30 Days)</h3>\n          <p class="performers-info">Ranking based on punctuality (70%) and attendance regularity (30%)</p>\n          \n          '.concat(t.length>0?'\n            <div class="performers-grid">\n              '.concat(t.map((e,t)=>'\n                <div class="performer-card '.concat(t<3?"top-performer":"",'">\n                  <div class="performer-rank">').concat(t<3?["#1","#2","#3"][t]:"#".concat(t+1),'</div>\n                  <div class="performer-info">\n                    <h4>').concat(e.staff_name,'</h4>\n                    <p class="performer-id">').concat(e.employee_id," \u20ac\xa2 ").concat(e.position||"N/A",'</p>\n                    <div class="performer-score">Performance Score: <strong>').concat(e.performance_score,'%</strong></div>\n                  </div>\n                  <div class="performer-stats">\n                    <div class="stat-row">\n                      <span class="stat-label">Days Attended:</span>\n                      <span class="stat-value">').concat(e.total_days_attended,'</span>\n                    </div>\n                    <div class="stat-row">\n                      <span class="stat-label">\x8f\xb1\xef\xb8\x8f Total Hours:</span>\n                      <span class="stat-value">').concat(e.total_hours_worked,' hrs</span>\n                    </div>\n                    <div class="stat-row">\n                      <span class="stat-label">Avg Hours/Day:</span>\n                      <span class="stat-value">').concat(e.avg_hours_per_day,' hrs</span>\n                    </div>\n                    <div class="stat-row">\n                      <span class="stat-label">\u2713 Early Arrivals:</span>\n                      <span class="stat-value">').concat(e.early_arrivals,'</span>\n                    </div>\n                    <div class="stat-row">\n                      <span class="stat-label">\x8f\xb0 On Time:</span>\n                      <span class="stat-value">').concat(e.on_time_arrivals,'</span>\n                    </div>\n                    <div class="stat-row">\n                      <span class="stat-label">\u26a0\x8f Late Arrivals:</span>\n                      <span class="stat-value">').concat(e.late_arrivals,'</span>\n                    </div>\n                    <div class="stat-row">\n                      <span class="stat-label">\xaf Punctuality:</span>\n                      <span class="stat-value">').concat(e.punctuality_score,"%</span>\n                    </div>\n                  </div>\n                </div>\n              ")).join(""),"\n            </div>\n          "):'<p class="no-data">No performance data available for the last 30 days</p>',"\n        </div>\n      ")}catch(e){W("Error fetching best performers: ".concat(e.message),"error")}finally{m(!1)}}(),children:"Best Performers"})]}),(0,l.jsx)("div",{id:"attendanceDisplayArea",className:"attendance-display-area"})]}),"products"===r&&(0,l.jsxs)("div",{className:"module-content",children:[(0,l.jsxs)("div",{className:"module-header",children:[(0,l.jsxs)("div",{className:"module-header-left",children:[(0,l.jsx)("img",{src:"/company-logo.png",alt:"AstroBSM StockMaster",className:"module-logo",onError:e=>{e.target.style.display="none"}}),(0,l.jsx)("h2",{children:"Products"})]}),(0,l.jsxs)("div",{className:"module-actions",children:[(0,l.jsx)("button",{onClick:()=>U("products"),className:"btn btn-info",children:"Bulk Upload"}),(0,l.jsx)("button",{onClick:()=>Y("product"),className:"btn btn-primary",children:"Add Product"})]})]}),(0,l.jsx)("div",{className:"table-container",children:(0,l.jsxs)("table",{className:"data-table",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{children:"Name"}),(0,l.jsx)("th",{children:"Units Available"}),(0,l.jsx)("th",{children:"Description"}),(0,l.jsx)("th",{children:"Actions"})]})}),(0,l.jsx)("tbody",{children:(b.products||[]).map(e=>(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:e.name}),(0,l.jsx)("td",{children:e.pricing&&e.pricing.length>0?e.pricing.map(e=>e.unit).join(", "):e.selling_price||e.retail_price||e.wholesale_price?"each":"No units set"}),(0,l.jsx)("td",{children:e.description}),(0,l.jsxs)("td",{className:"actions",children:[(0,l.jsx)("button",{onClick:()=>Y("product",e),className:"btn-edit",children:"Edit"}),(0,l.jsx)("button",{onClick:()=>Y("stockIntake",{product_id:e.id}),className:"btn-add",children:"Stock Intake"})]})]},e.id))})]})})]}),"rawMaterials"===r&&(0,l.jsxs)("div",{className:"module-content",children:[(0,l.jsxs)("div",{className:"module-header",children:[(0,l.jsxs)("div",{className:"module-header-left",children:[(0,l.jsx)("img",{src:"/company-logo.png",alt:"AstroBSM StockMaster",className:"module-logo",onError:e=>{e.target.style.display="none"}}),(0,l.jsx)("h2",{children:"Raw Materials"})]}),(0,l.jsxs)("div",{className:"module-actions",children:[(0,l.jsx)("button",{onClick:()=>U("rawMaterials"),className:"btn btn-info",children:"Bulk Upload"}),(0,l.jsx)("button",{onClick:()=>Y("rawMaterial"),className:"btn btn-primary",children:"\u017e\u2022 Add Raw Material"}),(0,l.jsx)("button",{onClick:()=>Y("rawMaterialIntake"),className:"btn btn-secondary",children:"Stock Intake"})]})]}),(0,l.jsxs)("div",{className:"data-section",children:[(0,l.jsx)("h3",{children:"Raw Materials Inventory"}),(0,l.jsxs)("table",{className:"data-table",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{children:"Name"}),(0,l.jsx)("th",{children:"SKU"}),(0,l.jsx)("th",{children:"Current Stock"}),(0,l.jsx)("th",{children:"Unit"}),(0,l.jsx)("th",{children:"Reorder Level"}),(0,l.jsx)("th",{children:"Cost per Unit"}),(0,l.jsx)("th",{children:"Actions"})]})}),(0,l.jsxs)("tbody",{children:[(b.rawMaterials||[]).map(e=>(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:e.name}),(0,l.jsx)("td",{children:e.sku}),(0,l.jsx)("td",{className:e.current_stock<=e.reorder_level?"low-stock":"",children:e.current_stock||0}),(0,l.jsx)("td",{children:e.unit||"kg"}),(0,l.jsx)("td",{children:e.reorder_level||0}),(0,l.jsxs)("td",{children:["\u20a6",parseFloat(e.unit_cost||0).toLocaleString("en-NG",{minimumFractionDigits:2})]}),(0,l.jsxs)("td",{className:"actions",children:[(0,l.jsx)("button",{onClick:()=>Y("rawMaterial",e),className:"btn-edit",children:"Edit"}),(0,l.jsx)("button",{onClick:()=>Y("rawMaterialIntake",{raw_material_id:e.id}),className:"btn-add",children:"Stock"}),(0,l.jsx)("button",{onClick:()=>async function(e,t){if(confirm("Are you sure you want to delete this ".concat(e,"?")))try{m(!0);let n="";"product"===e&&(n="/api/products/"),"rawMaterial"===e&&(n="/api/raw-materials/"),"staff"===e&&(n="/api/staff/staffs/"),"warehouse"===e&&(n="/api/warehouses/"),"customer"===e&&(n="/api/sales/customers/");const a=localStorage.getItem("access_token"),r=a?{Authorization:"Bearer ".concat(a)}:{};if(!(await fetch("".concat(n).concat(t),{method:"DELETE",headers:r})).ok)throw new Error("Failed to delete ".concat(e));W("".concat(e," deleted"),"success"),$("rawMaterial"===e?"rawMaterials":"product"===e?"products":"staff"===e?"staff":"customer"===e?"customers":"warehouses")}catch(n){W("Error deleting ".concat(e,": ").concat(n.message),"error")}finally{m(!1)}}("rawMaterial",e.id),className:"btn-delete",children:"Delete"})]})]},e.id)),(!b.rawMaterials||0===b.rawMaterials.length)&&(0,l.jsx)("tr",{children:(0,l.jsx)("td",{colSpan:"7",className:"no-data",children:'No raw materials found. Click "Add Raw Material" to get started.'})})]})]})]})]}),"production"===r&&(0,l.jsxs)("div",{className:"module-content",children:[(0,l.jsxs)("div",{className:"module-header",children:[(0,l.jsxs)("div",{className:"module-header-left",children:[(0,l.jsx)("img",{src:"/company-logo.png",alt:"AstroBSM StockMaster",className:"module-logo",onError:e=>{e.target.style.display="none"}}),(0,l.jsx)("h2",{children:"Production"})]}),(0,l.jsxs)("div",{className:"module-header-actions",children:[(0,l.jsx)("button",{onClick:()=>U("bom"),className:"btn btn-info",children:"Bulk Upload BOM"}),(0,l.jsx)("button",{onClick:()=>{o("bom"),D([{id:Date.now(),raw_material_id:"",qty_per_unit:"",unit:"kg"}])},className:"btn btn-secondary",children:"Register BOM"}),(0,l.jsx)("button",{onClick:()=>o("productionOrder"),className:"btn btn-primary",children:"\u017e\u2022 New Production Order"})]})]}),(0,l.jsxs)("div",{className:"production-console",children:[(0,l.jsx)("h3",{children:"\xaf Production Console - Material Requirements Calculator"}),(0,l.jsxs)("div",{className:"console-form",children:[(0,l.jsxs)("div",{className:"form-row",children:[(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Select Product *"}),(0,l.jsxs)("select",{value:q.production.product_id,onChange:e=>{J("production","product_id",e.target.value),T(null)},children:[(0,l.jsx)("option",{value:"",children:"Choose Product"}),(b.products||[]).map(e=>(0,l.jsxs)("option",{value:e.id,children:[e.name," - ",e.sku]},e.id))]})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Quantity to Produce *"}),(0,l.jsx)("input",{type:"number",step:"0.01",value:q.production.quantity_to_produce,onChange:e=>{J("production","quantity_to_produce",e.target.value),T(null)},placeholder:"Enter quantity"})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Warehouse *"}),(0,l.jsxs)("select",{value:q.production.warehouse_id,onChange:e=>{J("production","warehouse_id",e.target.value),T(null)},children:[(0,l.jsx)("option",{value:"",children:"Select Warehouse"}),(b.warehouses||[]).map(e=>(0,l.jsx)("option",{value:e.id,children:e.name},e.id))]})]})]}),(0,l.jsx)("div",{className:"form-row",children:(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("button",{className:"btn btn-info",disabled:!q.production.product_id||!q.production.quantity_to_produce||!q.production.warehouse_id,onClick:async function(){try{if(!q.production.product_id||!q.production.quantity_to_produce)return void W("Please select product and quantity","error");if(!q.production.warehouse_id)return void W("Please select warehouse","error");m(!0);const e="/api/bom/calculate-requirements?product_id=".concat(q.production.product_id,"&quantity=").concat(q.production.quantity_to_produce,"&warehouse_id=").concat(q.production.warehouse_id),t=await fetch(e);if(!t.ok){const e=await t.json();throw new Error(e.detail||"Failed to calculate requirements")}const n=await t.json();T(n),n.can_produce?W("Requirements calculated: \u201a\xa6".concat(n.total_material_cost.toFixed(2)," material cost"),"success"):W("\u26a0\x8f Insufficient stock! Check shortages below","warning")}catch(e){W("Error: ".concat(e.message),"error"),T(null)}finally{m(!1)}},style:{marginRight:"10px"},children:"Calculate Requirements"}),q.production.product_id&&(0,l.jsx)("button",{className:"btn btn-secondary",onClick:()=>async function(e){try{m(!0);const t=await fetch("/api/bom/product/".concat(e));if(!t.ok)throw new Error("Failed to fetch BOM");const n=await t.json();if(!n.has_bom)return void W("No BOM defined for this product","info");let a='\n        <div class="bom-details">\n          <h3>Bill of Materials: '.concat(n.product_name,"</h3>\n          <p><strong>Product SKU:</strong> ").concat(n.product_sku,"</p>\n          <p><strong>BOM Version:</strong> ").concat(n.version,"</p>\n          <p><strong>Raw Materials:</strong> ").concat(n.lines_count,"</p>\n          <p><strong>Total Material Cost per Unit:</strong> ").concat(V(n.total_material_cost),'</p>\n          \n          <table class="stock-table">\n            <thead>\n              <tr>\n                <th>Raw Material</th>\n                <th>SKU</th>\n                <th>Qty per Unit</th>\n                <th>Unit</th>\n                <th>Unit Cost</th>\n                <th>Line Cost</th>\n              </tr>\n            </thead>\n            <tbody>\n              ').concat(n.lines.map(e=>"\n                <tr>\n                  <td>".concat(e.raw_material_name,"</td>\n                  <td>").concat(e.raw_material_sku,"</td>\n                  <td>").concat(e.qty_per_unit,"</td>\n                  <td>").concat(e.unit,"</td>\n                  <td>").concat(V(e.unit_cost),"</td>\n                  <td><strong>").concat(V(e.line_cost),"</strong></td>\n                </tr>\n              ")).join(""),'\n            </tbody>\n            <tfoot>\n              <tr>\n                <td colspan="5" style="text-align: right;"><strong>Total Material Cost:</strong></td>\n                <td><strong>').concat(V(n.total_material_cost),"</strong></td>\n              </tr>\n            </tfoot>\n          </table>\n        </div>\n      ");O(a)}catch(t){W("Error fetching BOM: ".concat(t.message),"error")}finally{m(!1)}}(q.production.product_id),children:"View BOM"})]})})]}),R&&(0,l.jsxs)("div",{className:"requirements-display",children:[(0,l.jsxs)("h4",{children:["Material Requirements for ",R.quantity_to_produce," units of ",R.product_name]}),(0,l.jsxs)("div",{className:"requirements-summary",children:[(0,l.jsxs)("div",{className:"summary-card",children:[(0,l.jsx)("span",{className:"label",children:"Total Material Cost:"}),(0,l.jsx)("span",{className:"value",children:V(R.total_material_cost)})]}),(0,l.jsxs)("div",{className:"summary-card",children:[(0,l.jsx)("span",{className:"label",children:"Cost per Unit:"}),(0,l.jsx)("span",{className:"value",children:V(R.cost_per_unit)})]}),(0,l.jsxs)("div",{className:"summary-card ".concat(R.can_produce?"success":"error"),children:[(0,l.jsx)("span",{className:"label",children:"Production Status:"}),(0,l.jsx)("span",{className:"value",children:R.can_produce?"\u2713 CAN PRODUCE":"\x9d\u2717 INSUFFICIENT STOCK"})]})]}),R.shortages&&R.shortages.length>0&&(0,l.jsxs)("div",{className:"shortages-section",children:[(0,l.jsx)("h5",{children:"\u26a0\x8f Stock Shortages Detected"}),(0,l.jsxs)("table",{className:"stock-table",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{children:"Raw Material"}),(0,l.jsx)("th",{children:"Required"}),(0,l.jsx)("th",{children:"Available"}),(0,l.jsx)("th",{children:"Shortage"})]})}),(0,l.jsx)("tbody",{children:R.shortages.map((e,t)=>(0,l.jsxs)("tr",{className:"shortage-row",children:[(0,l.jsx)("td",{children:e.raw_material_name}),(0,l.jsx)("td",{children:e.required}),(0,l.jsx)("td",{children:e.available}),(0,l.jsx)("td",{className:"text-danger",children:(0,l.jsx)("strong",{children:e.shortage})})]},t))})]})]}),(0,l.jsxs)("table",{className:"stock-table",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{children:"Raw Material"}),(0,l.jsx)("th",{children:"SKU"}),(0,l.jsx)("th",{children:"Qty per Unit"}),(0,l.jsx)("th",{children:"Required Qty"}),(0,l.jsx)("th",{children:"Unit"}),(0,l.jsx)("th",{children:"Unit Cost"}),(0,l.jsx)("th",{children:"Line Cost"}),(0,l.jsx)("th",{children:"Available Stock"}),(0,l.jsx)("th",{children:"Status"})]})}),(0,l.jsx)("tbody",{children:R.requirements.map((e,t)=>(0,l.jsxs)("tr",{className:!1===e.sufficient_stock?"low-stock-row":"",children:[(0,l.jsx)("td",{children:e.raw_material_name}),(0,l.jsx)("td",{children:e.raw_material_sku}),(0,l.jsx)("td",{children:e.qty_per_unit}),(0,l.jsx)("td",{children:(0,l.jsx)("strong",{children:e.required_quantity})}),(0,l.jsx)("td",{children:e.unit}),(0,l.jsx)("td",{children:V(e.unit_cost)}),(0,l.jsx)("td",{children:V(e.line_cost)}),(0,l.jsx)("td",{children:null!==e.available_stock?e.available_stock:"N/A"}),(0,l.jsxs)("td",{children:[!0===e.sufficient_stock&&(0,l.jsx)("span",{className:"status-badge ok-stock",children:"\u2713 OK"}),!1===e.sufficient_stock&&(0,l.jsx)("span",{className:"status-badge low-stock",children:"\x9d\u2717 INSUFFICIENT"})]})]},t))})]}),(0,l.jsxs)("div",{className:"approval-section",children:[(0,l.jsx)("button",{className:"btn btn-success btn-large",onClick:async function(){try{if(!R)return void W("Calculate requirements first","error");if(!R.can_produce)return void W("Cannot approve production due to stock shortages","error");m(!0);const t={product_id:R.product_id,quantity:R.quantity_to_produce,warehouse_id:R.warehouse_id,notes:"Production approved via console on ".concat((new Date).toLocaleString())},n=await fetch("/api/bom/approve-production",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!n.ok){var e;const t=await n.json();throw new Error((null===(e=t.detail)||void 0===e?void 0:e.error)||t.detail||"Failed to approve production")}const a=await n.json();W("\u2713 ".concat(a.message),"success"),G("production"),T(null),Q()}catch(t){W("Production approval error: ".concat(t.message),"error")}finally{m(!1)}},disabled:!R.can_produce,style:{opacity:R.can_produce?1:.5},children:"\u2705 Approve Production & Deduct Raw Materials from Stock"}),(0,l.jsx)("button",{className:"btn btn-secondary btn-large",onClick:()=>{T(null),W("Production calculation cancelled","info")},style:{marginLeft:"10px"},children:"\u274c Cancel"}),R.can_produce&&(0,l.jsxs)("p",{className:"approval-note",children:["\u26a0\ufe0f This will deduct the required raw materials from ",(0,l.jsx)("strong",{children:null===(t=(b.warehouses||[]).find(e=>e.id===R.warehouse_id))||void 0===t?void 0:t.name})," inventory and create stock movement records."]}),!R.can_produce&&(0,l.jsx)("p",{className:"approval-note text-danger",children:"\u26d4\u26a0\ufe0f Production cannot be approved due to insufficient stock. Please resolve shortages above or cancel this calculation."})]})]}),I&&(0,l.jsx)("div",{className:"stock-display-area",dangerouslySetInnerHTML:{__html:I}})]}),(0,l.jsxs)("div",{className:"table-container",children:[(0,l.jsx)("h3",{children:"Production Orders"}),(0,l.jsxs)("table",{className:"data-table",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{children:"Order"}),(0,l.jsx)("th",{children:"Product"}),(0,l.jsx)("th",{children:"Planned Qty"}),(0,l.jsx)("th",{children:"Status"}),(0,l.jsx)("th",{children:"Actions"})]})}),(0,l.jsx)("tbody",{children:(b.production||[]).map(e=>(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:e.order_number||e.id}),(0,l.jsx)("td",{children:e.product_name||e.product_id}),(0,l.jsx)("td",{children:e.quantity_planned||e.quantity_to_produce}),(0,l.jsx)("td",{children:(0,l.jsx)("span",{className:"status ".concat(e.status),children:e.status})}),(0,l.jsx)("td",{className:"actions",children:(0,l.jsx)("button",{onClick:()=>Y("productionOrder",e),className:"btn-edit",children:"Edit"})})]},e.id))})]})]})]}),"sales"===r&&(0,l.jsxs)("div",{className:"module-content",children:[(0,l.jsxs)("div",{className:"module-header",children:[(0,l.jsxs)("div",{className:"module-header-left",children:[(0,l.jsx)("img",{src:"/company-logo.png",alt:"AstroBSM StockMaster",className:"module-logo",onError:e=>{e.target.style.display="none"}}),(0,l.jsx)("h2",{children:"Sales Orders"})]}),(0,l.jsx)("button",{onClick:()=>Y("salesOrder"),className:"btn btn-primary",children:"\u017e\u2022 New Sales Order"})]}),(0,l.jsx)("div",{className:"table-container",children:(0,l.jsxs)("table",{className:"data-table",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{children:"Order #"}),(0,l.jsx)("th",{children:"Customer"}),(0,l.jsx)("th",{children:"Warehouse"}),(0,l.jsx)("th",{children:"Total"}),(0,l.jsx)("th",{children:"Status"}),(0,l.jsx)("th",{children:"Payment"}),(0,l.jsx)("th",{children:"Actions"})]})}),(0,l.jsx)("tbody",{children:(b.sales||[]).map(e=>{const t=(b.warehouses||[]).find(t=>t.id===e.warehouse_id);return(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:e.order_number||"#".concat(e.id.substring(0,8))}),(0,l.jsx)("td",{children:e.customer_name||e.customer_id}),(0,l.jsx)("td",{children:t?t.name:"N/A"}),(0,l.jsx)("td",{children:V(e.total_amount)}),(0,l.jsx)("td",{children:(0,l.jsx)("span",{className:"status ".concat(e.status),children:e.status})}),(0,l.jsx)("td",{children:(0,l.jsx)("span",{className:"status ".concat(e.payment_status||"unpaid"),children:e.payment_status||"unpaid"})}),(0,l.jsxs)("td",{className:"actions",children:["unpaid"===e.payment_status?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("button",{onClick:()=>async function(e){try{m(!0);const t=await fetch("/api/sales/orders/".concat(e,"/mark-paid"),{method:"PATCH"});if(!t.ok)throw new Error((await t.json()).detail||"Failed to mark as paid");W("Order marked as paid, receipt generated","success"),await ne(e),$("sales")}catch(t){W("Error: ".concat(t.message),"error")}finally{m(!1)}}(e.id),className:"btn btn-success",title:"Mark as Paid & Generate Receipt",children:"\ud83d\udcb3 Mark Paid"}),(0,l.jsx)("button",{onClick:()=>te(e.id),className:"btn btn-secondary",title:"Download Invoice",children:"\ud83d\udcc4 Invoice"})]}):(0,l.jsx)("button",{onClick:()=>ne(e.id),className:"btn btn-primary",title:"Download Receipt",children:"\ud83e\uddfe Receipt"}),(0,l.jsx)("button",{onClick:()=>async function(e){try{m(!0);const t=await fetch("/api/sales/process-order/".concat(e),{method:"POST"});if(!t.ok){const e=(await t.json()).detail||"Failed to process order";if(!e.toLowerCase().includes("insufficient stock"))throw new Error(e);return void W("\u26a0\ufe0f INSUFFICIENT STOCK: Cannot process order. Please go to Stock Management \u2192 Product Stock Intake to add stock first, then try again.","error")}const n=await t.json();W(n.message||"Order processed","success"),$("sales"),$("stock")}catch(t){W("Process order error: ".concat(t.message),"error")}finally{m(!1)}}(e.id),className:"btn-paid",children:"\u2705 Process"})]})]},e.id)})})]})})]}),"stockManagement"===r&&(0,l.jsxs)("div",{className:"module-content",children:[(0,l.jsx)("div",{className:"module-header",children:(0,l.jsxs)("div",{className:"module-header-left",children:[(0,l.jsx)("img",{src:"/company-logo.png",alt:"AstroBSM StockMaster",className:"module-logo",onError:e=>{e.target.style.display="none"}}),(0,l.jsx)("h2",{children:"Stock Management"})]})}),(0,l.jsxs)("div",{className:"bulk-upload-section",children:[(0,l.jsx)("h3",{children:"Bulk Upload Options"}),(0,l.jsxs)("div",{className:"bulk-upload-buttons",children:[(0,l.jsx)("button",{onClick:()=>U("productStockIntake"),className:"btn btn-info",children:"Bulk Product Intake"}),(0,l.jsx)("button",{onClick:()=>U("rawMaterialStockIntake"),className:"btn btn-info",children:"Bulk Raw Material Intake"}),(0,l.jsx)("button",{onClick:()=>U("warehouses"),className:"btn btn-info",children:"Bulk Warehouses"}),(0,l.jsx)("button",{onClick:()=>U("damagedProducts"),className:"btn btn-info",children:"Bulk Damaged Products"}),(0,l.jsx)("button",{onClick:()=>U("damagedRawMaterials"),className:"btn btn-info",children:"Bulk Damaged Raw Materials"}),(0,l.jsx)("button",{onClick:()=>U("productReturns"),className:"btn btn-info",children:"Bulk Product Returns"})]})]}),(0,l.jsxs)("div",{className:"stock-actions-grid",children:[(0,l.jsx)("button",{className:"action-btn product-intake",onClick:()=>o("productStockIntake"),children:"Product Stock Intake"}),(0,l.jsx)("button",{className:"action-btn raw-material-intake",onClick:()=>o("rawMaterialStockIntake"),children:"Raw Material Intake"}),(0,l.jsx)("button",{className:"action-btn warehouse",onClick:()=>Y("warehouse"),children:"Create New Warehouse"}),(0,l.jsx)("button",{className:"action-btn view-levels",onClick:()=>se(!1),children:"Product Stock Levels"}),(0,l.jsx)("button",{className:"action-btn view-levels",onClick:()=>le(!1),children:"Raw Material Levels"}),(0,l.jsx)("button",{className:"action-btn low-stock",onClick:()=>se(!0),children:"\u26a0\x8f Low Stock Products"}),(0,l.jsx)("button",{className:"action-btn low-stock",onClick:()=>le(!0),children:"\u26a0\x8f Low Stock Raw Materials"}),(0,l.jsx)("button",{className:"action-btn damaged",onClick:()=>o("damagedProduct"),children:"Record Damaged Product"}),(0,l.jsx)("button",{className:"action-btn damaged",onClick:()=>o("damagedRawMaterial"),children:"Damaged Raw Material"}),(0,l.jsx)("button",{className:"action-btn returned",onClick:()=>o("returnedProduct"),children:"\u2020\xa9\xef\xb8\x8f Record Product Return"}),(0,l.jsx)("button",{className:"action-btn analysis",onClick:()=>async function(){try{m(!0);const e=await fetch("/api/stock-management/analysis");if(!e.ok)throw new Error("Failed to fetch stock analysis");const t=await e.json();let n='\n        <div class="stock-analysis-section">\n          <h3>Stock Analysis Dashboard</h3>\n          <div class="analysis-stats">\n            <div class="stat-card">\n              <h4>Product Items</h4>\n              <p class="stat-number">'.concat(t.summary.total_product_items,'</p>\n            </div>\n            <div class="stat-card">\n              <h4>Raw Material Items</h4>\n              <p class="stat-number">').concat(t.summary.total_raw_material_items,'</p>\n            </div>\n            <div class="stat-card warning">\n              <h4>Low Stock Products</h4>\n              <p class="stat-number">').concat(t.summary.low_stock_products,'</p>\n            </div>\n            <div class="stat-card warning">\n              <h4>Low Stock Raw Materials</h4>\n              <p class="stat-number">').concat(t.summary.low_stock_raw_materials,'</p>\n            </div>\n            <div class="stat-card danger">\n              <h4>Damaged Items (30d)</h4>\n              <p class="stat-number">').concat(t.summary.damaged_items_30_days,'</p>\n            </div>\n            <div class="stat-card info">\n              <h4>Returns (30d)</h4>\n              <p class="stat-number">').concat(t.summary.returned_items_30_days,'</p>\n            </div>\n            <div class="stat-card success">\n              <h4>Total Product Value</h4>\n              <p class="stat-number">').concat(V(t.summary.total_product_value),'</p>\n            </div>\n            <div class="stat-card success">\n              <h4>Total Raw Material Value</h4>\n              <p class="stat-number">').concat(V(t.summary.total_raw_material_value),'</p>\n            </div>\n            <div class="stat-card primary">\n              <h4>Total Stock Value</h4>\n              <p class="stat-number">').concat(V(t.summary.total_stock_value),"</p>\n            </div>\n          </div>\n        </div>\n      ");O(n)}catch(e){W("Error: ".concat(e.message),"error")}finally{m(!1)}}(),children:"Stock Analysis & Dashboard"})]}),I&&(0,l.jsx)("div",{className:"stock-display-area",dangerouslySetInnerHTML:{__html:I}})]}),"reports"===r&&(0,l.jsxs)("div",{className:"module-content",children:[(0,l.jsx)("div",{className:"module-header",children:(0,l.jsxs)("div",{className:"module-header-left",children:[(0,l.jsx)("img",{src:"/company-logo.png",alt:"AstroBSM StockMaster",className:"module-logo",onError:e=>{e.target.style.display="none"}}),(0,l.jsx)("h2",{children:"\ud83d\udcca Business Intelligence Dashboard"})]})}),(0,l.jsxs)("div",{className:"metrics-summary",children:[(0,l.jsxs)("div",{className:"metric-item metric-revenue",children:[(0,l.jsx)("div",{className:"metric-icon",children:"\ud83d\udcb0"}),(0,l.jsxs)("div",{className:"metric-content",children:[(0,l.jsx)("div",{className:"metric-label",children:"Total Revenue"}),(0,l.jsx)("div",{className:"metric-value",children:V((b.sales||[]).filter(e=>"paid"===e.payment_status).reduce((e,t)=>e+(parseFloat(t.total_amount)||0),0))}),(0,l.jsxs)("div",{className:"metric-change positive",children:["\u2191 ",(b.sales||[]).filter(e=>"paid"===e.payment_status).length," paid orders"]})]})]}),(0,l.jsxs)("div",{className:"metric-item metric-pending",children:[(0,l.jsx)("div",{className:"metric-icon",children:"\u23f3"}),(0,l.jsxs)("div",{className:"metric-content",children:[(0,l.jsx)("div",{className:"metric-label",children:"Outstanding Payments"}),(0,l.jsx)("div",{className:"metric-value",children:V((b.sales||[]).filter(e=>"unpaid"===e.payment_status).reduce((e,t)=>e+(parseFloat(t.total_amount)||0),0))}),(0,l.jsxs)("div",{className:"metric-change negative",children:["\u2193 ",(b.sales||[]).filter(e=>"unpaid"===e.payment_status).length," unpaid orders"]})]})]}),(0,l.jsxs)("div",{className:"metric-item metric-orders",children:[(0,l.jsx)("div",{className:"metric-icon",children:"\ud83d\udce6"}),(0,l.jsxs)("div",{className:"metric-content",children:[(0,l.jsx)("div",{className:"metric-label",children:"Total Orders"}),(0,l.jsx)("div",{className:"metric-value",children:(b.sales||[]).length}),(0,l.jsxs)("div",{className:"metric-change neutral",children:[(b.sales||[]).filter(e=>"pending"===e.status).length," pending"]})]})]}),(0,l.jsxs)("div",{className:"metric-item metric-customers",children:[(0,l.jsx)("div",{className:"metric-icon",children:"\ud83d\udc65"}),(0,l.jsxs)("div",{className:"metric-content",children:[(0,l.jsx)("div",{className:"metric-label",children:"Active Customers"}),(0,l.jsx)("div",{className:"metric-value",children:(b.customers||[]).filter(e=>(b.sales||[]).some(t=>t.customer_id===e.id)).length}),(0,l.jsxs)("div",{className:"metric-change neutral",children:["of ",(b.customers||[]).length," total"]})]})]})]}),(0,l.jsxs)("div",{className:"reports-grid-modern",children:[(0,l.jsxs)("div",{className:"report-card-modern sales-card",children:[(0,l.jsxs)("div",{className:"card-header",children:[(0,l.jsxs)("h3",{children:[(0,l.jsx)("span",{className:"card-icon",children:"\ud83d\udcb3"})," Sales & Payments"]}),(0,l.jsxs)("span",{className:"card-badge",children:[(b.sales||[]).length," Orders"]})]}),(0,l.jsxs)("div",{className:"card-body",children:[(0,l.jsxs)("div",{className:"stat-row",children:[(0,l.jsxs)("div",{className:"stat-item",children:[(0,l.jsx)("span",{className:"stat-icon success",children:"\u2713"}),(0,l.jsxs)("div",{className:"stat-details",children:[(0,l.jsx)("div",{className:"stat-label",children:"Paid Orders"}),(0,l.jsx)("div",{className:"stat-value",children:(b.sales||[]).filter(e=>"paid"===e.payment_status).length}),(0,l.jsx)("div",{className:"stat-amount",children:V((b.sales||[]).filter(e=>"paid"===e.payment_status).reduce((e,t)=>e+(parseFloat(t.total_amount)||0),0))})]})]}),(0,l.jsxs)("div",{className:"stat-item",children:[(0,l.jsx)("span",{className:"stat-icon warning",children:"\u23f0"}),(0,l.jsxs)("div",{className:"stat-details",children:[(0,l.jsx)("div",{className:"stat-label",children:"Unpaid Orders"}),(0,l.jsx)("div",{className:"stat-value danger",children:(b.sales||[]).filter(e=>"unpaid"===e.payment_status).length}),(0,l.jsx)("div",{className:"stat-amount danger",children:V((b.sales||[]).filter(e=>"unpaid"===e.payment_status).reduce((e,t)=>e+(parseFloat(t.total_amount)||0),0))})]})]})]}),(0,l.jsx)("div",{className:"progress-bar",children:(0,l.jsx)("div",{className:"progress-fill",style:{width:"".concat((b.sales||[]).length>0?(b.sales||[]).filter(e=>"paid"===e.payment_status).length/(b.sales||[]).length*100:0,"%")}})}),(0,l.jsxs)("div",{className:"progress-label",children:[(b.sales||[]).length>0?Math.round((b.sales||[]).filter(e=>"paid"===e.payment_status).length/(b.sales||[]).length*100):0,"% Payment Collection Rate"]})]})]}),(0,l.jsxs)("div",{className:"report-card-modern orders-card",children:[(0,l.jsxs)("div",{className:"card-header",children:[(0,l.jsxs)("h3",{children:[(0,l.jsx)("span",{className:"card-icon",children:"\ud83d\uded2"})," Order Status"]}),(0,l.jsxs)("span",{className:"card-badge processing",children:[(b.sales||[]).filter(e=>"pending"===e.status).length," Pending"]})]}),(0,l.jsx)("div",{className:"card-body",children:(0,l.jsxs)("div",{className:"stat-grid",children:[(0,l.jsxs)("div",{className:"stat-box",children:[(0,l.jsx)("div",{className:"stat-number",children:(b.sales||[]).filter(e=>"pending"===e.status).length}),(0,l.jsx)("div",{className:"stat-text",children:"Pending"})]}),(0,l.jsxs)("div",{className:"stat-box completed",children:[(0,l.jsx)("div",{className:"stat-number",children:(b.sales||[]).filter(e=>"completed"===e.status).length}),(0,l.jsx)("div",{className:"stat-text",children:"Completed"})]}),(0,l.jsxs)("div",{className:"stat-box processing",children:[(0,l.jsx)("div",{className:"stat-number",children:(b.sales||[]).filter(e=>"processing"===e.status).length}),(0,l.jsx)("div",{className:"stat-text",children:"Processing"})]}),(0,l.jsxs)("div",{className:"stat-box cancelled",children:[(0,l.jsx)("div",{className:"stat-number",children:(b.sales||[]).filter(e=>"cancelled"===e.status).length}),(0,l.jsx)("div",{className:"stat-text",children:"Cancelled"})]})]})})]}),(0,l.jsxs)("div",{className:"report-card-modern inventory-card",children:[(0,l.jsxs)("div",{className:"card-header",children:[(0,l.jsxs)("h3",{children:[(0,l.jsx)("span",{className:"card-icon",children:"\ud83d\udce6"})," Inventory Health"]}),(0,l.jsxs)("span",{className:"card-badge",children:[(b.products||[]).length+(b.rawMaterials||[]).length," Items"]})]}),(0,l.jsx)("div",{className:"card-body",children:(0,l.jsxs)("div",{className:"inventory-stats",children:[(0,l.jsxs)("div",{className:"inventory-item",children:[(0,l.jsx)("div",{className:"inventory-icon",children:"\ud83c\udfaf"}),(0,l.jsxs)("div",{className:"inventory-info",children:[(0,l.jsx)("div",{className:"inventory-label",children:"Finished Products"}),(0,l.jsx)("div",{className:"inventory-count",children:(b.products||[]).length})]})]}),(0,l.jsxs)("div",{className:"inventory-item",children:[(0,l.jsx)("div",{className:"inventory-icon",children:"\ud83e\uddea"}),(0,l.jsxs)("div",{className:"inventory-info",children:[(0,l.jsx)("div",{className:"inventory-label",children:"Raw Materials"}),(0,l.jsx)("div",{className:"inventory-count",children:(b.rawMaterials||[]).length})]})]}),(0,l.jsxs)("div",{className:"inventory-item",children:[(0,l.jsx)("div",{className:"inventory-icon",children:"\ud83c\udfed"}),(0,l.jsxs)("div",{className:"inventory-info",children:[(0,l.jsx)("div",{className:"inventory-label",children:"Warehouses"}),(0,l.jsx)("div",{className:"inventory-count",children:(b.warehouses||[]).length})]})]}),(0,l.jsxs)("div",{className:"inventory-item",children:[(0,l.jsx)("div",{className:"inventory-icon",children:"\ud83d\udcca"}),(0,l.jsxs)("div",{className:"inventory-info",children:[(0,l.jsx)("div",{className:"inventory-label",children:"Stock Levels"}),(0,l.jsx)("div",{className:"inventory-count",children:(b.stock||[]).length})]})]})]})})]}),(0,l.jsxs)("div",{className:"report-card-modern staff-card",children:[(0,l.jsxs)("div",{className:"card-header",children:[(0,l.jsxs)("h3",{children:[(0,l.jsx)("span",{className:"card-icon",children:"\ud83d\udc65"})," Workforce & Operations"]}),(0,l.jsxs)("span",{className:"card-badge active",children:[(b.attendance||[]).filter(e=>e.clock_in&&!e.clock_out).length," Active Now"]})]}),(0,l.jsx)("div",{className:"card-body",children:(0,l.jsxs)("div",{className:"staff-metrics",children:[(0,l.jsxs)("div",{className:"staff-metric",children:[(0,l.jsx)("div",{className:"metric-circle",children:(0,l.jsx)("div",{className:"circle-value",children:(b.staff||[]).length})}),(0,l.jsx)("div",{className:"metric-label",children:"Total Staff"})]}),(0,l.jsxs)("div",{className:"staff-details",children:[(0,l.jsxs)("div",{className:"detail-row",children:[(0,l.jsx)("span",{className:"detail-icon",children:"\ud83d\udfe2"}),(0,l.jsx)("span",{className:"detail-label",children:"Clocked In Today"}),(0,l.jsx)("span",{className:"detail-value",children:(b.attendance||[]).filter(e=>e.clock_in&&!e.clock_out).length})]}),(0,l.jsxs)("div",{className:"detail-row",children:[(0,l.jsx)("span",{className:"detail-icon",children:"\ud83d\udccb"}),(0,l.jsx)("span",{className:"detail-label",children:"Attendance Records"}),(0,l.jsx)("span",{className:"detail-value",children:(b.attendance||[]).length})]}),(0,l.jsxs)("div",{className:"detail-row",children:[(0,l.jsx)("span",{className:"detail-icon",children:"\ud83c\udf82"}),(0,l.jsx)("span",{className:"detail-label",children:"Upcoming Birthdays"}),(0,l.jsx)("span",{className:"detail-value",children:k.length})]})]})]})})]}),(0,l.jsxs)("div",{className:"report-card-modern production-card",children:[(0,l.jsxs)("div",{className:"card-header",children:[(0,l.jsxs)("h3",{children:[(0,l.jsx)("span",{className:"card-icon",children:"\ud83c\udfed"})," Production Pipeline"]}),(0,l.jsxs)("span",{className:"card-badge",children:[(b.production||[]).filter(e=>"in_progress"===e.status).length," In Progress"]})]}),(0,l.jsxs)("div",{className:"card-body",children:[(0,l.jsxs)("div",{className:"production-flow",children:[(0,l.jsxs)("div",{className:"flow-stage",children:[(0,l.jsx)("div",{className:"stage-count",children:(b.production||[]).filter(e=>"pending"===e.status).length}),(0,l.jsx)("div",{className:"stage-label",children:"Pending"}),(0,l.jsx)("div",{className:"stage-bar pending"})]}),(0,l.jsx)("div",{className:"flow-arrow",children:"\u2192"}),(0,l.jsxs)("div",{className:"flow-stage",children:[(0,l.jsx)("div",{className:"stage-count",children:(b.production||[]).filter(e=>"in_progress"===e.status).length}),(0,l.jsx)("div",{className:"stage-label",children:"In Progress"}),(0,l.jsx)("div",{className:"stage-bar progress"})]}),(0,l.jsx)("div",{className:"flow-arrow",children:"\u2192"}),(0,l.jsxs)("div",{className:"flow-stage",children:[(0,l.jsx)("div",{className:"stage-count",children:(b.production||[]).filter(e=>"completed"===e.status).length}),(0,l.jsx)("div",{className:"stage-label",children:"Completed"}),(0,l.jsx)("div",{className:"stage-bar completed"})]})]}),(0,l.jsxs)("div",{className:"production-total",children:[(0,l.jsx)("strong",{children:"Total Production Orders:"})," ",(b.production||[]).length]})]})]}),(0,l.jsxs)("div",{className:"report-card-modern customer-card",children:[(0,l.jsxs)("div",{className:"card-header",children:[(0,l.jsxs)("h3",{children:[(0,l.jsx)("span",{className:"card-icon",children:"\ud83d\udc64"})," Customer Analytics"]}),(0,l.jsxs)("span",{className:"card-badge",children:[(b.customers||[]).length," Customers"]})]}),(0,l.jsx)("div",{className:"card-body",children:(0,l.jsxs)("div",{className:"customer-stats",children:[(0,l.jsxs)("div",{className:"customer-stat-item active",children:[(0,l.jsx)("div",{className:"customer-stat-value",children:(b.customers||[]).filter(e=>(b.sales||[]).some(t=>t.customer_id===e.id)).length}),(0,l.jsx)("div",{className:"customer-stat-label",children:"Active Customers"}),(0,l.jsx)("div",{className:"customer-stat-bar",style:{width:(()=>{const e=(b.customers||[]).length;if(0===e)return"0%";const t=((b.customers||[]).filter(e=>(b.sales||[]).some(t=>t.customer_id===e.id)).length/e*100).toFixed(0);return"".concat(t,"%")})()}})]}),(0,l.jsxs)("div",{className:"customer-stat-item inactive",children:[(0,l.jsx)("div",{className:"customer-stat-value",children:(b.customers||[]).length-(b.customers||[]).filter(e=>(b.sales||[]).some(t=>t.customer_id===e.id)).length}),(0,l.jsx)("div",{className:"customer-stat-label",children:"Inactive Customers"}),(0,l.jsx)("div",{className:"customer-stat-bar",style:{width:(()=>{const e=(b.customers||[]).length;if(0===e)return"0%";const t=((e-(b.customers||[]).filter(e=>(b.sales||[]).some(t=>t.customer_id===e.id)).length)/e*100).toFixed(0);return"".concat(t,"%")})()}})]}),(0,l.jsxs)("div",{className:"customer-credit",children:[(0,l.jsx)("div",{className:"credit-label",children:"Total Credit Limit"}),(0,l.jsx)("div",{className:"credit-value",children:V((b.customers||[]).reduce((e,t)=>e+(parseFloat(t.credit_limit)||0),0))})]})]})})]})]})]}),"financial"===r&&(0,l.jsxs)("div",{className:"module-content",children:[(0,l.jsxs)("div",{className:"module-header",children:[(0,l.jsxs)("div",{className:"module-header-left",children:[(0,l.jsx)("img",{src:"/company-logo.png",alt:"AstroBSM StockMaster",className:"module-logo",onError:e=>{e.target.style.display="none"}}),(0,l.jsx)("h2",{children:"\ud83d\udcb0 Company Financial Status"})]}),(0,l.jsxs)("div",{className:"module-header-actions",children:[(0,l.jsx)("button",{onClick:K,className:"btn btn-secondary",children:"\ud83d\udd04 Refresh Data"}),(0,l.jsx)("button",{onClick:async function(){window.open("/api/financial/company-status/export","_blank")},className:"btn btn-primary",children:"\ud83d\udcc4 Export PDF"})]})]}),N?(0,l.jsxs)("div",{className:"financial-dashboard",children:[(0,l.jsxs)("div",{className:"financial-summary-grid",children:[(0,l.jsxs)("div",{className:"financial-card revenue",children:[(0,l.jsx)("div",{className:"card-icon",children:"\ud83d\udcb0"}),(0,l.jsxs)("div",{className:"card-content",children:[(0,l.jsx)("h3",{children:"Total Revenue"}),(0,l.jsx)("div",{className:"card-value",children:V(N.total_revenue||0)}),(0,l.jsxs)("div",{className:"card-detail",children:["From ",N.paid_orders_count||0," paid orders"]})]})]}),(0,l.jsxs)("div",{className:"financial-card outstanding",children:[(0,l.jsx)("div",{className:"card-icon",children:"\u23f3"}),(0,l.jsxs)("div",{className:"card-content",children:[(0,l.jsx)("h3",{children:"Outstanding Payments"}),(0,l.jsx)("div",{className:"card-value danger",children:V(N.outstanding_payments||0)}),(0,l.jsxs)("div",{className:"card-detail",children:[N.unpaid_orders_count||0," unpaid orders"]})]})]}),(0,l.jsxs)("div",{className:"financial-card inventory",children:[(0,l.jsx)("div",{className:"card-icon",children:"\ud83d\udce6"}),(0,l.jsxs)("div",{className:"card-content",children:[(0,l.jsx)("h3",{children:"Inventory Value"}),(0,l.jsx)("div",{className:"card-value",children:V(N.total_inventory_value||0)}),(0,l.jsxs)("div",{className:"card-detail",children:[N.total_products_in_stock||0," products + ",N.total_raw_materials_in_stock||0," raw materials"]})]})]}),(0,l.jsxs)("div",{className:"financial-card networth",children:[(0,l.jsx)("div",{className:"card-icon",children:"\ud83c\udfc6"}),(0,l.jsxs)("div",{className:"card-content",children:[(0,l.jsx)("h3",{children:"Company Net Worth"}),(0,l.jsx)("div",{className:"card-value success",children:V(N.net_worth||0)}),(0,l.jsx)("div",{className:"card-detail",children:"Revenue + Inventory - Outstanding"})]})]})]}),(0,l.jsxs)("div",{className:"financial-details-grid",children:[(0,l.jsxs)("div",{className:"detail-card",children:[(0,l.jsx)("h3",{children:"\ud83d\udcb5 Cash Flow Analysis"}),(0,l.jsx)("table",{className:"detail-table",children:(0,l.jsxs)("tbody",{children:[(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:"Total Revenue (Paid Orders)"}),(0,l.jsx)("td",{className:"amount-positive",children:V(N.total_revenue||0)})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:"Outstanding Receivables"}),(0,l.jsx)("td",{className:"amount-warning",children:V(N.outstanding_payments||0)})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:"Inventory Investment"}),(0,l.jsx)("td",{className:"amount-neutral",children:V(N.total_inventory_value||0)})]}),(0,l.jsxs)("tr",{className:"total-row",children:[(0,l.jsx)("td",{children:(0,l.jsx)("strong",{children:"Net Cash Position"})}),(0,l.jsx)("td",{className:"amount-positive",children:(0,l.jsx)("strong",{children:V((N.total_revenue||0)-(N.total_inventory_value||0))})})]})]})})]}),(0,l.jsxs)("div",{className:"detail-card",children:[(0,l.jsx)("h3",{children:"\ud83d\udce6 Inventory Breakdown"}),(0,l.jsx)("table",{className:"detail-table",children:(0,l.jsxs)("tbody",{children:[(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:"Product Inventory Value"}),(0,l.jsx)("td",{className:"amount-neutral",children:V(N.product_inventory_value||0)})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:"Raw Material Inventory Value"}),(0,l.jsx)("td",{className:"amount-neutral",children:V(N.raw_material_inventory_value||0)})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:"Total Products in Stock"}),(0,l.jsxs)("td",{children:[N.total_products_in_stock||0," units"]})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:"Total Raw Materials in Stock"}),(0,l.jsxs)("td",{children:[N.total_raw_materials_in_stock||0," units"]})]}),(0,l.jsxs)("tr",{className:"total-row",children:[(0,l.jsx)("td",{children:(0,l.jsx)("strong",{children:"Total Inventory Value"})}),(0,l.jsx)("td",{className:"amount-neutral",children:(0,l.jsx)("strong",{children:V(N.total_inventory_value||0)})})]})]})})]}),(0,l.jsxs)("div",{className:"detail-card",children:[(0,l.jsx)("h3",{children:"\ud83c\udfed Production Analysis"}),(0,l.jsx)("table",{className:"detail-table",children:(0,l.jsxs)("tbody",{children:[(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:"Total Production Orders"}),(0,l.jsx)("td",{children:N.total_production_orders||0})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:"Completed Orders"}),(0,l.jsx)("td",{children:N.completed_production_orders||0})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:"In Progress Orders"}),(0,l.jsx)("td",{children:N.in_progress_production_orders||0})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:"Pending Orders"}),(0,l.jsx)("td",{children:N.pending_production_orders||0})]})]})})]}),(0,l.jsxs)("div",{className:"detail-card",children:[(0,l.jsx)("h3",{children:"\ud83d\udcc8 Sales Performance"}),(0,l.jsx)("table",{className:"detail-table",children:(0,l.jsxs)("tbody",{children:[(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:"Total Orders"}),(0,l.jsx)("td",{children:N.total_sales_orders||0})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:"Paid Orders"}),(0,l.jsx)("td",{className:"amount-positive",children:N.paid_orders_count||0})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:"Unpaid Orders"}),(0,l.jsx)("td",{className:"amount-warning",children:N.unpaid_orders_count||0})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:"Total Customers"}),(0,l.jsx)("td",{children:N.total_customers||0})]}),(0,l.jsxs)("tr",{className:"total-row",children:[(0,l.jsx)("td",{children:(0,l.jsx)("strong",{children:"Payment Collection Rate"})}),(0,l.jsx)("td",{children:(0,l.jsxs)("strong",{children:[N.total_sales_orders>0?(N.paid_orders_count/N.total_sales_orders*100).toFixed(1):0,"%"]})})]})]})})]})]}),(0,l.jsxs)("div",{className:"profit-analysis",children:[(0,l.jsx)("h3",{children:"\ud83d\udcca Profitability Overview"}),(0,l.jsxs)("div",{className:"profit-grid",children:[(0,l.jsxs)("div",{className:"profit-metric",children:[(0,l.jsx)("div",{className:"metric-label",children:"Gross Revenue"}),(0,l.jsx)("div",{className:"metric-value",children:V(N.total_revenue||0)})]}),(0,l.jsx)("div",{className:"profit-separator",children:"-"}),(0,l.jsxs)("div",{className:"profit-metric",children:[(0,l.jsx)("div",{className:"metric-label",children:"Inventory Cost"}),(0,l.jsx)("div",{className:"metric-value",children:V(N.total_inventory_value||0)})]}),(0,l.jsx)("div",{className:"profit-separator",children:"="}),(0,l.jsxs)("div",{className:"profit-metric highlight",children:[(0,l.jsx)("div",{className:"metric-label",children:"Net Profit Potential"}),(0,l.jsx)("div",{className:"metric-value",children:V((N.total_revenue||0)-(N.total_inventory_value||0))})]})]}),(0,l.jsxs)("div",{className:"profit-note",children:[(0,l.jsx)("strong",{children:"Note:"})," This is a simplified calculation. Actual profit should account for operational costs, salaries, utilities, and other expenses."]})]})]}):(0,l.jsx)("div",{style:{textAlign:"center",padding:"60px"},children:(0,l.jsx)("button",{onClick:K,className:"btn btn-primary btn-lg",children:"\ud83d\udcca Load Financial Dashboard"})})]}),"settings"===r&&(0,l.jsxs)("div",{className:"module-content",children:[(0,l.jsx)("div",{className:"module-header",children:(0,l.jsxs)("div",{className:"module-header-left",children:[(0,l.jsx)("img",{src:"/company-logo.png",alt:"AstroBSM StockMaster",className:"module-logo",onError:e=>{e.target.style.display="none"}}),(0,l.jsx)("h2",{children:"\u0161\u2122\xef\xb8\x8f Settings"})]})}),(0,l.jsxs)("div",{className:"settings-grid",children:[(0,l.jsxs)("div",{className:"settings-card",style:{gridColumn:"1 / -1"},children:[(0,l.jsx)("h3",{children:"\ud83d\udc65 User Management & Approval"}),(0,l.jsxs)("table",{className:"data-table",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{children:"Full Name"}),(0,l.jsx)("th",{children:"Email"}),(0,l.jsx)("th",{children:"Role"}),(0,l.jsx)("th",{children:"Department"}),(0,l.jsx)("th",{children:"Phone"}),(0,l.jsx)("th",{children:"Status"}),(0,l.jsx)("th",{children:"Actions"})]})}),(0,l.jsxs)("tbody",{children:[(b.users||[]).map(e=>(0,l.jsxs)("tr",{className:e.is_active?"":"pending-row",children:[(0,l.jsx)("td",{children:e.full_name}),(0,l.jsx)("td",{children:e.email}),(0,l.jsx)("td",{children:(0,l.jsx)("span",{className:"badge",children:e.role})}),(0,l.jsx)("td",{children:e.department||"N/A"}),(0,l.jsx)("td",{children:e.phone||"N/A"}),(0,l.jsxs)("td",{children:[!e.is_active&&(0,l.jsx)("span",{className:"status-badge pending",children:"\u23f3 Pending"}),e.is_active&&!e.is_locked&&(0,l.jsx)("span",{className:"status-badge active",children:"\u2705 Active"}),e.is_locked&&(0,l.jsx)("span",{className:"status-badge locked",children:"\ud83d\udd12 Locked"})]}),(0,l.jsxs)("td",{className:"actions",children:[!e.is_active&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("button",{onClick:async()=>{try{const t=await fetch("/api/auth/users/".concat(e.id,"/approve"),{method:"POST"});if(!t.ok)throw new Error("Failed to approve user");const n=await t.json();W(n.message,"success"),$("users")}catch(t){W("Error: ".concat(t.message),"error")}},className:"btn-success",style:{marginRight:"5px"},children:"\u2705 Approve"}),(0,l.jsx)("button",{onClick:async()=>{if(confirm("Reject registration for ".concat(e.email,"?")))try{const t=await fetch("/api/auth/users/".concat(e.id,"/reject"),{method:"POST"});if(!t.ok)throw new Error("Failed to reject user");const n=await t.json();W(n.message,"success"),$("users")}catch(t){W("Error: ".concat(t.message),"error")}},className:"btn-danger",children:"\u274c Reject"})]}),e.is_active&&(0,l.jsx)("button",{onClick:async()=>{try{const t=await fetch("/api/auth/users/".concat(e.id,"/toggle-lock"),{method:"POST"});if(!t.ok)throw new Error("Failed to toggle lock");const n=await t.json();W(n.message,"success"),$("users")}catch(t){W("Error: ".concat(t.message),"error")}},className:e.is_locked?"btn-success":"btn-warning",children:e.is_locked?"\ud83d\udd13 Unlock":"\ud83d\udd12 Lock"})]})]},e.id)),(!b.users||0===b.users.length)&&(0,l.jsx)("tr",{children:(0,l.jsx)("td",{colSpan:"7",style:{textAlign:"center",padding:"20px"},children:"No users found"})})]})]})]}),(0,l.jsxs)("div",{className:"settings-card",children:[(0,l.jsx)("h3",{children:"\ud83c\udfe2 Company Information"}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Company Name"}),(0,l.jsx)("input",{type:"text",defaultValue:"AstroBSM StockMaster",placeholder:"Enter company name"})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Business Address"}),(0,l.jsx)("textarea",{rows:"2",defaultValue:"",placeholder:"Enter business address"})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Contact Phone"}),(0,l.jsx)("input",{type:"tel",defaultValue:"",placeholder:"+234 xxx xxx xxxx"})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Contact Email"}),(0,l.jsx)("input",{type:"email",defaultValue:"",placeholder:"info@company.com"})]})]}),(0,l.jsxs)("div",{className:"settings-card",children:[(0,l.jsx)("h3",{children:"\ud83c\udf0d Localization"}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Currency"}),(0,l.jsxs)("select",{defaultValue:"NGN",children:[(0,l.jsx)("option",{value:"NGN",children:"Nigerian Naira (\u20a6)"}),(0,l.jsx)("option",{value:"USD",children:"US Dollar ($)"}),(0,l.jsx)("option",{value:"EUR",children:"Euro (\u20ac)"})]})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Timezone"}),(0,l.jsxs)("select",{defaultValue:"Africa/Lagos",children:[(0,l.jsx)("option",{value:"Africa/Lagos",children:"West Africa Time (WAT)"}),(0,l.jsx)("option",{value:"UTC",children:"UTC"})]})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Date Format"}),(0,l.jsxs)("select",{defaultValue:"DD/MM/YYYY",children:[(0,l.jsx)("option",{value:"DD/MM/YYYY",children:"DD/MM/YYYY"}),(0,l.jsx)("option",{value:"MM/DD/YYYY",children:"MM/DD/YYYY"}),(0,l.jsx)("option",{value:"YYYY-MM-DD",children:"YYYY-MM-DD"})]})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Language"}),(0,l.jsx)("select",{defaultValue:"en",children:(0,l.jsx)("option",{value:"en",children:"English"})})]})]}),(0,l.jsxs)("div",{className:"settings-card",children:[(0,l.jsx)("h3",{children:"\ud83d\udce6 Inventory Settings"}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Stock Valuation Method"}),(0,l.jsxs)("select",{defaultValue:"FIFO",children:[(0,l.jsx)("option",{value:"FIFO",children:"FIFO (First In First Out)"}),(0,l.jsx)("option",{value:"LIFO",children:"LIFO (Last In First Out)"}),(0,l.jsx)("option",{value:"AVG",children:"Average Cost"})]})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Auto-Generate SKU"}),(0,l.jsx)("input",{type:"checkbox",defaultChecked:!0})," ",(0,l.jsx)("span",{style:{marginLeft:"8px"},children:"Enable automatic SKU generation"})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"SKU Prefix"}),(0,l.jsx)("input",{type:"text",defaultValue:"PRD",placeholder:"e.g., PRD, ITEM"})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Low Stock Warning Level"}),(0,l.jsx)("input",{type:"number",defaultValue:"10",placeholder:"Minimum quantity"})]})]}),(0,l.jsxs)("div",{className:"settings-card",children:[(0,l.jsx)("h3",{children:"\ud83d\udcb0 Sales Settings"}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Default Order Type"}),(0,l.jsxs)("select",{defaultValue:"retail",children:[(0,l.jsx)("option",{value:"retail",children:"Retail"}),(0,l.jsx)("option",{value:"wholesale",children:"Wholesale"})]})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Invoice Prefix"}),(0,l.jsx)("input",{type:"text",defaultValue:"INV",placeholder:"e.g., INV, BILL"})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Auto Invoice Numbering"}),(0,l.jsx)("input",{type:"checkbox",defaultChecked:!0})," ",(0,l.jsx)("span",{style:{marginLeft:"8px"},children:"Auto-generate invoice numbers"})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Payment Terms (Days)"}),(0,l.jsx)("input",{type:"number",defaultValue:"30",placeholder:"Default payment due days"})]})]}),(0,l.jsxs)("div",{className:"settings-card",children:[(0,l.jsx)("h3",{children:"\ud83d\udd12 Security Settings"}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Session Timeout (minutes)"}),(0,l.jsx)("input",{type:"number",defaultValue:"60",min:"15",max:"480"})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Password Min Length"}),(0,l.jsx)("input",{type:"number",defaultValue:"8",min:"6",max:"32"})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Enable 2-Factor Auth"}),(0,l.jsx)("input",{type:"checkbox"})," ",(0,l.jsx)("span",{style:{marginLeft:"8px"},children:"Require 2FA for admin users"})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Login Attempt Limit"}),(0,l.jsx)("input",{type:"number",defaultValue:"5",min:"3",max:"10"})]})]}),(0,l.jsxs)("div",{className:"settings-card",children:[(0,l.jsx)("h3",{children:"\ud83e\udde9 Module Management"}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("input",{type:"checkbox",defaultChecked:!0})," ",(0,l.jsx)("span",{style:{marginLeft:"8px"},children:"HR & Staff Module"})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("input",{type:"checkbox",defaultChecked:!0})," ",(0,l.jsx)("span",{style:{marginLeft:"8px"},children:"Payroll Module"})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("input",{type:"checkbox",defaultChecked:!0})," ",(0,l.jsx)("span",{style:{marginLeft:"8px"},children:"Inventory Module"})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("input",{type:"checkbox",defaultChecked:!0})," ",(0,l.jsx)("span",{style:{marginLeft:"8px"},children:"Production Module"})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("input",{type:"checkbox",defaultChecked:!0})," ",(0,l.jsx)("span",{style:{marginLeft:"8px"},children:"Sales Module"})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("input",{type:"checkbox",defaultChecked:!0})," ",(0,l.jsx)("span",{style:{marginLeft:"8px"},children:"Accounting Module"})]})]})]}),(0,l.jsx)("div",{style:{marginTop:"24px",textAlign:"center"},children:(0,l.jsx)("button",{className:"btn btn-primary",style:{padding:"12px 48px",fontSize:"16px"},children:"\ud83d\udcbe Save All Settings"})})]})]}),i&&(0,l.jsx)("div",{className:"modal-overlay",children:(0,l.jsxs)("div",{className:"modal",children:[(0,l.jsxs)("div",{className:"modal-header",children:[(0,l.jsxs)("div",{className:"modal-header-left",children:[(0,l.jsx)("img",{src:"/company-logo.png",alt:"AstroBSM StockMaster",className:"modal-logo",onError:e=>{e.target.style.display="none"}}),(0,l.jsxs)("h3",{children:[c?"Edit":"Add"," ",i.replace(/([A-Z])/g," $1").trim()]})]}),(0,l.jsx)("button",{className:"modal-close",onClick:()=>o(""),children:"\xd7"})]}),(0,l.jsxs)("div",{className:"modal-content",children:[(0,l.jsx)("img",{src:"/company-logo.png",alt:"AstroBSM StockMaster",className:"form-logo",onError:e=>{e.target.style.display="none"}}),"staff"===i&&(0,l.jsxs)("form",{onSubmit:e=>{e.preventDefault(),ee("staff","/api/staff/staffs")},children:[(0,l.jsxs)("div",{className:"form-row",children:[(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"First Name *"}),(0,l.jsx)("input",{value:q.staff.first_name,onChange:e=>J("staff","first_name",e.target.value),required:!0})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Last Name *"}),(0,l.jsx)("input",{value:q.staff.last_name,onChange:e=>J("staff","last_name",e.target.value),required:!0})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Phone Number"}),(0,l.jsx)("input",{type:"tel",value:q.staff.phone,onChange:e=>J("staff","phone",e.target.value)})]})]}),(0,l.jsxs)("div",{className:"form-row",children:[(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Date of Birth"}),(0,l.jsx)("input",{type:"date",value:q.staff.date_of_birth,onChange:e=>J("staff","date_of_birth",e.target.value)})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Position"}),(0,l.jsx)("input",{value:q.staff.position,onChange:e=>J("staff","position",e.target.value)})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Hire Date"}),(0,l.jsx)("input",{type:"date",value:q.staff.hire_date,onChange:e=>J("staff","hire_date",e.target.value)})]})]}),(0,l.jsxs)("div",{className:"form-row",children:[(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Payment Mode *"}),(0,l.jsxs)("select",{value:q.staff.payment_mode,onChange:e=>J("staff","payment_mode",e.target.value),required:!0,children:[(0,l.jsx)("option",{value:"",children:"Select payment mode"}),(0,l.jsx)("option",{value:"monthly",children:"Monthly"}),(0,l.jsx)("option",{value:"hourly",children:"Hour Worked (From Timed Attendance)"})]})]}),"monthly"===q.staff.payment_mode&&(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Monthly Salary (\u201a\xa6) *"}),(0,l.jsx)("input",{type:"number",step:"0.01",value:q.staff.monthly_salary,onChange:e=>J("staff","monthly_salary",e.target.value),required:!0,placeholder:"e.g., 150000"})]}),"hourly"===q.staff.payment_mode&&(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Hourly Rate (\u201a\xa6) *"}),(0,l.jsx)("input",{type:"number",step:"0.01",value:q.staff.hourly_rate,onChange:e=>J("staff","hourly_rate",e.target.value),required:!0,placeholder:"e.g., 2500"})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Bank Currency"}),(0,l.jsx)("input",{value:q.staff.bank_currency,onChange:e=>J("staff","bank_currency",e.target.value),placeholder:"NGN"})]})]}),(0,l.jsxs)("div",{className:"form-row",children:[(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Bank Name"}),(0,l.jsx)("input",{value:q.staff.bank_name,onChange:e=>J("staff","bank_name",e.target.value)})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Account Number"}),(0,l.jsx)("input",{value:q.staff.bank_account_number,onChange:e=>J("staff","bank_account_number",e.target.value)})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Account Name"}),(0,l.jsx)("input",{value:q.staff.bank_account_name,onChange:e=>J("staff","bank_account_name",e.target.value)})]})]}),(0,l.jsx)("div",{className:"info-box",children:"INFO: Employee ID (BSM####) and Clock PIN will be auto-generated"}),(0,l.jsxs)("div",{className:"modal-actions",children:[(0,l.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>o(""),children:"Cancel"}),(0,l.jsxs)("button",{type:"submit",className:"btn btn-primary",disabled:u,children:[u?"Saving...":c?"Update":"Add"," Staff"]})]})]}),"product"===i&&(0,l.jsxs)("form",{onSubmit:e=>{e.preventDefault(),ee("product","/api/products/")},children:[(0,l.jsxs)("div",{className:"form-row",children:[(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Product Code/SKU *"}),(0,l.jsx)("input",{value:q.product.sku,onChange:e=>J("product","sku",e.target.value),required:!0})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Product Name *"}),(0,l.jsx)("input",{value:q.product.name,onChange:e=>J("product","name",e.target.value),required:!0})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Manufacturer"}),(0,l.jsx)("input",{value:q.product.manufacturer,onChange:e=>J("product","manufacturer",e.target.value)})]})]}),(0,l.jsxs)("div",{className:"form-row",children:[(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Reorder Level"}),(0,l.jsx)("input",{type:"number",step:"0.01",value:q.product.reorder_level,onChange:e=>J("product","reorder_level",e.target.value)})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Minimum Order Quantity (MOQ)"}),(0,l.jsx)("input",{type:"number",step:"0.01",value:q.product.minimum_order_quantity,onChange:e=>J("product","minimum_order_quantity",e.target.value)})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Lead Time (Days)"}),(0,l.jsx)("input",{type:"number",value:q.product.lead_time_days,onChange:e=>J("product","lead_time_days",e.target.value)})]})]}),(0,l.jsxs)("div",{className:"lines-section",children:[(0,l.jsxs)("div",{className:"lines-header",children:[(0,l.jsx)("h4",{children:"Units of Measure & Pricing"}),(0,l.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:function(){B(e=>p(p({},e),{},{product:p(p({},e.product),{},{pricing:[...e.product.pricing||[],{unit:"",cost_price:"",retail_price:"",wholesale_price:""}]})}))},children:"Add Unit"})]}),(q.product.pricing||[]).map((e,t)=>(0,l.jsxs)("div",{className:"form-row line-row",children:[(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Unit *"}),(0,l.jsx)("input",{value:e.unit,onChange:e=>Z(t,"unit",e.target.value),required:!0,placeholder:"e.g., piece, box, carton"})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Cost Price (\u20a6) *"}),(0,l.jsx)("input",{type:"number",step:"0.01",value:e.cost_price,onChange:e=>Z(t,"cost_price",e.target.value),required:!0,placeholder:"0.00"})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Retail Price (\u20a6) *"}),(0,l.jsx)("input",{type:"number",step:"0.01",value:e.retail_price,onChange:e=>Z(t,"retail_price",e.target.value),required:!0,placeholder:"0.00"})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Wholesale Price (\u20a6) *"}),(0,l.jsx)("input",{type:"number",step:"0.01",value:e.wholesale_price,onChange:e=>Z(t,"wholesale_price",e.target.value),required:!0,placeholder:"0.00"})]}),(0,l.jsx)("div",{className:"form-group",children:(0,l.jsx)("button",{type:"button",className:"btn btn-danger",onClick:()=>{return e=t,void B(t=>{const n=[...t.product.pricing||[]];return n.splice(e,1),p(p({},t),{},{product:p(p({},t.product),{},{pricing:n})})});var e},disabled:1===q.product.pricing.length,style:{marginTop:"1.5rem"},children:"Remove"})})]},t))]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Description"}),(0,l.jsx)("textarea",{rows:"3",value:q.product.description,onChange:e=>J("product","description",e.target.value)})]}),(0,l.jsxs)("div",{className:"modal-actions",children:[(0,l.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>o(""),children:"Cancel"}),(0,l.jsxs)("button",{type:"submit",className:"btn btn-primary",disabled:u,children:[u?"Saving...":c?"Update":"Add"," Product"]})]})]}),"rawMaterial"===i&&(0,l.jsxs)("form",{onSubmit:e=>{e.preventDefault(),ee("rawMaterial","/api/raw-materials/")},children:[(0,l.jsxs)("div",{className:"form-row",children:[(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Raw Material Name *"}),(0,l.jsx)("input",{value:q.rawMaterial.name,onChange:e=>J("rawMaterial","name",e.target.value),required:!0,placeholder:"e.g., Cotton Gauze"})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Raw Material Code / SKU *"}),(0,l.jsx)("input",{value:q.rawMaterial.sku,onChange:e=>J("rawMaterial","sku",e.target.value),required:!0,placeholder:"e.g., RM-001"})]})]}),(0,l.jsxs)("div",{className:"form-row",children:[(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Manufacturer / Supplier"}),(0,l.jsx)("input",{value:q.rawMaterial.manufacturer,onChange:e=>J("rawMaterial","manufacturer",e.target.value),placeholder:"e.g., ABC Medical Supplies"})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Unit of Measure (UoM) *"}),(0,l.jsxs)("select",{value:q.rawMaterial.unit,onChange:e=>J("rawMaterial","unit",e.target.value),required:!0,children:[(0,l.jsx)("option",{value:"kg",children:"Kilogram (kg)"}),(0,l.jsx)("option",{value:"g",children:"Gram (g)"}),(0,l.jsx)("option",{value:"L",children:"Liter (L)"}),(0,l.jsx)("option",{value:"mL",children:"Milliliter (mL)"}),(0,l.jsx)("option",{value:"m",children:"Meter (m)"}),(0,l.jsx)("option",{value:"cm",children:"Centimeter (cm)"}),(0,l.jsx)("option",{value:"pcs",children:"Pieces (pcs)"}),(0,l.jsx)("option",{value:"box",children:"Box"}),(0,l.jsx)("option",{value:"roll",children:"Roll"}),(0,l.jsx)("option",{value:"pack",children:"Pack"})]})]})]}),(0,l.jsxs)("div",{className:"form-row",children:[(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Reorder Level *"}),(0,l.jsx)("input",{type:"number",step:"0.01",value:q.rawMaterial.reorder_level,onChange:e=>J("rawMaterial","reorder_level",e.target.value),required:!0,placeholder:"Minimum stock level"})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Cost Price (\u201a\xa6) *"}),(0,l.jsx)("input",{type:"number",step:"0.01",value:q.rawMaterial.unit_cost,onChange:e=>J("rawMaterial","unit_cost",e.target.value),required:!0,placeholder:"0.00"})]})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Date Added"}),(0,l.jsx)("input",{type:"date",value:q.rawMaterial.date_added,onChange:e=>J("rawMaterial","date_added",e.target.value),defaultValue:(new Date).toISOString().split("T")[0]})]}),(0,l.jsxs)("div",{className:"modal-actions",children:[(0,l.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>o(""),children:"Cancel"}),(0,l.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:u,children:u?"Saving...":"Add Raw Material"})]})]}),"stockIntake"===i&&(0,l.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{m(!0);const e={product_id:q.stockIntake.product_id,warehouse_id:q.stockIntake.warehouse_id,quantity:q.stockIntake.quantity,unit_cost:q.stockIntake.unit_cost||null,supplier:q.stockIntake.supplier||null,batch_number:q.stockIntake.batch_number||null,expiry_date:q.stockIntake.expiry_date||null,notes:q.stockIntake.notes||null},t=await fetch("/api/stock/intake/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error((await t.json()).detail||"Failed");W("Stock intake recorded","success"),o(""),Q()}catch(e){W("Error: ".concat(e.message),"error")}finally{m(!1)}},children:[(0,l.jsxs)("div",{className:"form-row",children:[(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Product *"}),(0,l.jsxs)("select",{value:q.stockIntake.product_id,onChange:e=>J("stockIntake","product_id",e.target.value),required:!0,children:[(0,l.jsx)("option",{value:"",children:"Select product"}),(b.products||[]).map(e=>(0,l.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Warehouse *"}),(0,l.jsxs)("select",{value:q.stockIntake.warehouse_id,onChange:e=>J("stockIntake","warehouse_id",e.target.value),required:!0,children:[(0,l.jsx)("option",{value:"",children:"Select warehouse"}),(b.warehouses||[]).map(e=>(0,l.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Quantity *"}),(0,l.jsx)("input",{type:"number",value:q.stockIntake.quantity,onChange:e=>J("stockIntake","quantity",e.target.value),required:!0})]})]}),(0,l.jsxs)("div",{className:"form-row",children:[(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Unit Cost"}),(0,l.jsx)("input",{type:"number",step:"0.01",value:q.stockIntake.unit_cost,onChange:e=>J("stockIntake","unit_cost",e.target.value)})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Supplier"}),(0,l.jsx)("input",{value:q.stockIntake.supplier,onChange:e=>J("stockIntake","supplier",e.target.value)})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Batch Number"}),(0,l.jsx)("input",{value:q.stockIntake.batch_number,onChange:e=>J("stockIntake","batch_number",e.target.value)})]})]}),(0,l.jsxs)("div",{className:"form-row",children:[(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Expiry Date"}),(0,l.jsx)("input",{type:"date",value:q.stockIntake.expiry_date,onChange:e=>J("stockIntake","expiry_date",e.target.value)})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Notes"}),(0,l.jsx)("input",{value:q.stockIntake.notes,onChange:e=>J("stockIntake","notes",e.target.value)})]})]}),(0,l.jsxs)("div",{className:"modal-actions",children:[(0,l.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>o(""),children:"Cancel"}),(0,l.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:u,children:u?"Saving...":"Record Intake"})]})]}),"rawMaterialIntake"===i&&(0,l.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{m(!0);const e={raw_material_id:q.rawMaterialIntake.raw_material_id,warehouse_id:q.rawMaterialIntake.warehouse_id,quantity:q.rawMaterialIntake.quantity,unit_cost:q.rawMaterialIntake.unit_cost||null,supplier:q.rawMaterialIntake.supplier||null,batch_number:q.rawMaterialIntake.batch_number||null,expiry_date:q.rawMaterialIntake.expiry_date||null,notes:q.rawMaterialIntake.notes||null},t=await fetch("/api/stock/intake/raw-material/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error((await t.json()).detail||"Failed");W("Raw material intake recorded","success"),o(""),Q()}catch(e){W("Error: ".concat(e.message),"error")}finally{m(!1)}},children:[(0,l.jsxs)("div",{className:"form-row",children:[(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Raw Material *"}),(0,l.jsxs)("select",{value:q.rawMaterialIntake.raw_material_id,onChange:e=>J("rawMaterialIntake","raw_material_id",e.target.value),required:!0,children:[(0,l.jsx)("option",{value:"",children:"Select raw material"}),(b.rawMaterials||[]).map(e=>(0,l.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Warehouse *"}),(0,l.jsxs)("select",{value:q.rawMaterialIntake.warehouse_id,onChange:e=>J("rawMaterialIntake","warehouse_id",e.target.value),required:!0,children:[(0,l.jsx)("option",{value:"",children:"Select warehouse"}),(b.warehouses||[]).map(e=>(0,l.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Quantity *"}),(0,l.jsx)("input",{type:"number",value:q.rawMaterialIntake.quantity,onChange:e=>J("rawMaterialIntake","quantity",e.target.value),required:!0})]})]}),(0,l.jsxs)("div",{className:"form-row",children:[(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Unit Cost"}),(0,l.jsx)("input",{type:"number",step:"0.01",value:q.rawMaterialIntake.unit_cost,onChange:e=>J("rawMaterialIntake","unit_cost",e.target.value)})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Supplier"}),(0,l.jsx)("input",{value:q.rawMaterialIntake.supplier,onChange:e=>J("rawMaterialIntake","supplier",e.target.value)})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Batch Number"}),(0,l.jsx)("input",{value:q.rawMaterialIntake.batch_number,onChange:e=>J("rawMaterialIntake","batch_number",e.target.value)})]})]}),(0,l.jsxs)("div",{className:"form-row",children:[(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Expiry Date"}),(0,l.jsx)("input",{type:"date",value:q.rawMaterialIntake.expiry_date,onChange:e=>J("rawMaterialIntake","expiry_date",e.target.value)})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Notes"}),(0,l.jsx)("input",{value:q.rawMaterialIntake.notes,onChange:e=>J("rawMaterialIntake","notes",e.target.value)})]})]}),(0,l.jsxs)("div",{className:"modal-actions",children:[(0,l.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>o(""),children:"Cancel"}),(0,l.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:u,children:u?"Saving...":"Record Intake"})]})]}),"warehouse"===i&&(0,l.jsxs)("form",{onSubmit:e=>{e.preventDefault(),ee("warehouse","/api/warehouses/")},children:[(0,l.jsxs)("div",{className:"form-row",children:[(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Code *"}),(0,l.jsx)("input",{value:q.warehouse.code,onChange:e=>J("warehouse","code",e.target.value),required:!0,placeholder:"e.g., WH-001"})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Name *"}),(0,l.jsx)("input",{value:q.warehouse.name,onChange:e=>J("warehouse","name",e.target.value),required:!0,placeholder:"e.g., Main Warehouse"})]})]}),(0,l.jsxs)("div",{className:"form-row",children:[(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Location"}),(0,l.jsx)("input",{value:q.warehouse.location,onChange:e=>J("warehouse","location",e.target.value),placeholder:"e.g., Lagos, Nigeria"})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Warehouse Manager"}),(0,l.jsxs)("select",{value:q.warehouse.manager_id,onChange:e=>J("warehouse","manager_id",e.target.value),children:[(0,l.jsx)("option",{value:"",children:"No Manager Assigned"}),(b.staff||[]).map(e=>(0,l.jsxs)("option",{value:e.id,children:[e.first_name," ",e.last_name," - ",e.position||"Staff"]},e.id))]})]})]}),(0,l.jsx)("div",{className:"info-box",children:"INFO:\x8f Warehouse manager can be assigned to oversee operations. This can be edited later by admins."}),(0,l.jsxs)("div",{className:"modal-actions",children:[(0,l.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>o(""),children:"Cancel"}),(0,l.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:u,children:u?"Saving...":(c?"Update":"Add")+" Warehouse"})]})]}),"customer"===i&&(0,l.jsxs)("form",{onSubmit:e=>{e.preventDefault(),ee("customer","/api/sales/customers")},children:[(0,l.jsxs)("div",{className:"form-row",children:[(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Customer Code *"}),(0,l.jsx)("input",{value:q.customer.customer_code,onChange:e=>J("customer","customer_code",e.target.value),required:!0,placeholder:"e.g., CUST-001",maxLength:"32"})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Customer Name *"}),(0,l.jsx)("input",{value:q.customer.name,onChange:e=>J("customer","name",e.target.value),required:!0,placeholder:"Company or Individual Name",maxLength:"255"})]})]}),(0,l.jsxs)("div",{className:"form-row",children:[(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Email"}),(0,l.jsx)("input",{type:"email",value:q.customer.email,onChange:e=>J("customer","email",e.target.value),placeholder:"customer@example.com",maxLength:"255"})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Phone Number"}),(0,l.jsx)("input",{type:"tel",value:q.customer.phone,onChange:e=>J("customer","phone",e.target.value),placeholder:"08012345678",maxLength:"50"})]})]}),(0,l.jsx)("div",{className:"form-row",children:(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Address"}),(0,l.jsx)("textarea",{rows:"3",value:q.customer.address,onChange:e=>J("customer","address",e.target.value),placeholder:"Full business or residential address"})]})}),(0,l.jsx)("div",{className:"form-row",children:(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Credit Limit (\u201a\xa6)"}),(0,l.jsx)("input",{type:"number",step:"0.01",min:"0",value:q.customer.credit_limit,onChange:e=>J("customer","credit_limit",e.target.value),placeholder:"0.00"}),(0,l.jsx)("small",{style:{color:"var(--gray-600)",fontSize:"0.85rem",marginTop:"0.25rem",display:"block"},children:"Maximum amount customer can purchase on credit"})]})}),(0,l.jsx)("div",{className:"info-box",children:"INFO:\x8f Customer code should be unique. Email and phone help with communication and reporting."}),(0,l.jsxs)("div",{className:"modal-actions",children:[(0,l.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>o(""),children:"Cancel"}),(0,l.jsxs)("button",{type:"submit",className:"btn btn-primary",disabled:u,children:[u?"Saving...":c?"Update":"Add"," Customer"]})]})]}),"payroll"===i&&(0,l.jsxs)("form",{onSubmit:async function(e){e.preventDefault();try{if(!q.payroll.staff_id||!q.payroll.pay_period_start||!q.payroll.pay_period_end)throw new Error("Complete the fields");m(!0);const e=p({},q.payroll),t=await fetch("/api/staff/payroll/calculate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error((await t.json()).detail||"Failed to calculate payroll");const n=await t.json();W("Payroll calculated","success");const a=await fetch("/api/staff/payslip/".concat(n.id,"/pdf"));if(a.ok){const e=await a.blob(),t=window.URL.createObjectURL(e),r=document.createElement("a");r.href=t,r.download="payslip_".concat(n.id,".pdf"),document.body.appendChild(r),r.click(),r.remove(),window.URL.revokeObjectURL(t),W("Payslip downloaded","success")}o(""),G("payroll")}catch(e){W("Payroll error: ".concat(e.message),"error")}finally{m(!1)}},children:[(0,l.jsxs)("div",{className:"form-row",children:[(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Staff *"}),(0,l.jsxs)("select",{value:q.payroll.staff_id,onChange:e=>J("payroll","staff_id",e.target.value),required:!0,children:[(0,l.jsx)("option",{value:"",children:"Select staff"}),(b.staff||[]).map(e=>(0,l.jsxs)("option",{value:e.id,children:[e.first_name," ",e.last_name]},e.id))]})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Period Start *"}),(0,l.jsx)("input",{type:"date",value:q.payroll.pay_period_start,onChange:e=>J("payroll","pay_period_start",e.target.value),required:!0})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Period End *"}),(0,l.jsx)("input",{type:"date",value:q.payroll.pay_period_end,onChange:e=>J("payroll","pay_period_end",e.target.value),required:!0})]})]}),(0,l.jsxs)("div",{className:"modal-actions",children:[(0,l.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>o(""),children:"Cancel"}),(0,l.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:u,children:u?"Processing...":"Process Payroll"})]})]}),"salesOrder"===i&&(0,l.jsxs)("form",{onSubmit:async function(e){e.preventDefault();try{if(!q.salesOrder.customer_id)throw new Error("Customer required");if(!j.length)throw new Error("Warehouse access required before creating orders");if(!q.salesOrder.warehouse_id)throw new Error("Warehouse required");if(!q.salesOrder.lines.length)throw new Error("Add at least one line");m(!0);const e={customer_id:q.salesOrder.customer_id,warehouse_id:q.salesOrder.warehouse_id,required_date:q.salesOrder.required_date?"".concat(q.salesOrder.required_date,"T00:00:00"):null,notes:q.salesOrder.notes||null,payment_status:q.salesOrder.payment_status||"unpaid",order_type:q.salesOrder.order_type||"retail",lines:q.salesOrder.lines.map(e=>({product_id:e.product_id,quantity:Number(e.quantity||0),unit_price:Number(e.unit_price||0)}))},t=localStorage.getItem("access_token"),n={"Content-Type":"application/json"};t&&(n.Authorization="Bearer ".concat(t));const a=await fetch("/api/sales/orders",{method:"POST",headers:n,body:JSON.stringify(e)});if(!a.ok)throw new Error((await a.json()).detail||"Failed to create order");const r=await a.json();"paid"===q.salesOrder.payment_status&&r.id?(await ne(r.id),W("Sales order created and receipt downloaded","success")):r.id?(await te(r.id),W("Sales order created and invoice downloaded","success")):W("Sales order created","success"),o(""),G("salesOrder"),$("sales")}catch(e){W("Sales order error: ".concat(e.message),"error")}finally{m(!1)}},children:[(0,l.jsxs)("div",{className:"form-row",children:[(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Customer *"}),(0,l.jsxs)("select",{value:q.salesOrder.customer_id,onChange:e=>J("salesOrder","customer_id",e.target.value),required:!0,children:[(0,l.jsx)("option",{value:"",children:"Select customer"}),(b.customers||[]).map(e=>(0,l.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,l.jsx)("div",{className:"form-group",children:(0,l.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>Y("customer"),style:{marginTop:"1.5rem"},children:"\u017e\u2022 New Customer"})})]}),(0,l.jsxs)("div",{className:"form-row",children:[(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Warehouse *"}),(0,l.jsxs)("select",{value:q.salesOrder.warehouse_id,onChange:e=>J("salesOrder","warehouse_id",e.target.value),required:!0,disabled:!j.length,children:[(0,l.jsx)("option",{value:"",children:j.length?"Select warehouse":"No warehouses assigned"}),j.map(e=>(0,l.jsx)("option",{value:e.id,children:e.name},e.id))]}),!j.length&&(0,l.jsx)("small",{style:{color:"var(--danger)",display:"block",marginTop:"0.5rem"},children:"Warehouse access not granted. Contact an administrator."})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Order Type *"}),(0,l.jsxs)("select",{value:q.salesOrder.order_type,onChange:e=>J("salesOrder","order_type",e.target.value),required:!0,children:[(0,l.jsx)("option",{value:"retail",children:"Retail (Use Retail Pricing)"}),(0,l.jsx)("option",{value:"wholesale",children:"Wholesale (Use Wholesale Pricing)"})]})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Payment Status *"}),(0,l.jsxs)("select",{value:q.salesOrder.payment_status,onChange:e=>J("salesOrder","payment_status",e.target.value),required:!0,children:[(0,l.jsx)("option",{value:"unpaid",children:"Unpaid (Generate Invoice)"}),(0,l.jsx)("option",{value:"paid",children:"Paid (Generate Receipt)"})]})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Required Date"}),(0,l.jsx)("input",{type:"date",value:q.salesOrder.required_date,onChange:e=>J("salesOrder","required_date",e.target.value)})]})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Notes"}),(0,l.jsx)("textarea",{rows:"2",value:q.salesOrder.notes,onChange:e=>J("salesOrder","notes",e.target.value)})]}),(0,l.jsxs)("div",{className:"lines-section",children:[(0,l.jsxs)("div",{className:"lines-header",children:[(0,l.jsx)("h4",{children:"Order Lines"}),(0,l.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:function(){B(e=>p(p({},e),{},{salesOrder:p(p({},e.salesOrder),{},{lines:[...e.salesOrder.lines,{product_id:"",unit:"",quantity:"",unit_price:""}]})}))},children:"\u017e\u2022 Add Line"})]}),(q.salesOrder.lines||[]).map((e,t)=>(0,l.jsxs)("div",{className:"form-row line-row",children:[(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Product *"}),(0,l.jsxs)("select",{value:e.product_id,onChange:e=>X(t,"product_id",e.target.value),required:!0,children:[(0,l.jsx)("option",{value:"",children:"Select product"}),(b.products||[]).map(e=>(0,l.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Unit *"}),(0,l.jsxs)("select",{value:e.unit,onChange:e=>X(t,"unit",e.target.value),required:!0,children:[(0,l.jsx)("option",{value:"",children:"Select unit"}),(()=>{const t=(b.products||[]).find(t=>t.id===e.product_id);return(t&&t.pricing&&t.pricing.length>0?t.pricing.map(e=>e.unit):t?["each"]:[]).map((e,t)=>(0,l.jsx)("option",{value:e,children:e},t))})()]})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Qty *"}),(0,l.jsx)("input",{type:"number",value:e.quantity,onChange:e=>X(t,"quantity",e.target.value),required:!0})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Unit Price *"}),(0,l.jsx)("input",{type:"number",step:"0.01",value:e.unit_price,onChange:e=>X(t,"unit_price",e.target.value),required:!0})]}),(0,l.jsx)("div",{className:"form-group",children:(0,l.jsx)("button",{type:"button",className:"btn btn-danger",onClick:()=>{return e=t,void B(t=>{const n=[...t.salesOrder.lines];return n.splice(e,1),p(p({},t),{},{salesOrder:p(p({},t.salesOrder),{},{lines:n})})});var e},children:"Delete"})})]},t))]}),(0,l.jsxs)("div",{className:"modal-actions",children:[(0,l.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>o(""),children:"Cancel"}),(0,l.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:u,children:u?"Saving...":"Create Order"})]})]}),"productStockIntake"===i&&(0,l.jsxs)("form",{onSubmit:async function(e){e.preventDefault();try{if(!q.stockIntake.warehouse_id||!q.stockIntake.product_id||!q.stockIntake.quantity||!q.stockIntake.unit_cost)throw new Error("Please fill all required fields");m(!0);const e={warehouse_id:q.stockIntake.warehouse_id,product_id:q.stockIntake.product_id,quantity:parseFloat(q.stockIntake.quantity),unit_cost:parseFloat(q.stockIntake.unit_cost),supplier:q.stockIntake.supplier||null,batch_number:q.stockIntake.batch_number||null,notes:q.stockIntake.notes||null},t=await fetch("/api/stock-management/product-intake",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error((await t.json()).detail||"Failed to record product intake");const n=await t.json();W(n.message,"success"),o(""),G("stockIntake"),re("products")}catch(e){W("Product intake error: ".concat(e.message),"error")}finally{m(!1)}},children:[(0,l.jsxs)("div",{className:"form-row",children:[(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Warehouse *"}),(0,l.jsxs)("select",{value:q.stockIntake.warehouse_id,onChange:e=>J("stockIntake","warehouse_id",e.target.value),required:!0,children:[(0,l.jsx)("option",{value:"",children:"Select warehouse"}),(b.warehouses||[]).map(e=>(0,l.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Product *"}),(0,l.jsxs)("select",{value:q.stockIntake.product_id,onChange:e=>J("stockIntake","product_id",e.target.value),required:!0,children:[(0,l.jsx)("option",{value:"",children:"Select product"}),(b.products||[]).map(e=>(0,l.jsxs)("option",{value:e.id,children:[e.name," - ",e.sku]},e.id))]})]})]}),(0,l.jsxs)("div",{className:"form-row",children:[(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Quantity *"}),(0,l.jsx)("input",{type:"number",step:"0.01",value:q.stockIntake.quantity,onChange:e=>J("stockIntake","quantity",e.target.value),required:!0})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Unit Cost (\u201a\xa6) *"}),(0,l.jsx)("input",{type:"number",step:"0.01",value:q.stockIntake.unit_cost,onChange:e=>J("stockIntake","unit_cost",e.target.value),required:!0})]})]}),(0,l.jsxs)("div",{className:"form-row",children:[(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Supplier"}),(0,l.jsx)("input",{value:q.stockIntake.supplier,onChange:e=>J("stockIntake","supplier",e.target.value)})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Batch Number"}),(0,l.jsx)("input",{value:q.stockIntake.batch_number,onChange:e=>J("stockIntake","batch_number",e.target.value)})]})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Notes"}),(0,l.jsx)("textarea",{rows:"2",value:q.stockIntake.notes,onChange:e=>J("stockIntake","notes",e.target.value)})]}),(0,l.jsxs)("div",{className:"modal-actions",children:[(0,l.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>o(""),children:"Cancel"}),(0,l.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:u,children:u?"Recording...":"Record Stock Intake"})]})]}),"rawMaterialStockIntake"===i&&(0,l.jsxs)("form",{onSubmit:async function(e){e.preventDefault();try{if(!q.rawMaterialIntake.warehouse_id||!q.rawMaterialIntake.raw_material_id||!q.rawMaterialIntake.quantity||!q.rawMaterialIntake.unit_cost)throw new Error("Please fill all required fields");m(!0);const e={warehouse_id:q.rawMaterialIntake.warehouse_id,raw_material_id:q.rawMaterialIntake.raw_material_id,quantity:parseFloat(q.rawMaterialIntake.quantity),unit_cost:parseFloat(q.rawMaterialIntake.unit_cost),supplier:q.rawMaterialIntake.supplier||null,batch_number:q.rawMaterialIntake.batch_number||null,notes:q.rawMaterialIntake.notes||null},t=await fetch("/api/stock-management/raw-material-intake",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error((await t.json()).detail||"Failed to record raw material intake");const n=await t.json();W(n.message,"success"),o(""),G("rawMaterialIntake"),re("rawMaterials")}catch(e){W("Raw material intake error: ".concat(e.message),"error")}finally{m(!1)}},children:[(0,l.jsxs)("div",{className:"form-row",children:[(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Warehouse *"}),(0,l.jsxs)("select",{value:q.rawMaterialIntake.warehouse_id,onChange:e=>J("rawMaterialIntake","warehouse_id",e.target.value),required:!0,children:[(0,l.jsx)("option",{value:"",children:"Select warehouse"}),(b.warehouses||[]).map(e=>(0,l.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Raw Material *"}),(0,l.jsxs)("select",{value:q.rawMaterialIntake.raw_material_id,onChange:e=>J("rawMaterialIntake","raw_material_id",e.target.value),required:!0,children:[(0,l.jsx)("option",{value:"",children:"Select raw material"}),(b.rawMaterials||[]).map(e=>(0,l.jsxs)("option",{value:e.id,children:[e.name," - ",e.sku]},e.id))]})]})]}),(0,l.jsxs)("div",{className:"form-row",children:[(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Quantity *"}),(0,l.jsx)("input",{type:"number",step:"0.01",value:q.rawMaterialIntake.quantity,onChange:e=>J("rawMaterialIntake","quantity",e.target.value),required:!0})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Unit Cost (\u201a\xa6) *"}),(0,l.jsx)("input",{type:"number",step:"0.01",value:q.rawMaterialIntake.unit_cost,onChange:e=>J("rawMaterialIntake","unit_cost",e.target.value),required:!0})]})]}),(0,l.jsxs)("div",{className:"form-row",children:[(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Supplier"}),(0,l.jsx)("input",{value:q.rawMaterialIntake.supplier,onChange:e=>J("rawMaterialIntake","supplier",e.target.value)})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Batch Number"}),(0,l.jsx)("input",{value:q.rawMaterialIntake.batch_number,onChange:e=>J("rawMaterialIntake","batch_number",e.target.value)})]})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Notes"}),(0,l.jsx)("textarea",{rows:"2",value:q.rawMaterialIntake.notes,onChange:e=>J("rawMaterialIntake","notes",e.target.value)})]}),(0,l.jsxs)("div",{className:"modal-actions",children:[(0,l.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>o(""),children:"Cancel"}),(0,l.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:u,children:u?"Recording...":"Record Raw Material Intake"})]})]}),"damagedProduct"===i&&(0,l.jsxs)("form",{onSubmit:async function(e){e.preventDefault();try{if(!q.damagedProduct.warehouse_id||!q.damagedProduct.product_id||!q.damagedProduct.quantity||!q.damagedProduct.damage_type)throw new Error("Please fill all required fields");m(!0);const e=new URLSearchParams({warehouse_id:q.damagedProduct.warehouse_id,product_id:q.damagedProduct.product_id,quantity:parseFloat(q.damagedProduct.quantity),damage_type:q.damagedProduct.damage_type});q.damagedProduct.damage_reason&&e.append("damage_reason",q.damagedProduct.damage_reason),q.damagedProduct.notes&&e.append("notes",q.damagedProduct.notes),console.log("Damaged product params:",e.toString());const t=await fetch("/api/stock-management/damaged-product?".concat(e.toString()),{method:"POST"});if(!t.ok){const e=await t.json();throw console.error("Damaged product error:",e),new Error(e.detail||"Failed to record damaged product")}const n=await t.json();W(n.message,"success"),o(""),G("damagedProduct"),re("products")}catch(e){W("Damaged product error: ".concat(e.message),"error")}finally{m(!1)}},children:[(0,l.jsxs)("div",{className:"form-row",children:[(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Warehouse *"}),(0,l.jsxs)("select",{value:q.damagedProduct.warehouse_id,onChange:e=>J("damagedProduct","warehouse_id",e.target.value),required:!0,children:[(0,l.jsx)("option",{value:"",children:"Select warehouse"}),(b.warehouses||[]).map(e=>(0,l.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Product *"}),(0,l.jsxs)("select",{value:q.damagedProduct.product_id,onChange:e=>J("damagedProduct","product_id",e.target.value),required:!0,children:[(0,l.jsx)("option",{value:"",children:"Select product"}),(b.products||[]).map(e=>(0,l.jsxs)("option",{value:e.id,children:[e.name," - ",e.sku]},e.id))]})]})]}),(0,l.jsxs)("div",{className:"form-row",children:[(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Quantity *"}),(0,l.jsx)("input",{type:"number",step:"0.01",value:q.damagedProduct.quantity,onChange:e=>J("damagedProduct","quantity",e.target.value),required:!0})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Damage Type *"}),(0,l.jsxs)("select",{value:q.damagedProduct.damage_type,onChange:e=>J("damagedProduct","damage_type",e.target.value),required:!0,children:[(0,l.jsx)("option",{value:"",children:"Select type"}),(0,l.jsx)("option",{value:"Physical Damage",children:"Physical Damage"}),(0,l.jsx)("option",{value:"Expired",children:"Expired"}),(0,l.jsx)("option",{value:"Defective",children:"Defective"}),(0,l.jsx)("option",{value:"Water Damage",children:"Water Damage"}),(0,l.jsx)("option",{value:"Other",children:"Other"})]})]})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Damage Reason"}),(0,l.jsx)("textarea",{rows:"2",value:q.damagedProduct.damage_reason,onChange:e=>J("damagedProduct","damage_reason",e.target.value),placeholder:"Describe the damage"})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Additional Notes"}),(0,l.jsx)("textarea",{rows:"2",value:q.damagedProduct.notes,onChange:e=>J("damagedProduct","notes",e.target.value)})]}),(0,l.jsxs)("div",{className:"modal-actions",children:[(0,l.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>o(""),children:"Cancel"}),(0,l.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:u,children:u?"Recording...":"Record Damaged Product"})]})]}),"damagedRawMaterial"===i&&(0,l.jsxs)("form",{onSubmit:async function(e){e.preventDefault();try{if(!q.damagedRawMaterial.warehouse_id||!q.damagedRawMaterial.raw_material_id||!q.damagedRawMaterial.quantity||!q.damagedRawMaterial.damage_type)throw new Error("Please fill all required fields");m(!0);const e=new URLSearchParams({warehouse_id:q.damagedRawMaterial.warehouse_id,raw_material_id:q.damagedRawMaterial.raw_material_id,quantity:parseFloat(q.damagedRawMaterial.quantity),damage_type:q.damagedRawMaterial.damage_type});q.damagedRawMaterial.damage_reason&&e.append("damage_reason",q.damagedRawMaterial.damage_reason),q.damagedRawMaterial.notes&&e.append("notes",q.damagedRawMaterial.notes),console.log("Damaged raw material params:",e.toString());const t=await fetch("/api/stock-management/damaged-raw-material?".concat(e.toString()),{method:"POST"});if(!t.ok){const e=await t.json();throw console.error("Damaged raw material error:",e),new Error(e.detail||"Failed to record damaged raw material")}const n=await t.json();W(n.message,"success"),o(""),G("damagedRawMaterial"),re("rawMaterials")}catch(e){W("Damaged raw material error: ".concat(e.message),"error")}finally{m(!1)}},children:[(0,l.jsxs)("div",{className:"form-row",children:[(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Warehouse *"}),(0,l.jsxs)("select",{value:q.damagedRawMaterial.warehouse_id,onChange:e=>J("damagedRawMaterial","warehouse_id",e.target.value),required:!0,children:[(0,l.jsx)("option",{value:"",children:"Select warehouse"}),(b.warehouses||[]).map(e=>(0,l.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Raw Material *"}),(0,l.jsxs)("select",{value:q.damagedRawMaterial.raw_material_id,onChange:e=>J("damagedRawMaterial","raw_material_id",e.target.value),required:!0,children:[(0,l.jsx)("option",{value:"",children:"Select raw material"}),(b.rawMaterials||[]).map(e=>(0,l.jsxs)("option",{value:e.id,children:[e.name," - ",e.sku]},e.id))]})]})]}),(0,l.jsxs)("div",{className:"form-row",children:[(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Quantity *"}),(0,l.jsx)("input",{type:"number",step:"0.01",value:q.damagedRawMaterial.quantity,onChange:e=>J("damagedRawMaterial","quantity",e.target.value),required:!0})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Damage Type *"}),(0,l.jsxs)("select",{value:q.damagedRawMaterial.damage_type,onChange:e=>J("damagedRawMaterial","damage_type",e.target.value),required:!0,children:[(0,l.jsx)("option",{value:"",children:"Select type"}),(0,l.jsx)("option",{value:"Physical Damage",children:"Physical Damage"}),(0,l.jsx)("option",{value:"Expired",children:"Expired"}),(0,l.jsx)("option",{value:"Contaminated",children:"Contaminated"}),(0,l.jsx)("option",{value:"Spoiled",children:"Spoiled"}),(0,l.jsx)("option",{value:"Other",children:"Other"})]})]})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Damage Reason"}),(0,l.jsx)("textarea",{rows:"2",value:q.damagedRawMaterial.damage_reason,onChange:e=>J("damagedRawMaterial","damage_reason",e.target.value),placeholder:"Describe the damage"})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Additional Notes"}),(0,l.jsx)("textarea",{rows:"2",value:q.damagedRawMaterial.notes,onChange:e=>J("damagedRawMaterial","notes",e.target.value)})]}),(0,l.jsxs)("div",{className:"modal-actions",children:[(0,l.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>o(""),children:"Cancel"}),(0,l.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:u,children:u?"Recording...":"Record Damaged Raw Material"})]})]}),"returnedProduct"===i&&(0,l.jsxs)("form",{onSubmit:async function(e){e.preventDefault();try{if(!q.returnedProduct.warehouse_id||!q.returnedProduct.product_id||!q.returnedProduct.quantity||!q.returnedProduct.return_reason||!q.returnedProduct.return_condition)throw new Error("Please fill all required fields");m(!0);const e=new URLSearchParams({warehouse_id:q.returnedProduct.warehouse_id,product_id:q.returnedProduct.product_id,quantity:parseFloat(q.returnedProduct.quantity),return_reason:q.returnedProduct.return_reason,return_condition:q.returnedProduct.return_condition,refund_amount:parseFloat(q.returnedProduct.refund_amount)||0});q.returnedProduct.customer_name&&e.append("customer_name",q.returnedProduct.customer_name),q.returnedProduct.notes&&e.append("notes",q.returnedProduct.notes),console.log("Returned product params:",e.toString());const t=await fetch("/api/stock-management/returned-product?".concat(e.toString()),{method:"POST"});if(!t.ok){const e=await t.json();throw console.error("Returned product error:",e),new Error(e.detail||"Failed to record product return")}const n=await t.json();W(n.message,"success"),o(""),G("returnedProduct"),re("products")}catch(e){W("Product return error: ".concat(e.message),"error")}finally{m(!1)}},children:[(0,l.jsxs)("div",{className:"form-row",children:[(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Warehouse *"}),(0,l.jsxs)("select",{value:q.returnedProduct.warehouse_id,onChange:e=>J("returnedProduct","warehouse_id",e.target.value),required:!0,children:[(0,l.jsx)("option",{value:"",children:"Select warehouse"}),(b.warehouses||[]).map(e=>(0,l.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Product *"}),(0,l.jsxs)("select",{value:q.returnedProduct.product_id,onChange:e=>J("returnedProduct","product_id",e.target.value),required:!0,children:[(0,l.jsx)("option",{value:"",children:"Select product"}),(b.products||[]).map(e=>(0,l.jsxs)("option",{value:e.id,children:[e.name," - ",e.sku]},e.id))]})]})]}),(0,l.jsxs)("div",{className:"form-row",children:[(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Quantity *"}),(0,l.jsx)("input",{type:"number",step:"0.01",value:q.returnedProduct.quantity,onChange:e=>J("returnedProduct","quantity",e.target.value),required:!0})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Return Condition *"}),(0,l.jsxs)("select",{value:q.returnedProduct.return_condition,onChange:e=>J("returnedProduct","return_condition",e.target.value),required:!0,children:[(0,l.jsx)("option",{value:"good",children:"Good (Resaleable)"}),(0,l.jsx)("option",{value:"damaged",children:"Damaged"}),(0,l.jsx)("option",{value:"expired",children:"Expired"})]})]})]}),(0,l.jsxs)("div",{className:"form-row",children:[(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Customer Name"}),(0,l.jsx)("input",{value:q.returnedProduct.customer_name,onChange:e=>J("returnedProduct","customer_name",e.target.value)})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Refund Amount (\u201a\xa6)"}),(0,l.jsx)("input",{type:"number",step:"0.01",value:q.returnedProduct.refund_amount,onChange:e=>J("returnedProduct","refund_amount",e.target.value)})]})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Return Reason *"}),(0,l.jsx)("textarea",{rows:"2",value:q.returnedProduct.return_reason,onChange:e=>J("returnedProduct","return_reason",e.target.value),placeholder:"Why is the customer returning this?",required:!0})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Additional Notes"}),(0,l.jsx)("textarea",{rows:"2",value:q.returnedProduct.notes,onChange:e=>J("returnedProduct","notes",e.target.value)})]}),(0,l.jsxs)("div",{className:"modal-actions",children:[(0,l.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>o(""),children:"Cancel"}),(0,l.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:u,children:u?"Recording...":"Record Product Return"})]})]}),"bom"===i&&(0,l.jsxs)("form",{onSubmit:e=>{e.preventDefault(),async function(){try{if(!q.bom.product_id||0===L.length)return void W("Please select product and add at least one raw material","error");m(!0);const e={product_id:q.bom.product_id,lines:L.map(e=>({raw_material_id:e.raw_material_id,qty_per_unit:parseFloat(e.qty_per_unit),unit:e.unit}))};console.log("BOM payload:",e);const t=await fetch("/api/bom/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const e=await t.json();throw console.error("BOM error:",e),new Error(e.detail||"Failed to save BOM")}const n=await t.json();W(n.message,"success"),o(""),G("bom"),D([]),Q()}catch(e){W("BOM save error: ".concat(e.message),"error")}finally{m(!1)}}()},children:[(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Product *"}),(0,l.jsxs)("select",{value:q.bom.product_id,onChange:e=>J("bom","product_id",e.target.value),required:!0,children:[(0,l.jsx)("option",{value:"",children:"Select Product"}),(b.products||[]).map(e=>(0,l.jsxs)("option",{value:e.id,children:[e.name," - ",e.sku]},e.id))]})]}),(0,l.jsxs)("div",{className:"bom-lines-section",children:[(0,l.jsx)("h4",{children:"Raw Material Lines"}),L.map(e=>(0,l.jsx)("div",{className:"bom-line",children:(0,l.jsxs)("div",{className:"form-row",children:[(0,l.jsxs)("div",{className:"form-group",style:{flex:"2"},children:[(0,l.jsx)("label",{children:"Raw Material *"}),(0,l.jsxs)("select",{value:e.raw_material_id,onChange:t=>ae(e.id,"raw_material_id",t.target.value),required:!0,children:[(0,l.jsx)("option",{value:"",children:"Select Raw Material"}),(b.rawMaterials||[]).map(e=>(0,l.jsxs)("option",{value:e.id,children:[e.name," - ",e.sku]},e.id))]})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Qty per Unit *"}),(0,l.jsx)("input",{type:"number",step:"0.01",value:e.qty_per_unit,onChange:t=>ae(e.id,"qty_per_unit",t.target.value),placeholder:"0.00",required:!0})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Unit *"}),(0,l.jsxs)("select",{value:e.unit,onChange:t=>ae(e.id,"unit",t.target.value),required:!0,children:[(0,l.jsx)("option",{value:"kg",children:"kg"}),(0,l.jsx)("option",{value:"g",children:"g"}),(0,l.jsx)("option",{value:"L",children:"L"}),(0,l.jsx)("option",{value:"mL",children:"mL"}),(0,l.jsx)("option",{value:"m",children:"m"}),(0,l.jsx)("option",{value:"cm",children:"cm"}),(0,l.jsx)("option",{value:"pcs",children:"pcs"}),(0,l.jsx)("option",{value:"box",children:"box"}),(0,l.jsx)("option",{value:"roll",children:"roll"}),(0,l.jsx)("option",{value:"pack",children:"pack"})]})]}),(0,l.jsxs)("div",{className:"form-group",style:{flex:"0"},children:[(0,l.jsx)("label",{children:"\xa0"}),(0,l.jsx)("button",{type:"button",className:"btn btn-danger",onClick:()=>{return t=e.id,void D(L.filter(e=>e.id!==t));var t},disabled:1===L.length,children:"\xd7"})]})]})},e.id)),(0,l.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:function(){D([...L,{id:Date.now(),raw_material_id:"",qty_per_unit:"",unit:"kg"}])},style:{marginTop:"10px"},children:"\u017e\u2022 Add Raw Material Line"})]}),(0,l.jsxs)("div",{className:"modal-actions",children:[(0,l.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>o(""),children:"Cancel"}),(0,l.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:u,children:u?"Saving...":"Save BOM"})]})]}),"productionOrder"===i&&(0,l.jsxs)("form",{onSubmit:async function(e){e.preventDefault();try{if(!q.productionOrder.product_id||!q.productionOrder.quantity_planned)throw new Error("Product and quantity required");m(!0);const e={product_id:q.productionOrder.product_id,quantity_planned:Number(q.productionOrder.quantity_planned),scheduled_start_date:q.productionOrder.scheduled_start_date?"".concat(q.productionOrder.scheduled_start_date,"T00:00:00"):null,scheduled_end_date:q.productionOrder.scheduled_end_date?"".concat(q.productionOrder.scheduled_end_date,"T00:00:00"):null,priority:Number(q.productionOrder.priority||5),notes:q.productionOrder.notes||null};console.log("Production order payload:",e);const t=await fetch("/api/production/orders",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const e=await t.json();throw console.error("Production order error:",e),new Error(e.detail||"Failed to create production order")}W("Production order created","success"),o(""),G("productionOrder"),$("production")}catch(e){W("Production order error: ".concat(e.message),"error")}finally{m(!1)}},children:[(0,l.jsxs)("div",{className:"form-row",children:[(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Product *"}),(0,l.jsxs)("select",{value:q.productionOrder.product_id,onChange:e=>J("productionOrder","product_id",e.target.value),required:!0,children:[(0,l.jsx)("option",{value:"",children:"Select product"}),(b.products||[]).map(e=>(0,l.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Quantity Planned *"}),(0,l.jsx)("input",{type:"number",value:q.productionOrder.quantity_planned,onChange:e=>J("productionOrder","quantity_planned",e.target.value),required:!0})]})]}),(0,l.jsxs)("div",{className:"form-row",children:[(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Start Date"}),(0,l.jsx)("input",{type:"date",value:q.productionOrder.scheduled_start_date,onChange:e=>J("productionOrder","scheduled_start_date",e.target.value)})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"End Date"}),(0,l.jsx)("input",{type:"date",value:q.productionOrder.scheduled_end_date,onChange:e=>J("productionOrder","scheduled_end_date",e.target.value)})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Priority"}),(0,l.jsx)("input",{type:"number",value:q.productionOrder.priority,onChange:e=>J("productionOrder","priority",e.target.value)})]})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Notes"}),(0,l.jsx)("textarea",{rows:"2",value:q.productionOrder.notes,onChange:e=>J("productionOrder","notes",e.target.value)})]}),(0,l.jsxs)("div",{className:"modal-actions",children:[(0,l.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>o(""),children:"Cancel"}),(0,l.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:u,children:u?"Saving...":"Create Production Order"})]})]})]})]})}),u&&(0,l.jsx)("div",{className:"loading-overlay",children:(0,l.jsx)("div",{className:"loading-spinner",children:"\x8f\xb3 Loading..."})})]})]});async function ie(e){const t=document.getElementById("clockPinInput"),n=t.value.trim();if(n&&4===n.length)try{m(!0);const a=await fetch("/api/attendance/quick-attendance",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({pin:n,action:e,notes:""})}),r=await a.json();r.success?(W("".concat(r.message," - ").concat(r.staff_name),"success"),t.value="",$("attendance")):W(r.message,"error")}catch(a){W("Error: ".concat(a.message),"error")}finally{m(!1)}else W("Please enter a valid 4-digit PIN","error")}};const f=function(e){let{currentUser:t}=e;const[n,r]=(0,a.useState)("general"),[i,o]=(0,a.useState)(null),[c,d]=(0,a.useState)(!0),[u,h]=(0,a.useState)(!1),[m,f]=(0,a.useState)(""),[g,v]=(0,a.useState)([]),[x,b]=(0,a.useState)([]),[y,j]=(0,a.useState)({}),[w,k]=(0,a.useState)(null),[_,N]=(0,a.useState)([]);(0,a.useEffect)(()=>{S(),t&&"admin"===t.role&&(C(),P(),E())},[t]);const S=async()=>{try{const e=await fetch("".concat(s,"/api/settings/")),t=await e.json();o(t)}catch(e){console.error("Error fetching settings:",e)}finally{d(!1)}},C=async()=>{try{const e=await fetch("".concat(s,"/api/auth/users"));if(!e.ok)return console.warn("Users endpoint not available yet"),void v([]);const t=await e.json();v(Array.isArray(t)?t:[])}catch(e){console.error("Error fetching users:",e),v([])}},P=async()=>{try{const e=await fetch("".concat(s,"/api/permissions/"));if(!e.ok)return console.warn("Permissions endpoint not available yet"),void b([]);const t=await e.json();b(Array.isArray(t)?t:[])}catch(e){console.error("Error fetching permissions:",e),b([])}},E=async()=>{try{const e=await fetch("".concat(s,"/api/permissions/modules"));if(!e.ok)return console.warn("Modules endpoint not available yet"),void j({});const t=await e.json();j(t&&"object"===typeof t?t:{})}catch(e){console.error("Error fetching modules:",e),j({})}},M=(e,t)=>{o(p(p({},i),{},{[e]:t}))};if(c)return(0,l.jsx)("div",{className:"p-6 text-center",children:"Loading settings..."});const I=[{id:"general",label:"General",icon:""},{id:"localization",label:"Localization",icon:""},{id:"inventory",label:"Inventory",icon:""},{id:"sales",label:"Sales",icon:""},{id:"security",label:"Security",icon:""},{id:"modules",label:"Modules",icon:""},...t&&"admin"===t.role?[{id:"permissions",label:"User Permissions",icon:""}]:[]];return(0,l.jsxs)("div",{className:"settings-container",children:[(0,l.jsxs)("div",{className:"settings-header",children:[(0,l.jsx)("h2",{children:"System Settings"}),(0,l.jsx)("p",{children:"Configure your AstroBSM StockMaster system"})]}),(0,l.jsx)("div",{className:"settings-tabs",children:I.map(e=>(0,l.jsxs)("button",{className:"tab ".concat(n===e.id?"active":""),onClick:()=>r(e.id),children:[(0,l.jsx)("span",{className:"tab-icon",children:e.icon}),(0,l.jsx)("span",{className:"tab-label",children:e.label})]},e.id))}),(0,l.jsxs)("div",{className:"settings-content",children:["general"===n&&(0,l.jsxs)("div",{className:"settings-section",children:[(0,l.jsx)("h3",{children:"General Settings"}),(0,l.jsxs)("div",{className:"form-grid",children:[(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Company Name"}),(0,l.jsx)("input",{type:"text",value:i.company_name||"",onChange:e=>M("company_name",e.target.value)})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Theme Mode"}),(0,l.jsxs)("select",{value:i.theme_mode||"light",onChange:e=>M("theme_mode",e.target.value),children:[(0,l.jsx)("option",{value:"light",children:"Light"}),(0,l.jsx)("option",{value:"dark",children:"Dark"})]})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Primary Color"}),(0,l.jsx)("input",{type:"color",value:i.primary_color||"#3b82f6",onChange:e=>M("primary_color",e.target.value)})]})]})]}),"localization"===n&&(0,l.jsxs)("div",{className:"settings-section",children:[(0,l.jsx)("h3",{children:"Localization Settings"}),(0,l.jsxs)("div",{className:"form-grid",children:[(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Currency Code"}),(0,l.jsx)("input",{type:"text",value:i.currency_code||"NGN",onChange:e=>M("currency_code",e.target.value)})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Currency Symbol"}),(0,l.jsx)("input",{type:"text",value:i.currency_symbol||"\u20a6",onChange:e=>M("currency_symbol",e.target.value)})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Timezone"}),(0,l.jsx)("input",{type:"text",value:i.timezone||"Africa/Lagos",onChange:e=>M("timezone",e.target.value)})]})]})]}),"inventory"===n&&(0,l.jsxs)("div",{className:"settings-section",children:[(0,l.jsx)("h3",{children:"Inventory Settings"}),(0,l.jsxs)("div",{className:"form-grid",children:[(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Stock Valuation Method"}),(0,l.jsxs)("select",{value:i.stock_valuation_method||"FIFO",onChange:e=>M("stock_valuation_method",e.target.value),children:[(0,l.jsx)("option",{value:"FIFO",children:"FIFO (First In, First Out)"}),(0,l.jsx)("option",{value:"LIFO",children:"LIFO (Last In, First Out)"}),(0,l.jsx)("option",{value:"AVG",children:"Average Cost"})]})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Auto Generate SKU"}),(0,l.jsx)("input",{type:"checkbox",checked:i.auto_generate_sku||!1,onChange:e=>M("auto_generate_sku",e.target.checked)})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"SKU Prefix"}),(0,l.jsx)("input",{type:"text",value:i.sku_prefix||"PRD",onChange:e=>M("sku_prefix",e.target.value)})]})]})]}),"sales"===n&&(0,l.jsxs)("div",{className:"settings-section",children:[(0,l.jsx)("h3",{children:"Sales Settings"}),(0,l.jsxs)("div",{className:"form-grid",children:[(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Invoice Prefix"}),(0,l.jsx)("input",{type:"text",value:i.invoice_prefix||"INV",onChange:e=>M("invoice_prefix",e.target.value)})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Auto Numbering"}),(0,l.jsx)("input",{type:"checkbox",checked:i.invoice_auto_numbering||!1,onChange:e=>M("invoice_auto_numbering",e.target.checked)})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Sales Tax Enabled"}),(0,l.jsx)("input",{type:"checkbox",checked:i.sales_tax_enabled||!1,onChange:e=>M("sales_tax_enabled",e.target.checked)})]})]})]}),"security"===n&&(0,l.jsxs)("div",{className:"settings-section",children:[(0,l.jsx)("h3",{children:"Security Settings"}),(0,l.jsxs)("div",{className:"form-grid",children:[(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Minimum Password Length"}),(0,l.jsx)("input",{type:"number",value:i.password_min_length||8,onChange:e=>M("password_min_length",parseInt(e.target.value))})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Session Timeout (minutes)"}),(0,l.jsx)("input",{type:"number",value:i.session_timeout_minutes||30,onChange:e=>M("session_timeout_minutes",parseInt(e.target.value))})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Enable 2FA"}),(0,l.jsx)("input",{type:"checkbox",checked:i.enable_2fa||!1,onChange:e=>M("enable_2fa",e.target.checked)})]})]})]}),"modules"===n&&(0,l.jsxs)("div",{className:"settings-section",children:[(0,l.jsx)("h3",{children:"Module Management"}),(0,l.jsxs)("div",{className:"modules-grid",children:[(0,l.jsx)("div",{className:"module-card",children:(0,l.jsxs)("label",{children:[(0,l.jsx)("input",{type:"checkbox",checked:i.module_hr_enabled||!1,onChange:e=>M("module_hr_enabled",e.target.checked)}),(0,l.jsx)("span",{children:"HR Management"})]})}),(0,l.jsx)("div",{className:"module-card",children:(0,l.jsxs)("label",{children:[(0,l.jsx)("input",{type:"checkbox",checked:i.module_payroll_enabled||!1,onChange:e=>M("module_payroll_enabled",e.target.checked)}),(0,l.jsx)("span",{children:"Payroll"})]})}),(0,l.jsx)("div",{className:"module-card",children:(0,l.jsxs)("label",{children:[(0,l.jsx)("input",{type:"checkbox",checked:i.module_inventory_enabled||!1,onChange:e=>M("module_inventory_enabled",e.target.checked)}),(0,l.jsx)("span",{children:"Inventory"})]})}),(0,l.jsx)("div",{className:"module-card",children:(0,l.jsxs)("label",{children:[(0,l.jsx)("input",{type:"checkbox",checked:i.module_production_enabled||!1,onChange:e=>M("module_production_enabled",e.target.checked)}),(0,l.jsx)("span",{children:"Production"})]})}),(0,l.jsx)("div",{className:"module-card",children:(0,l.jsxs)("label",{children:[(0,l.jsx)("input",{type:"checkbox",checked:i.module_sales_enabled||!1,onChange:e=>M("module_sales_enabled",e.target.checked)}),(0,l.jsx)("span",{children:"Sales"})]})}),(0,l.jsx)("div",{className:"module-card",children:(0,l.jsxs)("label",{children:[(0,l.jsx)("input",{type:"checkbox",checked:i.module_accounting_enabled||!1,onChange:e=>M("module_accounting_enabled",e.target.checked)}),(0,l.jsx)("span",{children:"Accounting"})]})})]})]}),"permissions"===n&&t&&"admin"===t.role&&(0,l.jsxs)("div",{className:"settings-section",children:[(0,l.jsx)("h3",{children:"User Permissions Management"}),(0,l.jsx)("p",{style:{marginBottom:"20px",color:"#6b7280"},children:"Grant or revoke access to modules for users"}),(0,l.jsxs)("div",{className:"form-group",style:{marginBottom:"30px"},children:[(0,l.jsx)("label",{children:"Select User"}),(0,l.jsxs)("select",{value:w||"",onChange:e=>{k(e.target.value),e.target.value?(async e=>{try{const t=await fetch("".concat(s,"/api/permissions/user/").concat(e));if(!t.ok)return console.warn("User permissions endpoint not available yet"),void N([]);const n=await t.json();N(Array.isArray(n.permissions)?n.permissions.map(e=>e.id):[])}catch(t){console.error("Error fetching user permissions:",t),N([])}})(e.target.value):N([])},className:"form-control",children:[(0,l.jsx)("option",{value:"",children:"-- Select a user --"}),Array.isArray(g)&&g.map(e=>(0,l.jsxs)("option",{value:e.id,children:[e.full_name," (",e.email,") - ",e.role]},e.id))]})]}),w&&(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{style:{marginBottom:"15px",color:"#374151"},children:"Permissions"}),(0,l.jsx)("div",{className:"permissions-grid",children:y&&Object.keys(y).map(e=>(0,l.jsxs)("div",{className:"permission-module-card",children:[(0,l.jsx)("h5",{style:{marginBottom:"10px",color:"#4f46e5",textTransform:"capitalize"},children:e}),(0,l.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:Array.isArray(y[e])&&y[e].map(e=>(0,l.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[(0,l.jsx)("input",{type:"checkbox",checked:_.includes(e.id),onChange:()=>{return t=e.id,void(_.includes(t)?N(_.filter(e=>e!==t)):N([..._,t]));var t}}),(0,l.jsx)("span",{style:{fontSize:"14px"},children:e.display_name}),e.description&&(0,l.jsxs)("span",{style:{fontSize:"12px",color:"#9ca3af"},children:["- ",e.description]})]},e.id))})]},e))}),(0,l.jsx)("button",{onClick:async()=>{if(w){h(!0),f("");try{const e=await fetch("".concat(s,"/api/permissions/grant"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:w,permission_ids:_})}),t=await e.json();if(!e.ok)throw new Error(t.detail||"Failed to update permissions");f("\u2705 Permissions updated successfully!"),setTimeout(()=>f(""),3e3)}catch(e){f("\u274c Error: "+e.message)}finally{h(!1)}}},disabled:u,className:"save-button",style:{marginTop:"20px"},children:u?"Saving...":"Update Permissions"})]})]}),(0,l.jsxs)("div",{className:"settings-actions",children:[m&&(0,l.jsx)("div",{className:"message ".concat(m.includes("\u2705")?"success":"error"),children:m}),(0,l.jsx)("button",{className:"btn-save",onClick:async()=>{h(!0),f("");try{const e=await fetch("".concat(s,"/api/settings/"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}),t=await e.json();if(!e.ok)throw new Error(t.detail||"Failed to save settings");f("\u2705 Settings saved successfully!"),setTimeout(()=>f(""),3e3)}catch(e){f("\u274c Error: "+e.message)}finally{h(!1)}},disabled:u||"admin"!==(null===t||void 0===t?void 0:t.role),children:u?"Saving...":"Save Settings"}),"admin"!==(null===t||void 0===t?void 0:t.role)&&(0,l.jsx)("p",{className:"permission-note",children:"Only administrators can modify settings"})]})]}),(0,l.jsx)("style",{jsx:!0,children:'\n        .settings-container {\n          background: white;\n          border-radius: 12px;\n          box-shadow: 0 2px 8px rgba(0,0,0,0.1);\n          overflow: hidden;\n        }\n\n        .settings-header {\n          padding: 24px;\n          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n          color: white;\n        }\n\n        .settings-header h2 {\n          margin: 0 0 8px 0;\n          font-size: 24px;\n        }\n\n        .settings-header p {\n          margin: 0;\n          opacity: 0.9;\n        }\n\n        .settings-tabs {\n          display: flex;\n          border-bottom: 2px solid #e5e7eb;\n          background: #f9fafb;\n          overflow-x: auto;\n        }\n\n        .tab {\n          padding: 16px 24px;\n          border: none;\n          background: none;\n          cursor: pointer;\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          transition: all 0.2s;\n          border-bottom: 3px solid transparent;\n          white-space: nowrap;\n        }\n\n        .tab:hover {\n          background: #f3f4f6;\n        }\n\n        .tab.active {\n          border-bottom-color: #667eea;\n          background: white;\n          color: #667eea;\n          font-weight: 600;\n        }\n\n        .tab-icon {\n          font-size: 20px;\n        }\n\n        .settings-content {\n          padding: 24px;\n        }\n\n        .settings-section h3 {\n          margin: 0 0 20px 0;\n          color: #1f2937;\n        }\n\n        .form-grid {\n          display: grid;\n          grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n          gap: 20px;\n        }\n\n        .form-group label {\n          display: block;\n          margin-bottom: 8px;\n          font-weight: 600;\n          color: #374151;\n        }\n\n        .form-group input[type="text"],\n        .form-group input[type="number"],\n        .form-group select {\n          width: 100%;\n          padding: 10px 12px;\n          border: 1px solid #d1d5db;\n          border-radius: 6px;\n          font-size: 14px;\n        }\n\n        .form-group input[type="checkbox"] {\n          width: 20px;\n          height: 20px;\n          cursor: pointer;\n        }\n\n        .form-group input[type="color"] {\n          width: 100%;\n          height: 44px;\n          border: 1px solid #d1d5db;\n          border-radius: 6px;\n          cursor: pointer;\n        }\n\n        .modules-grid {\n          display: grid;\n          grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));\n          gap: 16px;\n        }\n\n        .module-card {\n          padding: 16px;\n          border: 2px solid #e5e7eb;\n          border-radius: 8px;\n          transition: all 0.2s;\n        }\n\n        .module-card:hover {\n          border-color: #667eea;\n          background: #f9fafb;\n        }\n\n        .module-card label {\n          display: flex;\n          align-items: center;\n          gap: 12px;\n          cursor: pointer;\n          font-weight: 500;\n        }\n\n        .settings-actions {\n          margin-top: 32px;\n          padding-top: 24px;\n          border-top: 2px solid #e5e7eb;\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          gap: 12px;\n        }\n\n        .message {\n          padding: 12px 24px;\n          border-radius: 6px;\n          font-weight: 500;\n        }\n\n        .message.success {\n          background: #d1fae5;\n          color: #065f46;\n        }\n\n        .message.error {\n          background: #fee2e2;\n          color: #991b1b;\n        }\n\n        .btn-save {\n          padding: 12px 48px;\n          background: #667eea;\n          color: white;\n          border: none;\n          border-radius: 8px;\n          font-size: 16px;\n          font-weight: 600;\n          cursor: pointer;\n          transition: all 0.2s;\n        }\n\n        .btn-save:hover:not(:disabled) {\n          background: #5568d3;\n          transform: translateY(-1px);\n          box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);\n        }\n\n        .btn-save:disabled {\n          opacity: 0.5;\n          cursor: not-allowed;\n        }\n\n        .permission-note {\n          color: #6b7280;\n          font-size: 14px;\n          font-style: italic;\n        }\n      '})]})};function g(e){const t=(e+"=".repeat((4-e.length%4)%4)).replace(/-/g,"+").replace(/_/g,"/"),n=window.atob(t),a=new Uint8Array(n.length);for(let r=0;r<n.length;++r)a[r]=n.charCodeAt(r);return a}function v(){return"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window}function x(){return"Notification"in window?Notification.permission:"unsupported"}async function b(){if(!v())throw new Error("Push notifications are not supported in this browser");if("granted"!==await async function(){return"Notification"in window?await Notification.requestPermission():(console.warn("Notifications not supported"),"unsupported")}())throw new Error("Notification permission denied");const e=await navigator.serviceWorker.ready;let t=await e.pushManager.getSubscription();t||(t=await e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:g("BCNDdkFgeDx5Z4pds1SBkokEehIKOMXmfw4bn9804AqUM3brbDWac3gaciTfULA2eOKKfKyhPujzC1toVrlQQzY")}));const n=localStorage.getItem("access_token");if(!(await fetch("/api/notifications/subscribe",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)},body:JSON.stringify({subscription:t.toJSON()})})).ok)throw new Error("Failed to register push subscription on server");return t}const y=function(e){let{onClose:t}=e;const[n,r]=(0,a.useState)("default"),[s,i]=(0,a.useState)(!1),[o,c]=(0,a.useState)(!0),[d,u]=(0,a.useState)(""),[p,h]=(0,a.useState)("");(0,a.useEffect)(()=>{m()},[]);const m=async()=>{c(!0);try{r(x());const e=await async function(){if(!v())return!1;const e=await navigator.serviceWorker.ready;return!!await e.pushManager.getSubscription()}();i(e)}catch(e){u("Failed to check notification status")}c(!1)};return v()?(0,l.jsxs)("div",{className:"notification-settings",children:[(0,l.jsxs)("div",{className:"settings-header",children:[(0,l.jsx)("h3",{children:"Push Notification Settings"}),t&&(0,l.jsx)("button",{className:"close-btn",onClick:t,children:"\xd7"})]}),d&&(0,l.jsx)("div",{className:"error-message",children:d}),p&&(0,l.jsx)("div",{className:"success-message",children:p}),(0,l.jsxs)("div",{className:"setting-item",children:[(0,l.jsx)("label",{children:"Notification Permission"}),(0,l.jsx)("div",{className:"status-badge ".concat(n),children:"granted"===n?"Allowed":"denied"===n?"Blocked":"Not Set"})]}),(0,l.jsxs)("div",{className:"setting-item",children:[(0,l.jsx)("label",{children:"Push Subscription"}),(0,l.jsx)("div",{className:"status-badge ".concat(s?"active":"inactive"),children:s?"Active":"Not Subscribed"})]}),"denied"===n&&(0,l.jsxs)("div",{className:"warning-box",children:["Notifications are blocked. Please enable them in your browser settings:",(0,l.jsx)("br",{}),(0,l.jsx)("small",{children:"Chrome: Click the lock icon in address bar \u2192 Site Settings \u2192 Notifications"})]}),(0,l.jsx)("div",{className:"setting-actions",children:s?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("button",{className:"btn btn-secondary",onClick:async()=>{c(!0),u("");try{await async function(){const e=localStorage.getItem("access_token"),t=await fetch("/api/notifications/test",{method:"POST",headers:{Authorization:"Bearer ".concat(e)}});if(!t.ok)throw new Error("Failed to send test notification");return t.json()}(),h("Test notification sent! Check your notifications.")}catch(e){u(e.message||"Failed to send test notification")}c(!1)},disabled:o,children:o?"Sending...":"Send Test Notification"}),(0,l.jsx)("button",{className:"btn btn-danger",onClick:async()=>{c(!0),u(""),h("");try{await async function(){const e=await navigator.serviceWorker.ready,t=await e.pushManager.getSubscription();if(t){const e=localStorage.getItem("access_token");await fetch("/api/notifications/unsubscribe",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify({endpoint:t.endpoint})}),await t.unsubscribe()}return!0}(),i(!1),h("Push notifications disabled")}catch(e){u(e.message||"Failed to disable notifications")}c(!1)},disabled:o,children:o?"Disabling...":"Disable Notifications"})]}):(0,l.jsx)("button",{className:"btn btn-primary",onClick:async()=>{c(!0),u(""),h("");try{await b(),i(!0),r("granted"),h("Push notifications enabled successfully!")}catch(e){u(e.message||"Failed to enable notifications")}c(!1)},disabled:o||"denied"===n,children:o?"Enabling...":"Enable Push Notifications"})}),(0,l.jsxs)("div",{className:"notification-types",children:[(0,l.jsx)("h4",{children:"You'll receive notifications for:"}),(0,l.jsxs)("ul",{children:[(0,l.jsxs)("li",{children:[(0,l.jsx)("strong",{children:"Low Stock Alerts"})," - When products fall below reorder level"]}),(0,l.jsxs)("li",{children:[(0,l.jsx)("strong",{children:"Order Updates"})," - Status changes on sales orders"]}),(0,l.jsxs)("li",{children:[(0,l.jsx)("strong",{children:"Birthday Reminders"})," - Staff birthdays"]}),(0,l.jsxs)("li",{children:[(0,l.jsx)("strong",{children:"Production Updates"})," - Production order completions"]}),(0,l.jsxs)("li",{children:[(0,l.jsx)("strong",{children:"Payment Notifications"})," - Payment received alerts"]})]})]}),(0,l.jsx)("style",{jsx:!0,children:"\n        .notification-settings {\n          padding: 20px;\n        }\n        .settings-header {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          margin-bottom: 20px;\n        }\n        .settings-header h3 {\n          margin: 0;\n        }\n        .close-btn {\n          background: none;\n          border: none;\n          font-size: 24px;\n          cursor: pointer;\n          color: #666;\n        }\n        .setting-item {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          padding: 12px 0;\n          border-bottom: 1px solid #eee;\n        }\n        .status-badge {\n          padding: 4px 12px;\n          border-radius: 20px;\n          font-size: 12px;\n          font-weight: 600;\n        }\n        .status-badge.granted, .status-badge.active {\n          background: #d4edda;\n          color: #155724;\n        }\n        .status-badge.denied {\n          background: #f8d7da;\n          color: #721c24;\n        }\n        .status-badge.default, .status-badge.inactive {\n          background: #fff3cd;\n          color: #856404;\n        }\n        .warning-box {\n          background: #fff3cd;\n          border: 1px solid #ffc107;\n          border-radius: 8px;\n          padding: 12px;\n          margin: 16px 0;\n          color: #856404;\n        }\n        .error-message {\n          background: #f8d7da;\n          border: 1px solid #f5c6cb;\n          border-radius: 8px;\n          padding: 12px;\n          margin-bottom: 16px;\n          color: #721c24;\n        }\n        .success-message {\n          background: #d4edda;\n          border: 1px solid #c3e6cb;\n          border-radius: 8px;\n          padding: 12px;\n          margin-bottom: 16px;\n          color: #155724;\n        }\n        .setting-actions {\n          display: flex;\n          gap: 12px;\n          margin-top: 20px;\n        }\n        .btn {\n          padding: 10px 20px;\n          border: none;\n          border-radius: 8px;\n          cursor: pointer;\n          font-weight: 600;\n          transition: opacity 0.2s;\n        }\n        .btn:disabled {\n          opacity: 0.6;\n          cursor: not-allowed;\n        }\n        .btn-primary {\n          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n          color: white;\n        }\n        .btn-secondary {\n          background: #6c757d;\n          color: white;\n        }\n        .btn-danger {\n          background: #dc3545;\n          color: white;\n        }\n        .notification-types {\n          margin-top: 24px;\n          padding-top: 16px;\n          border-top: 1px solid #eee;\n        }\n        .notification-types h4 {\n          margin-bottom: 12px;\n        }\n        .notification-types ul {\n          list-style: none;\n          padding: 0;\n        }\n        .notification-types li {\n          padding: 8px 0;\n          color: #666;\n        }\n        .notification-types li strong {\n          color: #333;\n        }\n      "})]}):(0,l.jsxs)("div",{className:"notification-settings",children:[(0,l.jsx)("h3",{children:"Push Notifications"}),(0,l.jsx)("div",{className:"warning-box",children:"Push notifications are not supported in this browser. Try using Chrome, Firefox, or Edge."})]})};const j=function(){var e;const[t,n]=(0,a.useState)(!1),[r,o]=(0,a.useState)(null),[c,d]=(0,a.useState)(!1),[u,p]=(0,a.useState)(!1),[h,g]=(0,a.useState)(null),[j,w]=(0,a.useState)(!1),[k,_]=(0,a.useState)(navigator.onLine);(0,a.useEffect)(()=>{const e=localStorage.getItem("access_token"),t=localStorage.getItem("user");if(e&&t)try{o(JSON.parse(t)),n(!0),v()&&"granted"===x()&&b().catch(e=>console.log("Push subscription check:",e))}catch(l){console.error("Error parsing user data:",l),localStorage.clear()}const a=e=>{e.preventDefault(),g(e),w(!0)},r=()=>_(!0),s=()=>_(!1);return window.addEventListener("beforeinstallprompt",a),window.addEventListener("online",r),window.addEventListener("offline",s),window.addEventListener("appinstalled",()=>{console.log("\u2705 ASTRO-ASIX PWA installed successfully!"),w(!1),g(null)}),()=>{window.removeEventListener("beforeinstallprompt",a),window.removeEventListener("online",r),window.removeEventListener("offline",s)}},[]);const N=e=>{o(e),n(!0)};return t?(0,l.jsxs)("div",{style:{display:"flex",flexDirection:"column",height:"100vh",background:"#f3f4f6"},children:[(0,l.jsxs)("nav",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"16px 24px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:[(0,l.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,l.jsx)("img",{src:"/company-logo.png",alt:"AstroBSM StockMaster",style:{width:"50px",height:"50px",objectFit:"contain",background:"white",padding:"6px",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},onError:e=>{e.target.style.display="none"}}),(0,l.jsx)("h1",{style:{margin:0,fontSize:"24px",fontWeight:"bold"},children:"AstroBSM StockMaster"}),!k&&(0,l.jsx)("span",{style:{marginLeft:"12px",padding:"4px 10px",background:"#ff6b6b",borderRadius:"12px",fontSize:"11px",fontWeight:600},children:"OFFLINE"})]}),(0,l.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"24px"},children:[(0,l.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end"},children:[(0,l.jsx)("span",{style:{fontWeight:600,fontSize:"16px"},children:null===r||void 0===r?void 0:r.full_name}),(0,l.jsx)("span",{style:{fontSize:"12px",opacity:.9,padding:"2px 8px",background:"rgba(255,255,255,0.2)",borderRadius:"12px",marginTop:"4px"},children:null===r||void 0===r||null===(e=r.role)||void 0===e?void 0:e.replace("_"," ").toUpperCase()})]}),(0,l.jsxs)("div",{style:{display:"flex",gap:"12px"},children:[j&&(0,l.jsx)("button",{onClick:async()=>{if(!h)return;h.prompt();const{outcome:e}=await h.userChoice;"accepted"===e?console.log("\u2705 User accepted the install prompt"):console.log("\u274c User dismissed the install prompt"),g(null),w(!1)},style:{padding:"8px 16px",border:"2px solid white",background:"rgba(255,255,255,0.2)",color:"white",borderRadius:"6px",cursor:"pointer",fontWeight:600,display:"flex",alignItems:"center",gap:"6px"},title:"Install ASTRO-ASIX as an app",children:"Install App"}),(0,l.jsx)("button",{onClick:()=>p(!u),style:{padding:"8px 16px",border:"2px solid white",background:u?"rgba(255,255,255,0.3)":"rgba(255,255,255,0.1)",color:"white",borderRadius:"6px",cursor:"pointer",fontWeight:600},title:"Notification Settings",children:"\ud83d\udd14"}),"admin"===(null===r||void 0===r?void 0:r.role)&&(0,l.jsx)("button",{onClick:()=>d(!c),style:{padding:"8px 16px",border:"2px solid white",background:"rgba(255,255,255,0.1)",color:"white",borderRadius:"6px",cursor:"pointer",fontWeight:600},children:"Settings"}),(0,l.jsx)("button",{onClick:()=>{const e=localStorage.getItem("access_token");e&&fetch("".concat(s,"/api/auth/logout"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e})}).catch(e=>console.error("Logout error:",e)),localStorage.removeItem("access_token"),localStorage.removeItem("user"),n(!1),o(null),d(!1)},style:{padding:"8px 16px",border:"2px solid white",background:"rgba(255,255,255,0.1)",color:"white",borderRadius:"6px",cursor:"pointer",fontWeight:600},children:"Logout"})]})]})]}),u&&(0,l.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:(0,l.jsx)("div",{style:{background:"white",borderRadius:"12px",maxWidth:"500px",width:"90%",maxHeight:"80vh",overflow:"auto",boxShadow:"0 20px 50px rgba(0,0,0,0.3)"},children:(0,l.jsx)(y,{onClose:()=>p(!1)})})}),(0,l.jsx)("div",{style:{flex:1,overflow:"auto",padding:"24px"},children:c?(0,l.jsx)(f,{currentUser:r}):(0,l.jsx)(m,{currentUser:r})})]}):(0,l.jsx)(i,{onLoginSuccess:N})};window.addEventListener("unhandledrejection",e=>{e.reason&&e.reason.message&&e.reason.message.includes("message channel closed")&&e.preventDefault()}),window.addEventListener("error",e=>{e.message&&e.message.includes("Extension")&&e.preventDefault()});const w=document.getElementById("root");(0,r.H)(w).render((0,l.jsx)(j,{})),"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.getRegistrations().then(e=>{const t=e.map(e=>e.unregister());Promise.all(t).then(()=>{console.log("\ud83e\uddf9 Cleared all old service workers"),navigator.serviceWorker.register("/serviceWorker.js").then(e=>{console.log("\u2705 Service Worker registered successfully:",e.scope),setInterval(()=>{e.update()},6e4),e.addEventListener("updatefound",()=>{const t=e.installing;t.addEventListener("statechange",()=>{"installed"===t.state&&navigator.serviceWorker.controller&&confirm("New version available! Reload to update?")&&(t.postMessage({type:"SKIP_WAITING"}),window.location.reload())})})}).catch(e=>{console.log("\u274c Service Worker registration failed:",e)})})})})})();
//# sourceMappingURL=main.51fd89a1.js.map